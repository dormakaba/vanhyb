!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@Apps/backbone"),require("react"),require("react-dom"),require("@dormakaba/vanguard"),require("classnames")):"function"==typeof define&&define.amd?define(["@Apps/backbone","react","react-dom","@dormakaba/vanguard","classnames"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).backbone,e.dormakaba.vendorReact["vendor/react"],e.dormakaba.vendorReact["vendor/react-dom"],e.DormakabaVanguard,e.dormakaba.vendorReact["vendor/classnames"])}(this,(function(e,t,r,n,s){"use strict";function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=a(t),i=a(s),l=function(e,t){return void 0===t&&(t=[]),e.replaceAll("{}",function(e){var t=0;return function(r){return""+e[t++]||r}}(t))},u=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{exports:{}}),c={},d=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function m(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==n.join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(e){s[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(e){return!1}})()&&Object.assign;var h=o.default,y=60103;if(c.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var v=Symbol.for;y=v("react.element"),c.Fragment=v("react.fragment")}var g=h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x=Object.prototype.hasOwnProperty,b={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,r){var n,s={},a=null,o=null;for(n in void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),void 0!==t.ref&&(o=t.ref),t)x.call(t,n)&&!b.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:y,type:e,key:a,ref:o,props:s,_owner:g.current}}c.jsx=w,c.jsxs=w;u.exports=c;var j=t.createContext(null),k=function(e){var r=e.appId,n=e.children,s=e.defaultValue,a=void 0===s?{}:s,o=t.useMemo((function(){if(!r)return a;var e='[data-react-app="'+r+'"]',t=document.querySelector(e);if(!t)throw new Error(e+" is missing");var n=t.querySelector("script");return null!=n&&n.innerHTML?JSON.parse(n.innerHTML):a}),[r,a]);return u.exports.jsx(j.Provider,{value:o,children:n})},S=t.createContext(null),O=function(e){var r=e.children,n=t.useState(new URL(location.href));return u.exports.jsx(S.Provider,{value:n,children:r})};function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var A=function(){var e=t.useContext(j),r=t.useCallback((function(t){var r,n=null==(r=e.translations)?void 0:r[t];if(n){for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];return a.length?l(n,a):n}return t}),[e]);return T(T({},e),{},{t:r})};function D(e,t,r,n,s,a,o){try{var i=e[a](o),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,s)}var N={exports:{}},V={exports:{}};!function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(V),function(e){var t=V.exports.default;function r(){e.exports=r=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var n={},s=Object.prototype,a=s.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function d(e,t,r,n){var s=t&&t.prototype instanceof m?t:m,a=Object.create(s.prototype),o=new _(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(s,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===s)throw a;return T()}for(r.method=s,r.arg=a;;){var o=r.delegate;if(o){var i=k(o,r);if(i){if(i===p)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=f(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}(e,r,o),a}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}n.wrap=d;var p={};function m(){}function h(){}function y(){}var v={};c(v,i,(function(){return this}));var g=Object.getPrototypeOf,x=g&&g(g(C([])));x&&x!==s&&a.call(x,i)&&(v=x);var b=y.prototype=m.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,r){function n(s,o,i,l){var u=f(e[s],e,o);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==t(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):r.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(u.arg)}var s;this._invoke=function(e,t){function a(){return new r((function(r,s){n(e,t,r,s)}))}return s=s?s.then(a,a):a()}}function k(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=f(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var s=n.arg;return s?s.done?(t[e.resultName]=s.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):s:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:T}}function T(){return{value:void 0,done:!0}}return h.prototype=y,c(b,"constructor",y),c(y,"constructor",h),h.displayName=c(y,u,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,u,"GeneratorFunction")),e.prototype=Object.create(b),e},n.awrap=function(e){return{__await:e}},w(j.prototype),c(j.prototype,l,(function(){return this})),n.AsyncIterator=j,n.async=function(e,t,r,s,a){void 0===a&&(a=Promise);var o=new j(d(e,t,r,s),a);return n.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},w(b),c(b,u,"Generator"),c(b,i,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},n.values=C,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return o.type="throw",o.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n],o=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var i=a.call(s,"catchLoc"),l=a.call(s,"finallyLoc");if(i&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(i){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var s=n;break}}s&&("break"===e||"continue"===e)&&s.tryLoc<=t&&t<=s.finallyLoc&&(s=null);var o=s?s.completion:{};return o.type=e,o.arg=t,s?(this.method="next",this.next=s.finallyLoc,p):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var s=n.arg;O(r)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(N);var F=N.exports(),E=F;try{regeneratorRuntime=F}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=F:Function("r","regeneratorRuntime = r")(F)}var P="vanguard.keysystem.header.standard",$="vanguard.keysystem.header.standard.category",M="vanguard.keysystem.header.standard.category.placeholder",L="mks.Systemheader.CategoryType",I="vanguard.keysystem.header.standard.technology",R="vanguard.keysystem.header.standard.technology.placeholder",B="vanguard.keysystem.header.standard.systemLanguage",q="vanguard.keysystem.header.standard.systemLanguage.placeholder",U="mks.Systemheader.Language",H="vanguard.keysystem.header.epos",z="vanguard.keysystem.header.property",Y="vanguard.keysystem.header.property.description",W="vanguard.keysystem.new",G="vanguard.keysystem.new.header",J="vanguard.keysystem.new.electronic",K="vanguard.keysystem.keyPlan",Q="vanguard.keysystem.new.prev",Z="vanguard.keysystem.new.next",X="vanguard.keysystem.header.epos.name",ee="vanguard.keysystem.header.epos.status",te="vanguard.keysystem.header.epos.technology",re="vanguard.keysystem.header.epos.add",ne="vanguard.keysystem.header.epos.status.active",se="vanguard.keysystem.header.epos.status.inactive",ae="vanguard.keysystem.header.property.address",oe="vanguard.keysystem.keyPlan.keysCylinders",ie="vanguard.keysystem.keyPlan.key.lockingPosition",le="vanguard.keysystem.keyPlan.key.epos",ue="vanguard.keysystem.keyPlan.key.function",ce="vanguard.keysystem.keyPlan.key.product",de="vanguard.keysystem.keyPlan.key.configuration",fe="vanguard.keysystem.keyPlan.key.quantity",pe="vanguard.keysystem.keyplan.pagination.gotoPage",me="vanguard.keysystem.keyplan.pagination.pageOf",he="vanguard.keysystem.keyplan.pagination.show",ye="vanguard.keysystem.keyplan.filters.all",ve="vanguard.keysystem.keyplan.filters.searchNRecords",ge=t.createContext(null),xe=function(){return t.useContext(ge)},be=function(r){var n=r.children,s=t.useState("headerData"),a=s[0],o=s[1],i=t.useState({}),l=i[0],c=i[1],d=e.store.api.keysystem.useGetDeliveryCountriesQuery().data,f=t.useMemo((function(){return{pageName:a,setPageName:function(e){return o(e)},address:l,setAddress:function(e){return c(e)},availableCountries:null==d?void 0:d.countries}}),[a,l,d]);return u.exports.jsx(ge.Provider,{value:f,children:n})},we=function(){var e=xe(),t=e.pageName,r=e.setPageName,s=A().t;return u.exports.jsxs("div",{className:"flex justify-between items-center h-14 px-4 border",children:[u.exports.jsx("div",{children:"keyPlan"===t&&u.exports.jsxs("div",{className:"flex justify-center items-center cursor-pointer mr-2",onClick:function(){return r("headerData")},children:[u.exports.jsx(n.Icon,{type:"arrowleft"}),u.exports.jsx(n.Text,{color:"primary",bold:!0,children:s(Q)})]})}),u.exports.jsx("div",{children:"headerData"===t&&u.exports.jsxs("div",{className:"flex justify-center items-center cursor-pointer mr-2",onClick:function(){return r("keyPlan")},children:[u.exports.jsx(n.Text,{color:"primary",bold:!0,children:s(Z)}),u.exports.jsx(n.Icon,{type:"arrowright"})]})})]})},je=function(e){var t=e.keyTypeName,r=e.onClose,s=e.onBackArrow,a=e.headerTitle,o=e.showArrow,i=void 0!==o&&o,l=A().t;return u.exports.jsxs("div",{className:"flex justify-between items-center h-14 px-4 border","data-testid":"header",children:[i&&u.exports.jsx("div",{className:"flex justify-center items-center h-5 w-5 cursor-pointer",onClick:s,children:u.exports.jsx(n.Icon,{type:"arrowleft",testid:"arrowLeftIcon"})}),u.exports.jsx(n.Text,{type:"h3",color:"primary",size:"xl",bold:!0,children:l(W)+" - "+l(t)+" - "+l(a)}),u.exports.jsx("div",{className:"flex justify-center items-center h-5 w-5 cursor-pointer",onClick:r,children:u.exports.jsx(n.Icon,{type:"close",className:"text-red-500",color:"#ff426c",testid:"closeIcon"})})]})},ke=function(){var e="headerData"===xe().pageName?G:K;return u.exports.jsx(je,{headerTitle:e,keyTypeName:J,onBackArrow:function(){},onClose:function(){}})},Se=function(e){var t=e.name,r=e.technology,s=e.isTitle,a=void 0!==s&&s,o=e.status,i=A().t;return u.exports.jsxs("div",{className:"flex justify-between items-center mt-2 pb-2 border-b border-b-text-gray-300","data-testid":"row",children:[u.exports.jsx("div",{className:"w-1/3",children:u.exports.jsx(n.Text,{size:"sm",color:"gray",bold:a,testid:"name",children:i(t)})}),u.exports.jsx("div",{className:"w-1/3",children:u.exports.jsx(n.Text,{size:"sm",color:"gray",bold:a,testid:"technology",children:i(r)})}),u.exports.jsx("div",{className:"w-1/4",children:u.exports.jsx(n.Text,{size:"sm",color:"gray",bold:a,testid:"status",children:i(o)})}),u.exports.jsx("div",{className:"w-12 h-12",children:!a&&u.exports.jsx(n.ActionsMenu,{})})]})},Oe=function(){var t,r=A(),s=r.headPositionCode,a=r.t,o=e.store.api.keysystem.useGetEposQuery({headPositionCode:s}).data;return u.exports.jsxs(n.Tile,{header:H,className:"mt-4",isAccordionType:!0,testid:"eposTile",children:[u.exports.jsx(Se,{name:X,technology:te,status:ee,isTitle:!0}),null==o||null==(t=o.electronicPositions)?void 0:t.map((function(e,t){var r=e.authMediaTechnology,n=r.eposName,s=r.technology,a=e.deactivated;return u.exports.jsx(Se,{name:n,technology:s,status:a?se:ne},""+n+s+t)})),u.exports.jsx("button",{className:"flex justify-end mt-6 cursor-pointer",onClick:function(){},children:u.exports.jsx(n.Text,{color:"primary",transform:["underline","capitalize"],bold:!0,children:a(re)})})]})},_e=function(r){var n=t.useState([]),s=n[0],a=n[1],o=e.store.api.keysystem.useSearchProductsMutation()[0],i=t.useCallback(function(){var e,t=(e=E.mark((function e(t){var n,s;return E.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o({technicalSystem:"K30",emksProductType:r.toUpperCase(),searchTerm:t,page:0}).unwrap();case 3:n=e.sent,s=n.data,a(s.products),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,r=arguments;return new Promise((function(n,s){var a=e.apply(t,r);function o(e){D(a,n,s,o,i,"next",e)}function i(e){D(a,n,s,o,i,"throw",e)}o(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[o,r]);return t.useMemo((function(){return{products:s,handleProductSearch:i}}),[i,s])},Ce=function(e){var t=e.value,r=e.column,s=e.row,a=e.selectedKeyTab,o=e.updateCallback,i=_e(a),l=i.products,c=i.handleProductSearch;return u.exports.jsx(n.AutocompleteInput,{className:"border border-gray-500",dropdownClassName:"w-64",initialValue:t.toString(),items:l.map((function(e){return e.name+", "+e.code})),onDispatchSearch:c,onItemSelect:function(e){var t=l[e].name;o("update",s,r,t)}})},Te=t.memo(Ce);function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ne={pos:"",epos:"epos1",function:"",product:"",configuration:"",quantity:0,cellsToDisable:void 0},Ve=function(){var r,s,a=t.useState([Ne]),o=a[0],i=a[1],l=t.useState(!1),c=l[0],d=l[1],f=t.useState("key"),p=f[0],m=f[1],h=(r=A().headPositionCode,{businessCase:null==(s=e.store.api.keysystem.useGetHeadPositionQuery({headPositionCode:r}).data)?void 0:s.businessCase}).businessCase,y=A().t,v=t.useMemo((function(){return{gotoPage:y(pe),pageOf:y(me),show:y(he),all:y(ye),searchNRecords:y(ve)}}),[y]),g=t.useCallback((function(e,t,r,n){void 0!==t&&(d(!0),i((function(s){switch(e){case"create":return s.splice(t+1,0,{pos:s[t].pos||"",epos:"",function:s[t].function||"",product:"",configuration:"",quantity:0,cellsToDisable:""!==s[t].pos&&"REORDER"===h?["pos"]:void 0}),[].concat(s);case"delete":return s.splice(t,1),[].concat(s);case"copy":var a=De({},s[t]);return a.quantity=0,a.cellsToDisable="REORDER"===h||"EXTENSION"===h?["pos"]:void 0,s.splice(t+1,0,a),[].concat(s);case"update":if(void 0===r)return[].concat(s);var o=s.map((function(e,a){var o;return a===t?De(De({},s[t]),{},((o={})[r]=n,o)):e}));return[].concat(o);default:return[].concat(s)}})))}),[h]),x=t.useMemo((function(){return[{Header:"",accessor:"keyIcon",cellElement:function(){return u.exports.jsx("div",{className:"flex justify-center items-center w-full h-full",children:u.exports.jsx(n.Icon,{type:"locked"})})},disableFilter:!0,disableSorting:!0,width:50},{Header:y(ie),accessor:"pos",customCellType:"textEdit",isSelectFilter:!0,width:100},{Header:y(le),accessor:"epos",isSelectFilter:!0,customCellType:"selectEdit",selectOptions:["epos1","epos2"]},{Header:y(ue),accessor:"function",customCellType:"textEdit"},{Header:y(ce),accessor:"product",isSelectFilter:!0,cellElement:function(e){var t=e.value,r=e.row.index,n=e.column.id;return u.exports.jsx(Te,{value:t,row:r,column:n,selectedKeyTab:p,updateCallback:g})}},{Header:y(de),accessor:"configuration",customCellType:"textEdit",width:350},{Header:y(fe),accessor:"quantity",customCellType:"numberEdit",width:75},{Header:"",accessor:"actions",customCellType:"tableModification",disableFilter:!0,disableSorting:!0,width:75}]}),[p,y,g]);return t.useEffect((function(){d(!1)}),[o]),u.exports.jsx(n.Tile,{header:y(oe),className:"my-2 px-4",testid:"keyAndCylindersTile",children:u.exports.jsxs("div",{className:"w-full pt-3",children:[u.exports.jsxs(n.Tabs,{onSelectTab:function(e){return m(e)},size:"sm",children:[u.exports.jsx(n.Tabs.Tab,{testid:"keysTab",tabKey:"key",title:"Keys",iconType:"locked"}),u.exports.jsx(n.Tabs.Tab,{testid:"cylindersTab",tabKey:"cylinder",title:"Cylinders",iconType:"cylinder"}),u.exports.jsx(n.Tabs.Tab,{testid:"securityCardsTab",tabKey:"securityCard",title:"Security Cards",iconType:"card"})]}),u.exports.jsx(n.DataTable,{className:"w-full",columns:x,data:o,updateData:g,skipPageReset:c,translations:v,disableDeletion:"EXTENSION"===h||"REORDER"===h})]})})},Fe=e=>"checkbox"===e.type,Ee=e=>e instanceof Date,Pe=e=>null==e;const $e=e=>"object"==typeof e;var Me=e=>!Pe(e)&&!Array.isArray(e)&&$e(e)&&!Ee(e),Le=e=>Me(e)&&e.target?Fe(e.target)?e.target.checked:e.target.value:e,Ie=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),Re=e=>Array.isArray(e)?e.filter(Boolean):[],Be=e=>void 0===e,qe=(e,t,r)=>{if(!t||!Me(e))return r;const n=Re(t.split(/[,[\].]+?/)).reduce(((e,t)=>Pe(e)?e:e[t]),e);return Be(n)||n===e?Be(e[t])?r:e[t]:n};const Ue="blur",He="focusout",ze="change",Ye="onBlur",We="onChange",Ge="onSubmit",Je="onTouched",Ke="all",Qe="max",Ze="min",Xe="maxLength",et="minLength",tt="pattern",rt="required",nt="validate",st=o.default.createContext(null),at=()=>o.default.useContext(st);var ot=(e,t,r,n=!0)=>{const s={};for(const a in e)Object.defineProperty(s,a,{get:()=>{const s=a;return t[s]!==Ke&&(t[s]=!n||Ke),r&&(r[s]=!0),e[s]}});return s},it=e=>Me(e)&&!Object.keys(e).length,lt=(e,t,r)=>{const{name:n,...s}=e;return it(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find((e=>t[e]===(!r||Ke)))},ut=e=>Array.isArray(e)?e:[e],ct=(e,t,r)=>r&&t?e===t:!e||!t||e===t||ut(e).some((e=>e&&(e.startsWith(t)||t.startsWith(e))));function dt(e){const t=o.default.useRef(e);t.current=e,o.default.useEffect((()=>{const r=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return()=>(e=>{e&&e.unsubscribe()})(r)}),[e.disabled])}var ft=e=>"string"==typeof e,pt=(e,t,r,n)=>{const s=Array.isArray(e);return ft(e)?(n&&t.watch.add(e),qe(r,e)):s?e.map((e=>(n&&t.watch.add(e),qe(r,e)))):(n&&(t.watchAll=!0),r)},mt=e=>"function"==typeof e,ht=e=>{for(const t in e)if(mt(e[t]))return!0;return!1};function yt(e){const t=at(),{name:r,control:n=t.control,shouldUnregister:s}=e,a=Ie(n._names.array,r),i=function(e){const t=at(),{control:r=t.control,name:n,defaultValue:s,disabled:a,exact:i}=e||{},l=o.default.useRef(n);l.current=n;const u=o.default.useCallback((e=>{if(ct(l.current,e.name,i)){const t=pt(l.current,r._names,e.values||r._formValues);d(Be(l.current)||Me(t)&&!ht(t)?{...t}:Array.isArray(t)?[...t]:Be(t)?s:t)}}),[r,i,s]);dt({disabled:a,subject:r._subjects.watch,callback:u});const[c,d]=o.default.useState(Be(s)?r._getWatch(n):s);return o.default.useEffect((()=>{r._removeUnmounted()})),c}({control:n,name:r,defaultValue:qe(n._formValues,r,qe(n._defaultValues,r,e.defaultValue)),exact:!0}),l=function(e){const t=at(),{control:r=t.control,disabled:n,name:s,exact:a}=e||{},[i,l]=o.default.useState(r._formState),u=o.default.useRef({isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),c=o.default.useRef(s),d=o.default.useRef(!0);return c.current=s,dt({disabled:n,callback:o.default.useCallback((e=>d.current&&ct(c.current,e.name,a)&&lt(e,u.current)&&l({...r._formState,...e})),[r,a]),subject:r._subjects.state}),o.default.useEffect((()=>(d.current=!0,()=>{d.current=!1})),[]),ot(i,r._proxyFormState,u.current,!1)}({control:n,name:r}),u=o.default.useRef(n.register(r,{...e.rules,value:i}));return o.default.useEffect((()=>{const e=(e,t)=>{const r=qe(n._fields,e);r&&(r._f.mount=t)};return e(r,!0),()=>{const t=n._options.shouldUnregister||s;(a?t&&!n._stateFlags.action:t)?n.unregister(r):e(r,!1)}}),[r,n,a,s]),{field:{name:r,value:i,onChange:o.default.useCallback((e=>{u.current.onChange({target:{value:Le(e),name:r},type:ze})}),[r]),onBlur:o.default.useCallback((()=>{u.current.onBlur({target:{value:qe(n._formValues,r),name:r},type:Ue})}),[r,n]),ref:o.default.useCallback((e=>{const t=qe(n._fields,r);e&&t&&e.focus&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}),[r,n._fields])},formState:l,fieldState:Object.defineProperties({},{invalid:{get:()=>!!qe(l.errors,r)},isDirty:{get:()=>!!qe(l.dirtyFields,r)},isTouched:{get:()=>!!qe(l.touchedFields,r)},error:{get:()=>qe(l.errors,r)}})}}const vt=e=>e.render(yt(e));var gt=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},xt=e=>/^\w*$/.test(e),bt=e=>Re(e.replace(/["|']|\]/g,"").split(/\.|\[/));function wt(e,t,r){let n=-1;const s=xt(t)?[t]:bt(t),a=s.length,o=a-1;for(;++n<a;){const t=s[n];let a=r;if(n!==o){const r=e[t];a=Me(r)||Array.isArray(r)?r:isNaN(+s[n+1])?{}:[]}e[t]=a,e=e[t]}return e}const jt=(e,t,r)=>{for(const n of r||Object.keys(e)){const r=qe(e,n);if(r){const{_f:e,...n}=r;if(e&&t(e.name)){if(e.ref.focus&&Be(e.ref.focus()))break;if(e.refs){e.refs[0].focus();break}}else Me(n)&&jt(n,t)}}};var kt=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))))),St="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function Ot(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(St&&(e instanceof Blob||e instanceof FileList)||!r&&!Me(e))return e;t=r?[]:{};for(const r in e){if(mt(e[r])){t=e;break}t[r]=Ot(e[r])}}return t}function _t(e,t){const r=xt(t)?[t]:bt(t),n=1==r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Be(e)?n++:e[t[n++]];return e}(e,r),s=r[r.length-1];let a;n&&delete n[s];for(let t=0;t<r.slice(0,-1).length;t++){let n,s=-1;const o=r.slice(0,-(t+1)),i=o.length-1;for(t>0&&(a=e);++s<o.length;){const t=o[s];n=n?n[t]:e[t],i===s&&(Me(n)&&it(n)||Array.isArray(n)&&!n.filter((e=>!Be(e))).length)&&(a?delete a[t]:delete e[t]),a=n}}return e}function Ct(){let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var Tt=e=>Pe(e)||!$e(e);function At(e,t){if(Tt(e)||Tt(t))return e===t;if(Ee(e)&&Ee(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const r=e[s];if(!n.includes(s))return!1;if("ref"!==s){const e=t[s];if(Ee(r)&&Ee(e)||Me(r)&&Me(e)||Array.isArray(r)&&Array.isArray(e)?!At(r,e):r!==e)return!1}}return!0}var Dt=e=>({isOnSubmit:!e||e===Ge,isOnBlur:e===Ye,isOnChange:e===We,isOnAll:e===Ke,isOnTouch:e===Je}),Nt=e=>"boolean"==typeof e,Vt=e=>"file"===e.type,Ft=e=>{const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Et=e=>"select-multiple"===e.type,Pt=e=>"radio"===e.type,$t=e=>Ft(e)&&e.isConnected;function Mt(e,t={}){const r=Array.isArray(e);if(Me(e)||r)for(const r in e)Array.isArray(e[r])||Me(e[r])&&!ht(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Mt(e[r],t[r])):Pe(e[r])||(t[r]=!0);return t}function Lt(e,t,r){const n=Array.isArray(e);if(Me(e)||n)for(const n in e)Array.isArray(e[n])||Me(e[n])&&!ht(e[n])?Be(t)||Tt(r[n])?r[n]=Array.isArray(e[n])?Mt(e[n],[]):{...Mt(e[n])}:Lt(e[n],Pe(t)?{}:t[n],r[n]):r[n]=!At(e[n],t[n]);return r}var It=(e,t)=>Lt(e,t,Mt(t));const Rt={value:!1,isValid:!1},Bt={value:!0,isValid:!0};var qt=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Be(e[0].attributes.value)?Be(e[0].value)||""===e[0].value?Bt:{value:e[0].value,isValid:!0}:Bt:Rt}return Rt},Ut=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Be(e)?e:t?""===e||Pe(e)?NaN:+e:r&&ft(e)?new Date(e):n?n(e):e;const Ht={isValid:!1,value:null};var zt=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),Ht):Ht;function Yt(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return Vt(t)?t.files:Pt(t)?zt(e.refs).value:Et(t)?[...t.selectedOptions].map((({value:e})=>e)):Fe(t)?qt(e.refs).value:Ut(Be(t.value)?e.ref.value:t.value,e)}var Wt=e=>e instanceof RegExp,Gt=e=>Be(e)?void 0:Wt(e)?e.source:Me(e)?Wt(e.value)?e.value.source:e.value:e;function Jt(e,t,r){const n=qe(e,r);if(n||xt(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const n=s.join("."),a=qe(t,n),o=qe(e,n);if(a&&!Array.isArray(a)&&r!==n)return{name:r};if(o&&o.type)return{name:n,error:o};s.pop()}return{name:r}}var Kt=e=>ft(e)||o.default.isValidElement(e);function Qt(e,t,r="validate"){if(Kt(e)||Array.isArray(e)&&e.every(Kt)||Nt(e)&&!e)return{type:r,message:Kt(e)?e:"",ref:t}}var Zt=e=>Me(e)&&!Wt(e)?e:{value:e,message:""},Xt=async(e,t,r,n)=>{const{ref:s,refs:a,required:o,maxLength:i,minLength:l,min:u,max:c,pattern:d,validate:f,name:p,valueAsNumber:m,mount:h,disabled:y}=e._f;if(!h||y)return{};const v=a?a[0]:s,g=e=>{n&&v.reportValidity&&(v.setCustomValidity(Nt(e)?"":e||" "),v.reportValidity())},x={},b=Pt(s),w=Fe(s),j=b||w,k=(m||Vt(s))&&!s.value||""===t||Array.isArray(t)&&!t.length,S=gt.bind(null,p,r,x),O=(e,t,r,n=Xe,a=et)=>{const o=e?t:r;x[p]={type:e?n:a,message:o,ref:s,...S(e?n:a,o)}};if(o&&(!j&&(k||Pe(t))||Nt(t)&&!t||w&&!qt(a).isValid||b&&!zt(a).isValid)){const{value:e,message:t}=Kt(o)?{value:!!o,message:o}:Zt(o);if(e&&(x[p]={type:rt,message:t,ref:v,...S(rt,t)},!r))return g(t),x}if(!(k||Pe(u)&&Pe(c))){let e,n;const a=Zt(c),o=Zt(u);if(Pe(t)||isNaN(t)){const r=s.valueAsDate||new Date(t);ft(a.value)&&(e=r>new Date(a.value)),ft(o.value)&&(n=r<new Date(o.value))}else{const r=s.valueAsNumber||+t;Pe(a.value)||(e=r>a.value),Pe(o.value)||(n=r<o.value)}if((e||n)&&(O(!!e,a.message,o.message,Qe,Ze),!r))return g(x[p].message),x}if((i||l)&&!k&&ft(t)){const e=Zt(i),n=Zt(l),s=!Pe(e.value)&&t.length>e.value,a=!Pe(n.value)&&t.length<n.value;if((s||a)&&(O(s,e.message,n.message),!r))return g(x[p].message),x}if(d&&!k&&ft(t)){const{value:e,message:n}=Zt(d);if(Wt(e)&&!t.match(e)&&(x[p]={type:tt,message:n,ref:s,...S(tt,n)},!r))return g(n),x}if(f)if(mt(f)){const e=Qt(await f(t),v);if(e&&(x[p]={...e,...S(nt,e.message)},!r))return g(e.message),x}else if(Me(f)){let e={};for(const n in f){if(!it(e)&&!r)break;const s=Qt(await f[n](t),v,n);s&&(e={...s,...S(n,s.message)},g(s.message),r&&(x[p]=e))}if(!it(e)&&(x[p]={ref:v,...e},!r))return x}return g(!0),x};const er={mode:Ge,reValidateMode:We,shouldFocusError:!0};function tr(e={}){let t,r={...er,...e},n={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},s={},a=Ot(r.defaultValues)||{},o=r.shouldUnregister?{}:Ot(a),i={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u=0,c={};const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},f={watch:Ct(),array:Ct(),state:Ct()},p=Dt(r.mode),m=Dt(r.reValidateMode),h=r.criteriaMode===Ke,y=async e=>{let t=!1;return d.isValid&&(t=r.resolver?it((await b()).errors):await w(s,!0),e||t===n.isValid||(n.isValid=t,f.state.next({isValid:t}))),t},v=(e,t,r,n)=>{const l=qe(s,e);if(l){const s=qe(o,e,Be(r)?qe(a,e):r);Be(s)||n&&n.defaultChecked||t?wt(o,e,t?s:Yt(l._f)):S(e,s),i.mount&&y()}},g=(e,t,r,s,o)=>{let i=!1;const l={name:e},u=qe(n.touchedFields,e);if(d.isDirty){const e=n.isDirty;n.isDirty=l.isDirty=j(),i=e!==l.isDirty}if(d.dirtyFields&&(!r||s)){const r=qe(n.dirtyFields,e);At(qe(a,e),t)?_t(n.dirtyFields,e):wt(n.dirtyFields,e,!0),l.dirtyFields=n.dirtyFields,i=i||r!==qe(n.dirtyFields,e)}return r&&!u&&(wt(n.touchedFields,e,r),l.touchedFields=n.touchedFields,i=i||d.touchedFields&&u!==r),i&&o&&f.state.next(l),i?l:{}},x=async(r,s,a,o)=>{const i=qe(n.errors,r),l=d.isValid&&n.isValid!==s;var p;if(e.delayError&&a?(p=()=>((e,t)=>{wt(n.errors,e,t),f.state.next({errors:n.errors})})(r,a),t=e=>{clearTimeout(u),u=window.setTimeout(p,e)},t(e.delayError)):(clearTimeout(u),t=null,a?wt(n.errors,r,a):_t(n.errors,r)),(a?!At(i,a):i)||!it(o)||l){const e={...o,...l?{isValid:s}:{},errors:n.errors,name:r};n={...n,...e},f.state.next(e)}c[r]--,d.isValidating&&!Object.values(c).some((e=>e))&&(f.state.next({isValidating:!1}),c={})},b=async e=>r.resolver?await r.resolver({...o},r.context,((e,t,r,n)=>{const s={};for(const r of e){const e=qe(t,r);e&&wt(s,r,e._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}})(e||l.mount,s,r.criteriaMode,r.shouldUseNativeValidation)):{},w=async(e,t,s={valid:!0})=>{for(const a in e){const i=e[a];if(i){const{_f:e,...a}=i;if(e){const a=await Xt(i,qe(o,e.name),h,r.shouldUseNativeValidation);if(a[e.name]&&(s.valid=!1,t))break;t||(a[e.name]?wt(n.errors,e.name,a[e.name]):_t(n.errors,e.name))}a&&await w(a,t,s)}}return s.valid},j=(e,t)=>(e&&t&&wt(o,e,t),!At(A(),a)),k=(e,t,r)=>{const n={...i.mount?o:Be(t)?a:ft(e)?{[e]:t}:t};return pt(e,l,n,r)},S=(e,t,r={})=>{const n=qe(s,e);let a=t;if(n){const r=n._f;r&&(!r.disabled&&wt(o,e,Ut(t,r)),a=St&&Ft(r.ref)&&Pe(t)?"":t,Et(r.ref)?[...r.ref.options].forEach((e=>e.selected=a.includes(e.value))):r.refs?Fe(r.ref)?r.refs.length>1?r.refs.forEach((e=>!e.disabled&&(e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value))):r.refs[0]&&(r.refs[0].checked=!!a):r.refs.forEach((e=>e.checked=e.value===a)):Vt(r.ref)?r.ref.value="":(r.ref.value=a,r.ref.type||f.watch.next({name:e})))}(r.shouldDirty||r.shouldTouch)&&g(e,a,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&T(e)},O=(e,t,r)=>{for(const n in t){const a=t[n],o=`${e}.${n}`,i=qe(s,o);!l.array.has(e)&&Tt(a)&&(!i||i._f)||Ee(a)?S(o,a,r):O(o,a,r)}},_=(e,t,r={})=>{const i=qe(s,e),u=l.array.has(e),c=Ot(t);wt(o,e,c),u?(f.array.next({name:e,values:o}),(d.isDirty||d.dirtyFields)&&r.shouldDirty&&(n.dirtyFields=It(a,o),f.state.next({name:e,dirtyFields:n.dirtyFields,isDirty:j(e,c)}))):!i||i._f||Pe(c)?S(e,c,r):O(e,c,r),kt(e,l)&&f.state.next({}),f.watch.next({name:e})},C=async e=>{const a=e.target;let i=a.name;const u=qe(s,i);if(u){let v,w;const j=a.type?Yt(u._f):Le(e),k=e.type===Ue||e.type===He,S=!((d=u._f).mount&&(d.required||d.min||d.max||d.maxLength||d.minLength||d.pattern||d.validate)||r.resolver||qe(n.errors,i)||u._f.deps)||((e,t,r,n,s)=>!s.isOnAll&&(!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:!(r?n.isOnChange:s.isOnChange)||e))(k,qe(n.touchedFields,i),n.isSubmitted,m,p),O=kt(i,l,k);wt(o,i,j),k?(u._f.onBlur&&u._f.onBlur(e),t&&t(0)):u._f.onChange&&u._f.onChange(e);const _=g(i,j,k,!1),C=!it(_)||O;if(!k&&f.watch.next({name:i,type:e.type}),S)return C&&f.state.next({name:i,...O?{}:_});if(!k&&O&&f.state.next({}),c[i]=(c[i],1),f.state.next({isValidating:!0}),r.resolver){const{errors:e}=await b([i]),t=Jt(n.errors,s,i),r=Jt(e,s,t.name||i);v=r.error,i=r.name,w=it(e)}else v=(await Xt(u,qe(o,i),h,r.shouldUseNativeValidation))[i],w=await y(!0);u._f.deps&&T(u._f.deps),x(i,w,v,_)}var d},T=async(e,t={})=>{let a,o;const i=ut(e);if(f.state.next({isValidating:!0}),r.resolver){const t=await(async e=>{const{errors:t}=await b();if(e)for(const r of e){const e=qe(t,r);e?wt(n.errors,r,e):_t(n.errors,r)}else n.errors=t;return t})(Be(e)?e:i);a=it(t),o=e?!i.some((e=>qe(t,e))):a}else e?(o=(await Promise.all(i.map((async e=>{const t=qe(s,e);return await w(t&&t._f?{[e]:t}:t)})))).every(Boolean),(o||n.isValid)&&y()):o=a=await w(s);return f.state.next({...!ft(e)||d.isValid&&a!==n.isValid?{}:{name:e},...r.resolver?{isValid:a}:{},errors:n.errors,isValidating:!1}),t.shouldFocus&&!o&&jt(s,(e=>qe(n.errors,e)),e?i:l.mount),o},A=e=>{const t={...a,...i.mount?o:{}};return Be(e)?t:ft(e)?qe(t,e):e.map((e=>qe(t,e)))},D=(e,t)=>({invalid:!!qe((t||n).errors,e),isDirty:!!qe((t||n).dirtyFields,e),isTouched:!!qe((t||n).touchedFields,e),error:qe((t||n).errors,e)}),N=(e,t={})=>{for(const i of e?ut(e):l.mount)l.mount.delete(i),l.array.delete(i),qe(s,i)&&(t.keepValue||(_t(s,i),_t(o,i)),!t.keepError&&_t(n.errors,i),!t.keepDirty&&_t(n.dirtyFields,i),!t.keepTouched&&_t(n.touchedFields,i),!r.shouldUnregister&&!t.keepDefaultValue&&_t(a,i));f.watch.next({}),f.state.next({...n,...t.keepDirty?{isDirty:j()}:{}}),!t.keepIsValid&&y()},V=(e,t={})=>{let n=qe(s,e);const u=Nt(t.disabled);return wt(s,e,{_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),l.mount.add(e),n?u&&wt(o,e,t.disabled?void 0:qe(o,e,Yt(n._f))):v(e,!0,t.value),{...u?{disabled:t.disabled}:{},...r.shouldUseNativeValidation?{required:!!t.required,min:Gt(t.min),max:Gt(t.max),minLength:Gt(t.minLength),maxLength:Gt(t.maxLength),pattern:Gt(t.pattern)}:{},name:e,onChange:C,onBlur:C,ref:o=>{if(o){V(e,t),n=qe(s,e);const r=Be(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,i=(e=>Pt(e)||Fe(e))(r),l=n._f.refs||[];if(i?l.find((e=>e===r)):r===n._f.ref)return;wt(s,e,{_f:{...n._f,...i?{refs:[...l.filter($t),r,...Array.isArray(qe(a,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),v(e,!1,void 0,r)}else n=qe(s,e,{}),n._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!Ie(l.array,e)||!i.action)&&l.unMount.add(e)}}};return{control:{register:V,unregister:N,getFieldState:D,_executeSchema:b,_getWatch:k,_getDirty:j,_updateValid:y,_removeUnmounted:()=>{for(const e of l.unMount){const t=qe(s,e);t&&(t._f.refs?t._f.refs.every((e=>!$t(e))):!$t(t._f.ref))&&N(e)}l.unMount=new Set},_updateFieldArray:(e,t=[],r,l,u=!0,c=!0)=>{if(l&&r){if(i.action=!0,c&&Array.isArray(qe(s,e))){const t=r(qe(s,e),l.argA,l.argB);u&&wt(s,e,t)}if(d.errors&&c&&Array.isArray(qe(n.errors,e))){const t=r(qe(n.errors,e),l.argA,l.argB);u&&wt(n.errors,e,t),((e,t)=>{!Re(qe(e,t)).length&&_t(e,t)})(n.errors,e)}if(d.touchedFields&&c&&Array.isArray(qe(n.touchedFields,e))){const t=r(qe(n.touchedFields,e),l.argA,l.argB);u&&wt(n.touchedFields,e,t)}d.dirtyFields&&(n.dirtyFields=It(a,o)),f.state.next({isDirty:j(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else wt(o,e,t)},_getFieldArray:t=>Re(qe(i.mount?o:a,t,e.shouldUnregister?qe(a,t,[]):[])),_subjects:f,_proxyFormState:d,get _fields(){return s},get _formValues(){return o},get _stateFlags(){return i},set _stateFlags(e){i=e},get _defaultValues(){return a},get _names(){return l},set _names(e){l=e},get _formState(){return n},set _formState(e){n=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:T,register:V,handleSubmit:(e,t)=>async a=>{a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let i=!0,u=Ot(o);f.state.next({isSubmitting:!0});try{if(r.resolver){const{errors:e,values:t}=await b();n.errors=e,u=t}else await w(s);it(n.errors)?(f.state.next({errors:{},isSubmitting:!0}),await e(u,a)):(t&&await t({...n.errors},a),r.shouldFocusError&&jt(s,(e=>qe(n.errors,e)),l.mount))}catch(e){throw i=!1,e}finally{n.isSubmitted=!0,f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:it(n.errors)&&i,submitCount:n.submitCount+1,errors:n.errors})}},watch:(e,t)=>mt(e)?f.watch.subscribe({next:r=>e(k(void 0,t),r)}):k(e,t,!0),setValue:_,getValues:A,reset:(t,r={})=>{const u=t||a,c=Ot(u),p=t&&!it(t)?c:a;if(r.keepDefaultValues||(a=u),!r.keepValues){if(r.keepDirtyValues)for(const e of l.mount)qe(n.dirtyFields,e)?wt(p,e,qe(o,e)):_(e,qe(p,e));else{if(St&&Be(t))for(const e of l.mount){const t=qe(s,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;try{Ft(e)&&e.closest("form").reset();break}catch(e){}}}s={}}o=e.shouldUnregister?r.keepDefaultValues?Ot(a):{}:c,f.array.next({values:p}),f.watch.next({values:p})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},i.mount=!d.isValid||!!r.keepIsValid,i.watch=!!e.shouldUnregister,f.state.next({submitCount:r.keepSubmitCount?n.submitCount:0,isDirty:r.keepDirty||r.keepDirtyValues?n.isDirty:!(!r.keepDefaultValues||At(t,a)),isSubmitted:!!r.keepIsSubmitted&&n.isSubmitted,dirtyFields:r.keepDirty||r.keepDirtyValues?n.dirtyFields:r.keepDefaultValues&&t?It(a,t):{},touchedFields:r.keepTouched?n.touchedFields:{},errors:r.keepErrors?n.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},resetField:(e,t={})=>{qe(s,e)&&(Be(t.defaultValue)?_(e,qe(a,e)):(_(e,t.defaultValue),wt(a,e,t.defaultValue)),t.keepTouched||_t(n.touchedFields,e),t.keepDirty||(_t(n.dirtyFields,e),n.isDirty=t.defaultValue?j(e,qe(a,e)):j()),t.keepError||(_t(n.errors,e),d.isValid&&y()),f.state.next({...n}))},clearErrors:e=>{e?ut(e).forEach((e=>_t(n.errors,e))):n.errors={},f.state.next({errors:n.errors})},unregister:N,setError:(e,t,r)=>{const a=(qe(s,e,{_f:{}})._f||{}).ref;wt(n.errors,e,{...t,ref:a}),f.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&a&&a.focus&&a.focus()},setFocus:(e,t={})=>{const r=qe(s,e)._f,n=r.refs?r.refs[0]:r.ref;t.shouldSelect?n.select():n.focus()},getFieldState:D}}var rr="vanguard.checkout.address.cta.change",nr="vanguard.checkout.address.cta.add",sr="vanguard.checkout.address.formTitle",ar="vanguard.checkout.address.name",or="vanguard.checkout.address.required",ir="vanguard.checkout.address.line1",lr="vanguard.checkout.address.line2",ur="vanguard.checkout.address.zipcode",cr="vanguard.checkout.address.cityTown",dr="vanguard.checkout.address.country",fr="vanguard.checkout.address.cta.cancel",pr="vanguard.checkout.address.search",mr="vanguard.checkout.address.addNew",hr="vanguard.cart.overlay.delete",yr="vanguard.common.nameTitle",vr="vanguard.common.name.optionalNames",gr="vanguard.confirmationDialog.message",xr="vanguard.checkout.address.cancel",br="vanguard.checkout.address.confirm",wr="vanguard.cart.delete",jr="vanguard.common.name.person",kr="vanguard.common.name.company";function Sr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sr(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _r=function(e){var r=e.form,s=e.availableCountries,a=e.titles,o=A().t,i=r.register,l=r.setValue,c=r.control,d=r.formState,f=r.watch,p=d.errors,m=f("titleCode"),h=t.useRef(null),y=i("streetName",{required:o(or)}),v=t.useMemo((function(){return s.map((function(e){return{label:e.name,value:e.isocode}}))}),[s]);return t.useEffect((function(){var e,t,r;if("undefined"!=typeof google&&null!=(e=google)&&null!=(t=e.maps)&&null!=(r=t.places)&&r.Autocomplete){var n=new google.maps.places.Autocomplete(h.current,{fields:["address_components"]});n.setComponentRestrictions({country:v.map((function(e){return e.value.toString()}))}),n.addListener("place_changed",(function(){var e,t=((null==(e=n.getPlace())?void 0:e.address_components)||[]).reduce((function(e,t){return null!=t&&t.types.includes("street_number")&&(e.streetNumber=t.long_name),null!=t&&t.types.includes("postal_code")&&(e.zipCode=t.long_name),null!=t&&t.types.includes("route")&&(e.streetName=t.long_name),null!=t&&t.types.includes("locality")&&(e.city=t.long_name),null!=t&&t.types.includes("country")&&(e.country=t.short_name),e}),{});Object.keys(t).forEach((function(e){return l(e,t[e])}))}))}}),[l,v]),u.exports.jsxs("form",{"data-testid":"addAddress",className:"space-y-1",children:[(null==a?void 0:a.length)>0&&u.exports.jsx(vt,{control:c,name:"titleCode",render:function(e){var t=e.field;return u.exports.jsx(n.Select,{label:""+o(yr),testid:"titleInput",options:null==a?void 0:a.map((function(e){return{label:e.name,value:e.code}})),error:Boolean(null==p?void 0:p.titleCode),value:t.value,onChange:t.onChange})}}),u.exports.jsx(n.TextInput,Or(Or({},i("name1",{required:o(or)})),{},{label:o(ar)+"*",testid:"nameInput1",autoComplete:"organization",maxlength:35,error:Boolean(null==p?void 0:p.name1),placeholder:{"0001":o(jr),"0002":o(jr),"0003":o(kr),"0004":o(jr)}[m]})),u.exports.jsxs("div",{className:"space-y-0.5",children:[u.exports.jsx(n.TextInput,Or(Or({},i("name2")),{},{testid:"nameInput2",label:o(vr),autoComplete:"organization",maxlength:35,error:Boolean(null==p?void 0:p.name2)})),u.exports.jsx(n.TextInput,Or(Or({},i("name3")),{},{testid:"nameInput3",autoComplete:"organization",maxlength:35,error:Boolean(null==p?void 0:p.name3)})),u.exports.jsx(n.TextInput,Or(Or({},i("name4")),{},{testid:"nameInput4",autoComplete:"organization",maxlength:35,error:Boolean(null==p?void 0:p.name4)}))]}),u.exports.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-2 space-y-1 sm:space-y-0",children:[u.exports.jsx("div",{className:"sm:w-10/12",children:u.exports.jsx(n.TextInput,Or(Or({},y),{},{ref:function(e){y.ref(e),h.current=e},testid:"streetNameInput",label:o(ir)+"*",autoComplete:"street-address",maxlength:60,error:Boolean(null==p?void 0:p.streetName),inputClassName:"w-full"}))}),u.exports.jsx("div",{className:"sm:w-2/12",children:u.exports.jsx(n.TextInput,Or(Or({},i("streetNumber",{required:o(or)})),{},{testid:"streetNumberInput",label:o(lr)+"*",error:Boolean(null==p?void 0:p.streetNumber),maxlength:12,autoComplete:"street-address",inputClassName:"w-full"}))})]}),u.exports.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-2",children:[u.exports.jsx("div",{className:"sm:w-2/12",children:u.exports.jsx(n.TextInput,Or(Or({},i("zipCode",{required:o(or)})),{},{testid:"zipCodeInput",label:o(ur)+"*",error:Boolean(null==p?void 0:p.zipCode),maxlength:10,autoComplete:"postal-code",inputClassName:"w-full"}))}),u.exports.jsx("div",{className:"sm:w-10/12",children:u.exports.jsx(n.TextInput,Or(Or({},i("city",{required:o(or)})),{},{testid:"cityInput",label:o(cr)+"*",error:Boolean(null==p?void 0:p.city),maxlength:40,autoComplete:"address-level2",inputClassName:"w-full"}))})]}),u.exports.jsx("div",{className:"w-12/12",children:u.exports.jsx(vt,{control:c,name:"country",rules:{required:!0},render:function(e){var t=e.field;return u.exports.jsx(n.Select,{label:o(dr)+"*",testid:"countryInput",options:v,error:Boolean(null==p?void 0:p.country),value:t.value,onChange:t.onChange})}})})]})},Cr=function(e){var r=e.address,s=t.useMemo((function(){var e;return{name1:null==r?void 0:r.name1,name2:null==r?void 0:r.name2,name3:null==r?void 0:r.name3,name4:null==r?void 0:r.name4,imprint:[null==r?void 0:r.line1,null==r?void 0:r.line2].join(" "),region:[null==r?void 0:r.postalCode,null==r?void 0:r.town].join(" "),country:null==r||null==(e=r.country)?void 0:e.name,first_name:null==r?void 0:r.first_name,last_name:null==r?void 0:r.last_name,title:null==r?void 0:r.title}}),[r]);return u.exports.jsxs("div",{"data-testid":"addressPreview",children:[(null==s?void 0:s.title)&&u.exports.jsx(n.Text,{testid:"title",children:null==s?void 0:s.title}),((null==s?void 0:s.first_name)||(null==s?void 0:s.last_name))&&u.exports.jsxs(n.Text,{testid:"name",children:[null==s?void 0:s.first_name," ",null==s?void 0:s.last_name]}),(null==s?void 0:s.name1)&&u.exports.jsx(n.Text,{testid:"name1",children:null==s?void 0:s.name1}),(null==s?void 0:s.name2)&&u.exports.jsx(n.Text,{testid:"name2",children:null==s?void 0:s.name2}),(null==s?void 0:s.name3)&&u.exports.jsx(n.Text,{testid:"name3",children:null==s?void 0:s.name3}),(null==s?void 0:s.name4)&&u.exports.jsx(n.Text,{testid:"name4",children:null==s?void 0:s.name4}),(null==s?void 0:s.imprint)&&u.exports.jsx(n.Text,{testid:"imprint",children:null==s?void 0:s.imprint}),(null==s?void 0:s.region)&&u.exports.jsx(n.Text,{testid:"region",children:null==s?void 0:s.region}),(null==s?void 0:s.country)&&u.exports.jsx(n.Text,{testid:"country",children:null==s?void 0:s.country})]})},Tr=t.createContext(null),Ar=function(e){var r=e.children,n=e.onAdd,s=e.onChange,a=e.onRemove,o=e.available,i=void 0===o?[]:o,l=e.showOneTimeAddress,c=e.address,d=t.useState(c||null),f=d[0],p=d[1],m=t.useState(!1),h=m[0],y=m[1],v=t.useState(!1),g=v[0],x=v[1],b=t.useState([]),w=b[0],j=b[1],k=function(){var e=t.useCallback((function(e,t){var r={meta:{createdAt:Date.now()},value:t};return sessionStorage.setItem(e,JSON.stringify(r)),r}),[]),r=t.useCallback((function(e){return JSON.parse(sessionStorage.getItem(e))}),[]),n=t.useCallback((function(e){return sessionStorage.removeItem(e)}),[]);return{clear:t.useCallback((function(){return sessionStorage.clear()}),[]),setItem:e,getItem:r,removeItem:n}}(),S=k.setItem,O=k.getItem;return t.useEffect((function(){var e=O("OneTimeAddress")&&JSON.parse(O("OneTimeAddress").value);h&&j(e||[])}),[h,O]),u.exports.jsx(Tr.Provider,{value:{address:c,availableAddresses:[].concat(i,l?w:[]),showOneTimeAddress:l,selectedAddress:f,setSelectedAddress:p,isAddressDialogVisible:h,setAddressDialogVisible:y,isRemoveAddressDialogVisible:g,setRemoveAddressDialogVisible:x,handleAddOneTimeAddress:function(e){p(e),n(e),S("OneTimeAddress",JSON.stringify([].concat(w,[e]))),y(!1)},handleChange:function(){f.id?s(f):n(f),y(!1)},handleRemove:function(e){a(e),x(!1)}},children:r})},Dr=function(){return t.useContext(Tr)},Nr=function(){var e=Dr(),r=e.availableAddresses,s=e.selectedAddress,a=e.setSelectedAddress,o=t.useState(""),l=o[0],c=o[1],d=function(e,t){return e.id&&t.id?e.id===t.id:(null==e||null==(r=e.name1)?void 0:r.trim())===(null==t||null==(n=t.name1)?void 0:n.trim())&&(null==e||null==(s=e.name2)?void 0:s.trim())===(null==t||null==(a=t.name2)?void 0:a.trim())&&(null==e||null==(o=e.name3)?void 0:o.trim())===(null==t||null==(i=t.name3)?void 0:i.trim())&&(null==e||null==(l=e.name4)?void 0:l.trim())===(null==t||null==(u=t.name4)?void 0:u.trim())&&(null==e||null==(c=e.line1)?void 0:c.trim())===(null==t||null==(d=t.line1)?void 0:d.trim())&&(null==e||null==(f=e.line2)?void 0:f.trim())===(null==t||null==(p=t.line2)?void 0:p.trim())&&(null==e||null==(m=e.town)?void 0:m.trim())===(null==t||null==(h=t.town)?void 0:h.trim())&&(null==e?void 0:e.postalCode)===(null==t?void 0:t.postalCode)&&JSON.stringify(null==e?void 0:e.country)===JSON.stringify(null==t?void 0:t.country);var r,n,s,a,o,i,l,u,c,d,f,p,m,h};return u.exports.jsxs("div",{"data-testid":"searchAddress",className:"mt-6 sm:mt-0",children:[u.exports.jsx(n.TextInput,{testid:"searchInput",inputClassName:"w-full",value:l,onChange:function(e){var t=e.target.value;c(t)},icon:{type:"search"}}),u.exports.jsx("div",{className:"h-96 overflow-y-auto mt-2 space-y-2","data-testid":"list",children:r.filter((function(e){return[e.name1,e.name2,e.name3,e.name4].join(" ").toLowerCase().includes(l.toLowerCase())})).map((function(e,t){return u.exports.jsx("div",{className:i.default("p-2","cursor-pointer","border-l-4",s&&{"hover:border-gray-300":!d(e,s),"border-primary":d(e,s)}),onClick:function(){return a(e)},"data-testid":"item",children:u.exports.jsx(Cr,{address:e})},t)}))})]})},Vr=function(){var r=t.useState("addNew"),s=r[0],a=r[1],i=A(),l=i.t,c=i.cartCode,d=Dr(),f=d.availableAddresses,p=d.showOneTimeAddress,m=d.isAddressDialogVisible,h=d.setAddressDialogVisible,y=d.handleChange,v=d.handleAddOneTimeAddress,g=e.store.api.checkout.useGetAlternativeDeliveryCountriesQuery({cartCode:c}).data,x=e.store.api.checkout.useGetTitlesQuery({cartCode:c}).data,b=function(e={}){const t=o.default.useRef(),[r,n]=o.default.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}});t.current?t.current.control._options=e:t.current={...tr(e),formState:r};const s=t.current.control,a=o.default.useCallback((e=>{lt(e,s._proxyFormState,!0)&&(s._formState={...s._formState,...e},n({...s._formState}))}),[s]);return dt({subject:s._subjects.state,callback:a}),o.default.useEffect((()=>{s._stateFlags.mount||(s._proxyFormState.isValid&&s._updateValid(),s._stateFlags.mount=!0),s._stateFlags.watch&&(s._stateFlags.watch=!1,s._subjects.state.next({})),s._removeUnmounted()})),t.current.formState=ot(r,s._proxyFormState),t.current}(),w=function(e){var t={titleCode:e.titleCode||"",name1:e.name1.trim()||null,name2:e.name2.trim()||null,name3:e.name3.trim()||null,name4:e.name4.trim()||null,line1:e.streetName,line2:e.streetNumber,postalCode:e.zipCode,town:e.city,country:g.find((function(t){return t.isocode===e.country}))};b.reset(),v(t)};return t.useEffect((function(){a((null==f?void 0:f.length)>0?"search":"addNew")}),[f]),u.exports.jsxs(n.Dialog,{title:l(sr),isOpen:m,onClose:function(){return h(!1)},testid:"addressDialog",children:[(null==f?void 0:f.length)>0&&p&&u.exports.jsxs(n.Tabs,{className:"flex-col sm:flex-row",onSelectTab:function(e){return a(e)},size:"sm",children:[u.exports.jsx(n.Tabs.Tab,{testid:"searchTab",tabKey:"search",title:l(pr),selected:"search"===s}),u.exports.jsx(n.Tabs.Tab,{testid:"addNewTab",tabKey:"addNew",title:l(mr),selected:"addNew"===s})]}),"search"===s?u.exports.jsx(Nr,{}):u.exports.jsx(_r,{form:b,availableCountries:g,titles:null==x?void 0:x.titles}),u.exports.jsxs("div",{className:"flex mt-6 space-x-4 justify-between sm:justify-end",children:[u.exports.jsx(n.Button,{variant:"outlined",testid:"cancelButton",onClick:function(){return h(!1),void b.reset()},children:l(xr)}),u.exports.jsx(n.Button,{testid:"confirmButton",onClick:function(){return"search"===s?y():b.handleSubmit(w)()},children:l(br)})]})]})},Fr=function(e){var t=e.hasRemove,r=Dr(),s=r.address,a=r.availableAddresses,o=r.showOneTimeAddress,i=r.setAddressDialogVisible,l=r.setRemoveAddressDialogVisible,c=A().t,d=(null==a?void 0:a.length)>1||o;return u.exports.jsxs(u.exports.Fragment,{children:[u.exports.jsx(Cr,{address:s}),d&&u.exports.jsxs("div",{className:"flex divide-x-2 space-x-2 mt-1",children:[u.exports.jsx(n.Button,{testid:"changeAddressButton",variant:"text",onClick:function(){return i(!0)},children:c(s?rr:nr)}),s&&t&&u.exports.jsx("div",{className:"pl-2",children:u.exports.jsx(n.Button,{testid:"removeAddressButton",variant:"text",onClick:function(){return l(!0)},children:c(hr)})})]})]})},Er=function(){var e=A().t,t=Dr(),r=t.setRemoveAddressDialogVisible,s=t.isRemoveAddressDialogVisible,a=t.handleRemove,o=t.address;return u.exports.jsxs(n.Dialog,{title:e(wr),testid:"deleteAddressDialog",isOpen:s,onClose:function(){return r(!1)},children:[u.exports.jsx(n.Text,{children:e(gr)}),u.exports.jsxs("div",{className:"flex mt-8 space-x-4 justify-end",children:[u.exports.jsx(n.Button,{testid:"cancelButton",variant:"outlined",onClick:function(){return r(!1)},children:e(fr)}),u.exports.jsx(n.Button,{testid:"confirmButton",onClick:function(){return a(o)},children:e(hr)})]})]})};function Pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pr(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Mr,Lr,Ir=function(e){var t=Object.assign({},e);return u.exports.jsxs(Ar,$r($r({},t),{},{children:[u.exports.jsx(Fr,{hasRemove:!!t.onRemove}),u.exports.jsx(Vr,{}),u.exports.jsx(Er,{})]}))};!function(e,t){e.exports=function(){var e=1e3,t=6e4,r=36e5,n="millisecond",s="second",a="minute",o="hour",i="day",l="week",u="month",c="quarter",d="year",f="date",p="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,h=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},v=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},g={s:v,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),s=r%60;return(t<=0?"+":"-")+v(n,2,"0")+":"+v(s,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),s=t.clone().add(n,u),a=r-s<0,o=t.clone().add(n+(a?-1:1),u);return+(-(n+(r-s)/(a?s-o:o-s))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:l,d:i,D:f,h:o,m:a,s:s,ms:n,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},x="en",b={};b[x]=y;var w=function(e){return e instanceof O},j=function e(t,r,n){var s;if(!t)return x;if("string"==typeof t){var a=t.toLowerCase();b[a]&&(s=a),r&&(b[a]=r,s=a);var o=t.split("-");if(!s&&o.length>1)return e(o[0])}else{var i=t.name;b[i]=t,s=i}return!n&&s&&(x=s),s||!n&&x},k=function(e,t){if(w(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new O(r)},S=g;S.l=j,S.i=w,S.w=function(e,t){return k(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var O=function(){function y(e){this.$L=j(e.locale,null,!0),this.parse(e)}var v=y.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(m);if(n){var s=n[2]-1||0,a=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],s,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return S},v.isValid=function(){return!(this.$d.toString()===p)},v.isSame=function(e,t){var r=k(e);return this.startOf(t)<=r&&r<=this.endOf(t)},v.isAfter=function(e,t){return k(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<k(e)},v.$g=function(e,t,r){return S.u(e)?this[t]:this.set(r,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,t){var r=this,n=!!S.u(t)||t,c=S.p(e),p=function(e,t){var s=S.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?s:s.endOf(i)},m=function(e,t){return S.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},h=this.$W,y=this.$M,v=this.$D,g="set"+(this.$u?"UTC":"");switch(c){case d:return n?p(1,0):p(31,11);case u:return n?p(1,y):p(0,y+1);case l:var x=this.$locale().weekStart||0,b=(h<x?h+7:h)-x;return p(n?v-b:v+(6-b),y);case i:case f:return m(g+"Hours",0);case o:return m(g+"Minutes",1);case a:return m(g+"Seconds",2);case s:return m(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(e,t){var r,l=S.p(e),c="set"+(this.$u?"UTC":""),p=(r={},r[i]=c+"Date",r[f]=c+"Date",r[u]=c+"Month",r[d]=c+"FullYear",r[o]=c+"Hours",r[a]=c+"Minutes",r[s]=c+"Seconds",r[n]=c+"Milliseconds",r)[l],m=l===i?this.$D+(t-this.$W):t;if(l===u||l===d){var h=this.clone().set(f,1);h.$d[p](m),h.init(),this.$d=h.set(f,Math.min(this.$D,h.daysInMonth())).$d}else p&&this.$d[p](m);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[S.p(e)]()},v.add=function(n,c){var f,p=this;n=Number(n);var m=S.p(c),h=function(e){var t=k(p);return S.w(t.date(t.date()+Math.round(e*n)),p)};if(m===u)return this.set(u,this.$M+n);if(m===d)return this.set(d,this.$y+n);if(m===i)return h(1);if(m===l)return h(7);var y=(f={},f[a]=t,f[o]=r,f[s]=e,f)[m]||1,v=this.$d.getTime()+n*y;return S.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||p;var n=e||"YYYY-MM-DDTHH:mm:ssZ",s=S.z(this),a=this.$H,o=this.$m,i=this.$M,l=r.weekdays,u=r.months,c=function(e,r,s,a){return e&&(e[r]||e(t,n))||s[r].slice(0,a)},d=function(e){return S.s(a%12||12,e,"0")},f=r.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},m={YY:String(this.$y).slice(-2),YYYY:this.$y,M:i+1,MM:S.s(i+1,2,"0"),MMM:c(r.monthsShort,i,u,3),MMMM:c(u,i),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:c(r.weekdaysMin,this.$W,l,2),ddd:c(r.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(a),HH:S.s(a,2,"0"),h:d(1),hh:d(2),a:f(a,o,!0),A:f(a,o,!1),m:String(o),mm:S.s(o,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:s};return n.replace(h,(function(e,t){return t||m[e]||s.replace(":","")}))},v.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},v.diff=function(n,f,p){var m,h=S.p(f),y=k(n),v=(y.utcOffset()-this.utcOffset())*t,g=this-y,x=S.m(this,y);return x=(m={},m[d]=x/12,m[u]=x,m[c]=x/3,m[l]=(g-v)/6048e5,m[i]=(g-v)/864e5,m[o]=g/r,m[a]=g/t,m[s]=g/e,m)[h]||g,p?x:S.a(x)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return b[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=j(e,t,!0);return n&&(r.$L=n),r},v.clone=function(){return S.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},y}(),_=O.prototype;return k.prototype=_,[["$ms",n],["$s",s],["$m",a],["$H",o],["$W",i],["$M",u],["$y",d],["$D",f]].forEach((function(e){_[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),k.extend=function(e,t){return e.$i||(e(t,O,k),e.$i=!0),k},k.locale=j,k.isDayjs=w,k.unix=function(e){return k(1e3*e)},k.en=b[x],k.Ls=b,k.p={},k}()}({exports:{}}),function(e){e.Copy="copy",e.Move="move"}(Mr||(Mr={})),function(e){e.private="private",e.public="public"}(Lr||(Lr={})),navigator.userAgent.includes("Firefox");var Rr=function(){var e=A().t,t=xe(),r=t.setAddress,s=t.address,a=function(e){r(e)};return u.exports.jsx(n.Tile,{header:z,className:"my-4",isAccordionType:!0,testid:"propertyDetailsTile",children:u.exports.jsxs("div",{className:"flex flex-row space-between",children:[u.exports.jsxs("div",{className:"pr-8 space-y-2","data-testid":"description",children:[u.exports.jsx(n.Text,{bold:!0,testid:"label",children:e(Y)}),u.exports.jsx(n.TextInput,{testid:Y,size:40,multiline:!0,rows:3})]}),u.exports.jsxs("div",{className:"space-y-2","data-testid":"property",children:[u.exports.jsx(n.Text,{bold:!0,testid:"label",children:e(ae)}),u.exports.jsx(Ir,{showOneTimeAddress:!0,address:s,onChange:a,onAdd:a})]})]})})},Br=function(){var r=A().t,s=P,a=$,o=M,i=I,l=R,c=B,d=q,f=function(){var r=A(),n=r.t,s=r.headPositionCode,a=t.useState(null),o=a[0],i=a[1],l=t.useState(null),u=l[0],c=l[1],d=t.useState(null),f=d[0],p=d[1],m=e.store.api.keysystem.useGetStandardQuery({headPositionCode:s}).data,h=t.useCallback((function(e){return e?e.map((function(e){return{value:e.key,label:n(L+"."+e.key),color:"default"}})):[]}),[n]),y=t.useCallback((function(e){return e?e.map((function(e){return{value:e.key,label:e.value,color:"default"}})):[]}),[]),v=t.useCallback((function(e){return e?e.map((function(e){return{value:e.isocode,label:n(U+"."+e.isocode.substring(0,2).toUpperCase()),color:"default"}})):[]}),[n]);return t.useMemo((function(){return{categories:h(null==m?void 0:m.categories),technologies:y(null==m?void 0:m.technologies),languages:v(null==m?void 0:m.languages),selectedCategory:o,selectedTechnology:u,selectedLanguage:f,setSelectedCategory:i,setSelectedTechnology:c,setSelectedLanguage:p}}),[h,null==m?void 0:m.categories,null==m?void 0:m.technologies,null==m?void 0:m.languages,y,v,o,u,f])}(),p=f.categories,m=f.technologies,h=f.languages,y=f.selectedCategory,v=f.selectedTechnology,g=f.selectedLanguage,x=f.setSelectedCategory,b=f.setSelectedTechnology,w=f.setSelectedLanguage;return u.exports.jsx(n.Tile,{header:s,className:"mt-4",isAccordionType:!0,testid:"standardTile",children:u.exports.jsxs("div",{className:"flex flex-row space-between",children:[u.exports.jsx(n.Select,{className:"p-4",label:r(a),placeholder:r(o),testid:"categorySelect",options:p,value:y,onChange:function(e){return x(e.target.value)}}),u.exports.jsx(n.Select,{className:"p-4",label:r(i),placeholder:r(l),testid:"technologySelect",options:m,value:v,onChange:function(e){return b(e.target.value)}}),u.exports.jsx(n.Select,{className:"p-4",label:r(c),placeholder:r(d),testid:"languageSelect",options:h,value:g,onChange:function(e){return w(e.target.value)}})]})})},qr=function(){var e=xe().pageName;return u.exports.jsxs("div",{className:"flex flex-col",children:["headerData"===e&&u.exports.jsxs(u.exports.Fragment,{children:[u.exports.jsx(Br,{}),u.exports.jsx(Oe,{}),u.exports.jsx(Rr,{})]}),"keyPlan"===e&&u.exports.jsx(u.exports.Fragment,{children:u.exports.jsx(Ve,{})})]})};!function(t,n){var s='[data-react-app="'+n+'"]:not([data-rendered])',a=document.querySelector(s);if(!a)throw new Error(s+" is missing");var o=document.createElement("div");a.appendChild(o),a.setAttribute("data-rendered","true"),r.render(function(t,r){return u.exports.jsx(e.StoreProvider,{children:u.exports.jsx(k,{appId:r,children:u.exports.jsx(O,{children:u.exports.jsx(t,{})})})})}(t,n),o)}((function(){return u.exports.jsx(be,{children:u.exports.jsxs("div",{"data-testid":"newKeySystem",children:[u.exports.jsx(ke,{}),u.exports.jsx(qr,{}),u.exports.jsx(we,{})]})})}),"new-key-system")}));
