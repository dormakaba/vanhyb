!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("react"),require("@vanhyb/backbone"),require("react-dom"),require("@dormakaba/vanguard"),require("classnames")):"function"==typeof define&&define.amd?define(["react","@vanhyb/backbone","react-dom","@dormakaba/vanguard","classnames"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).dormakaba.vendorReact["vendor/react"],e.backbone,e.dormakaba.vendorReact["vendor/react-dom"],e.DormakabaVanguard,e.dormakaba.vendorReact["vendor/classnames"])}(this,(function(e,t,n,r,a){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=i(e),s=i(a),u=e.createContext(null),l=function(t){var n=t.appId,r=t.children,a=t.defaultValue,i=void 0===a?{}:a,s=e.useMemo((function(){if(!n)return i;var e='[data-react-app="'+n+'"]',t=document.querySelector(e);if(!t)throw new Error(e+" is missing");var r=t.querySelector("script");return null!=r&&r.innerHTML?JSON.parse(r.innerHTML):i}),[n,i]);return o.default.createElement(u.Provider,{value:s},r)},c=e.createContext(void 0),d=function(t){var n=t.appId,r=t.children,a=e.useMemo((function(){return{appId:n}}),[n]);return o.default.createElement(c.Provider,{value:a},r)},f=function(){return e.useContext(u)},h=function(n){void 0===n&&(n=!1);var r=e.useState([]),a=r[0],i=r[1],o={dispatch:e.useCallback((function(e){return t.Cord.next(e)}),[])}.dispatch,s=e.useCallback((function(e){return o(t.Actions.addNotification(e))}),[o]),u=e.useCallback((function(e){return o(t.Actions.removeNotification(e))}),[o]);return e.useEffect((function(){if(n){var e=t.Notification.subscribe(i);return function(){return e.unsubscribe()}}}),[n,i]),{notifications:a,addNotification:s,removeNotification:u}};function p(e,t,n,r,a,i,o){try{var s=e[i](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,a)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){p(i,r,a,o,s,"next",e)}function s(e){p(i,r,a,o,s,"throw",e)}o(void 0)}))}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var m={exports:{}};!function(e){var t=function(e){var t,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),o=new k(r||[]);return i._invoke=function(e,t,n){var r=d;return function(a,i){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===a)throw i;return N()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=S(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=h;var u=c(e,t,n);if("normal"===u.type){if(r=n.done?p:f,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d="suspendedStart",f="suspendedYield",h="executing",p="completed",v={};function m(){}function g(){}function y(){}var w={};w[i]=function(){return this};var b=Object.getPrototypeOf,E=b&&b(b(L([])));E&&E!==n&&r.call(E,i)&&(w=E);var x=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(a,i,o,s){var u=c(e[a],e,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(d).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;this._invoke=function(e,r){function i(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(i,i):i()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=c(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,v;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function $(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach($,this),this.reset(!0)}function L(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return g.prototype=x.constructor=y,y.constructor=g,g.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},C(T.prototype),T.prototype[o]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new T(l(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},C(x),u(x,s,"Generator"),x[i]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=L,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:L(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}(m);var g=m.exports;function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,y(e,t)}var b=function(){var e=this;this.cache={},this.cacheClearListener=[],this.lastCacheClear=new Date,this.addEntry=function(t,n){e.cache[t]=n},this.hasEntry=function(t){return Object.keys(e.cache).some((function(e){return e===t}))},this.getEntry=function(t){return e.cache[t]},this.clearCache=function(){e.cache={},e.lastCacheClear=new Date,setTimeout((function(){e.cacheClearListener.forEach((function(t){return t(e.lastCacheClear)}))}))},this.subscribeToCacheClear=function(t){e.cacheClearListener.push(t)},this.unsubscribeFromCacheClear=function(t){var n=e.cacheClearListener.indexOf(t);n>-1&&e.cacheClearListener.splice(n,1)}},E=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).supportedStatusCodes=[401],t.supportedErrorIds=["account.error.unauthorized.user"],t.getApiErrorResponse=function(e){try{return JSON.parse(e.responseText)}catch(t){console.warn(new Error("Could not parse authentication error: "+e.status+" "+JSON.stringify(e.responseText)))}},t}w(t,e);var n=t.prototype;return n.supports=function(e){return this.supportedStatusCodes.some((function(t){return e.status===t}))},n.handleRequestInternal=function(e){var t=this.getApiErrorResponse(e);if(t&&(t&&this.supportedErrorIds.some((function(e){return e===t.errorId}))))return void window.location.reload();return Promise.reject(e)},t}(function(){function e(e){var t=(void 0===e?{overlayClosable:!1}:e).overlayClosable;this.overlayClosable=void 0,this.getApiErrorResponse=function(e){try{var t=JSON.parse(e.responseText);return!t&&!t.errors&&t.errors.length<=0&&console.warn(new Error("Could not parse authentication error: "+e.status+" "+JSON.stringify(e.responseText))),t.errors[0]}catch(t){console.warn(new Error("Could not parse authentication error: "+e.status+" "+JSON.stringify(e.responseText)))}},this.overlayClosable=t}return e.prototype.handleRequest=function(e){return this.supports(e)?this.handleRequestInternal(e,this.overlayClosable):Promise.reject(e)},e}()),x=new E;function C(e){var t=function(e){var t={errors:[{errorId:String(e.status),message:e.responseText||e.statusText,stackTrace:""}]};try{var n=JSON.parse(e.responseText);return n.errors[0].message?n:t}catch(e){return t}}(e);t.errors.forEach((function(e){var t=[e.message,e.technicalMksMessage].filter(Boolean);console.log(e.errorId,t.join("<br>"))}))}var T=function e(t){var n=this,r=t.url,a=t.cacheEnabled,i=void 0!==a&&a,o=t.options;this.cache=void 0,this.url=void 0,this.cacheEnabled=void 0,this.options=void 0,this.ajax=function(e){var t=e.keys,r=e.body,a=e.headerOptions,i=e.errorInterceptors,o=e.omitErrorMessage,s=void 0!==o&&o,u=Object.assign({},n.getOptions(t),{headerOptions:a}),l=n.doRequestInternal(t,r);return l.catch((function(t){return i?i.reduce((function(t,r){return t.catch((function(t){var a,i;return null==r||null==(a=r.handleRequest(t))||null==(i=a.then((function(){return n.ajax(e)})))?void 0:i.catch((function(e){return Promise.reject(e)}))}))}),Promise.reject(t)):l})).catch((function(e){return void 0===x.handleRequest(e)?l:Promise.reject(e)})).catch((function(e){return s||C(e),u.afterError&&u.afterError(e,n),l})).then((function(e){return u.afterSuccess&&e&&u.afterSuccess(e),e}))},this.generateHash=function(e){var t=0;if(0===e.length)return t.toString();for(var n=0;n<e.length;n++){t=(t<<5)-t+e.charCodeAt(n),t&=t}return t.toString()},this.getCacheEntryKey=function(e){return n.generateHash(n.getHeader(e)+" : "+n.getUrl(e))},this.getUrl=function(e){return n.url(e)},this.getOptions=function(e){return n.options(e)},this.getHeader=function(t){var r=e.createHeaders(n.getOptions(t).headerOptions),a=JSON.stringify(r).split(/\{([^\ "}]+)\}/);return r?a.map((function(e,t){return t%2?r[e]:e})).join(""):a.join("")},this.onCacheClear=function(e){n.cache&&n.cache.subscribeToCacheClear(e)},this.offCacheClear=function(e){n.cache&&n.cache.unsubscribeFromCacheClear(e)},this.clearCache=function(){n.cache&&n.cache.clearCache()},this.doRequestInternal=function(e,t){var r,a=n.getCacheEntryKey(e);if(n.cacheEnabled&&null!=(r=n.cache)&&r.hasEntry(a))return n.cache.getEntry(a);var i=n.request(e,t);return n.cacheEnabled&&i.then((function(){var e;return null==(e=n.cache)?void 0:e.addEntry(a,i)})).catch((function(e){return console.warn("Omit cache entry",e)})),i},this.url=r,this.cacheEnabled=i||!1,this.options=o||function(){return{}},this.cacheEnabled&&(this.cache=new b)};function S(e){return JSON.parse(e,(function(e,t){return"string"==typeof t&&/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d(\.\d{1,3})?([+-][0-2]\d:[0-5]\d|Z)$/.test(t)?new Date(t):t}))}T.createHeaders=function(e){var t=e||{};return t={defaultContentTypeJsonUTF8:void 0===t.defaultContentTypeJsonUTF8||t.defaultContentTypeJsonUTF8,customHeaders:t.customHeaders||{},authToken:t.authToken,requestedWith:t.requestedWith||"XMLHttpRequest"},Object.assign({},t.defaultContentTypeJsonUTF8&&{"Content-Type":"application/json; charset=UTF-8"},t.authToken&&{Authorization:"Bearer "+t.authToken},t.requestedWith&&{"X-Requested-With":t.requestedWith},t.customHeaders&&t.customHeaders)};var $=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).request=function(e){return new Promise((function(n,r){var a=new XMLHttpRequest;a.open("GET",t.getUrl(e),!0),a.timeout=t.getOptions(e).timeout||18e4;var i=JSON.parse(t.getHeader(e));Object.keys(i).forEach((function(e){a.setRequestHeader(e,i[e])})),a.onload=function(){var e,t=-1!==(a.getResponseHeader("Content-Type")||"").indexOf("html");if(a.status<200||a.status>=400)return r(a);if(t)return n(a.responseText);try{e=a.responseText?S(a.responseText):void 0}catch(e){return r(a)}n(e)},a.onerror=function(){r(a)},a.send();var o=t.getAjaxSignal(e);o&&(o.onabort=function(){console.log("GetEndpoint: request aborted by user "+t.getUrl(e)),a.abort(),n(void 0)})}))},t.getAjaxSignal=function(e){return e.signal},t}return w(t,e),t}(T);$.create=function(e){var t=e.url,n=e.cacheEnabled,r=e.options;return new $({url:t,cacheEnabled:n,options:r})},$.create({url:function(e){return e.encodedContextPath+"/login/token"},cacheEnabled:!1});var O=function(e,t){return void 0===t&&(t=[]),e.replaceAll("{}",function(e){var t=0;return function(n){return e[t++]||n}}(t).toString())},k=function(e){return"/"+(null==(t=window.location.pathname.split("/").filter((function(e){return e})))?void 0:t[0])+"/"+(null==t?void 0:t[1])+e;var t},L=function(e,t){void 0===e&&(e=""),void 0===t&&(t="occ");var n="";switch(t){case"occ":n=function(e){var t="rootB2BUnit",n=new URL(e,"http://updateQueryParams");return n.searchParams.has(t)&&n.searchParams.delete(t),n.searchParams.append(t,"{rootB2BUnit}"),decodeURI(""+n.pathname+n.search)}(function(e){return"/dormakabacommercewebservices/v2"+e}(e));break;case"redirect":n=k(e)}return n};var N=function(){var t=f().translations,n=e.useCallback((function(e){var n=null==t?void 0:t[e];if(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return a.length?O(n,a):n}return e}),[t]);return{t:n}};function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}o.default.createContext(null);!function(e,t){e.exports=function(){var e=1e3,t=6e4,n=36e5,r="millisecond",a="second",i="minute",o="hour",s="day",u="week",l="month",c="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},y={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),a=n%60;return(t<=0?"+":"-")+g(r,2,"0")+":"+g(a,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),a=t.clone().add(r,l),i=n-a<0,o=t.clone().add(r+(i?-1:1),l);return+(-(r+(n-a)/(i?a-o:o-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:l,y:d,w:u,d:s,D:f,h:o,m:i,s:a,ms:r,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},w="en",b={};b[w]=m;var E=function(e){return e instanceof S},x=function(e,t,n){var r;if(!e)return w;if("string"==typeof e)b[e]&&(r=e),t&&(b[e]=t,r=e);else{var a=e.name;b[a]=e,r=a}return!n&&r&&(w=r),r||!n&&w},C=function(e,t){if(E(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new S(n)},T=y;T.l=x,T.i=E,T.w=function(e,t){return C(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function m(e){this.$L=x(e.locale,null,!0),this.parse(e)}var g=m.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(T.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var a=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],a,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return T},g.isValid=function(){return!(this.$d.toString()===h)},g.isSame=function(e,t){var n=C(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return C(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<C(e)},g.$g=function(e,t,n){return T.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,r=!!T.u(t)||t,c=T.p(e),h=function(e,t){var a=T.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?a:a.endOf(s)},p=function(e,t){return T.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,m=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(c){case d:return r?h(1,0):h(31,11);case l:return r?h(1,m):h(0,m+1);case u:var w=this.$locale().weekStart||0,b=(v<w?v+7:v)-w;return h(r?g-b:g+(6-b),m);case s:case f:return p(y+"Hours",0);case o:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case a:return p(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,u=T.p(e),c="set"+(this.$u?"UTC":""),h=(n={},n[s]=c+"Date",n[f]=c+"Date",n[l]=c+"Month",n[d]=c+"FullYear",n[o]=c+"Hours",n[i]=c+"Minutes",n[a]=c+"Seconds",n[r]=c+"Milliseconds",n)[u],p=u===s?this.$D+(t-this.$W):t;if(u===l||u===d){var v=this.clone().set(f,1);v.$d[h](p),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[T.p(e)]()},g.add=function(r,c){var f,h=this;r=Number(r);var p=T.p(c),v=function(e){var t=C(h);return T.w(t.date(t.date()+Math.round(e*r)),h)};if(p===l)return this.set(l,this.$M+r);if(p===d)return this.set(d,this.$y+r);if(p===s)return v(1);if(p===u)return v(7);var m=(f={},f[i]=t,f[o]=n,f[a]=e,f)[p]||1,g=this.$d.getTime()+r*m;return T.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",a=T.z(this),i=this.$H,o=this.$m,s=this.$M,u=n.weekdays,l=n.months,c=function(e,n,a,i){return e&&(e[n]||e(t,r))||a[n].substr(0,i)},d=function(e){return T.s(i%12||12,e,"0")},f=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:T.s(s+1,2,"0"),MMM:c(n.monthsShort,s,l,3),MMMM:c(l,s),D:this.$D,DD:T.s(this.$D,2,"0"),d:String(this.$W),dd:c(n.weekdaysMin,this.$W,u,2),ddd:c(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:T.s(i,2,"0"),h:d(1),hh:d(2),a:f(i,o,!0),A:f(i,o,!1),m:String(o),mm:T.s(o,2,"0"),s:String(this.$s),ss:T.s(this.$s,2,"0"),SSS:T.s(this.$ms,3,"0"),Z:a};return r.replace(v,(function(e,t){return t||p[e]||a.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(r,f,h){var p,v=T.p(f),m=C(r),g=(m.utcOffset()-this.utcOffset())*t,y=this-m,w=T.m(this,m);return w=(p={},p[d]=w/12,p[l]=w,p[c]=w/3,p[u]=(y-g)/6048e5,p[s]=(y-g)/864e5,p[o]=y/n,p[i]=y/t,p[a]=y/e,p)[v]||y,h?w:T.a(w)},g.daysInMonth=function(){return this.endOf(l).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=x(e,t,!0);return r&&(n.$L=r),n},g.clone=function(){return T.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},m}(),$=S.prototype;return C.prototype=$,[["$ms",r],["$s",a],["$m",i],["$H",o],["$W",s],["$M",l],["$y",d],["$D",f]].forEach((function(e){$[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),C.extend=function(e,t){return e.$i||(e(t,S,C),e.$i=!0),C},C.locale=x,C.isDayjs=E,C.unix=function(e){return C(1e3*e)},C.en=b[w],C.Ls=b,C.p={},C}()}({exports:{}});var M=o.default.createContext({isLoading:!1,isOverQuantity:!1,quantity:1,handleQuantityChange:function(){}}),D=function(n){var r,a,i=n.children,s=f(),u=s.productCode,l=s.minQuantityWithoutConfirmation,c=h().addNotification,d=N().t,p=t.store.api.product.useGetSalesDetailsQuery({productCode:u}),v=p.data,m=p.isLoading,g=e.useState(1),y=g[0],w=g[1],b=null==v||null==(r=v.data)?void 0:r.minOrderQuantity,E=null==v||null==(a=v.data)?void 0:a.maxOrderQuantity,x=y<(null!=b?b:0)||y>(null!=E?E:0);return e.useEffect((function(){b&&w(b)}),[b]),o.default.createElement(M.Provider,{value:{data:null==v?void 0:v.data,urls:null==v?void 0:v.urls,isLoading:m,isOverQuantity:x,quantity:y,handleQuantityChange:function(e){e>l&&c({identifier:"quantity_warning",testid:"vanguard.cart.notifications.quantityLimitExceeded",message:d("vanguard.cart.notifications.quantityLimitExceeded"),variant:"warning"}),w(e)}}},i)},B=function(){return e.useContext(M)},P=function(){var e,t=N().t,n=B().data,a=f(),i={sapNetWeight:a.showSapNetWeight,sapGrossWeight:a.showSapGrossWeight,sapWeightUnit:a.showSapWeightUnit,sapDimensions:a.showSapDimensions},s=null==n||null==(e=n.productDataFields)?void 0:e.data.map((function(e){var n=e.name,r=e.value;if(i[n])return{key:n,name:t("vanguard.sales-details."+n),value:r}})).filter(Boolean);return null!=s&&s.length?o.default.createElement(r.List,{testid:"pdpProductDaten",header:t("vanguard.sales-details.productData")},s.map((function(e){return o.default.createElement(r.List.Item,{id:e.key,key:e.key,name:e.name,value:e.value})}))):null},j=function(){var e=B().data;return o.default.createElement(r.Box,{testid:"pdpProductDesc"},(null==e?void 0:e.description)&&o.default.createElement(r.Text,{className:"my-4"},null==e?void 0:e.description))},_=function(){var e,t,n,a=N().t,i=((null==(e=B())||null==(t=e.data)||null==(n=t.volumePrices)?void 0:n.data)||[]).filter((function(e){return!!e.minQuantity})).map((function(e,t){var n;return{id:t,name:1===e.minQuantity?a("vanguard.sales-details.grossPrice"):e.minQuantity+" "+(null==(n=e.unit)?void 0:n.name),value:e.formattedValue}}));return o.default.createElement(r.List,{testid:"pdpPriceRow",isLabelBold:!0},i.map((function(e){return o.default.createElement(r.List.Item,W({},e,{key:e.name}))})))},q="vanguard.sales-details",A={addToCartSuccess:q+".addToCart.success",addToCartError:q+".addToCart.error",addToWishlistSuccess:q+".notifications.addToWishlist.confirmation",addToWishlistError:q+".notifications.addToWishlist.error",createWishlistSuccess:q+".notifications.createWishlist.confirmation",createWishlistError:q+".notifications.createWishlist.error"},I=function(e){return A[e]},H=function(){var e=N().t,n=B(),a=n.data,i=n.isLoading,u=n.isOverQuantity,l=function(){var e=f(),n=e.cartCode,r=e.productCode,a=B(),i=a.data,o=a.quantity,s=h().addNotification,u=N().t,l=t.store.api.cart.useAddToCartMutation()[0],c=function(){var e=v(g.mark((function e(){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l({cartCode:n,productCode:r,quantity:o}).unwrap();case 3:s({message:u("vanguard.sales-details.addToCart.success",null==i?void 0:i.displayCode),variant:"success",testid:I("addToCartSuccess")}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),s({message:u("vanguard.sales-details.addToCart.error",null==i?void 0:i.displayCode),variant:"error",testid:I("addToCartError")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return{addToCart:c}}(),c=l.addToCart;if(null!=a&&a.configurable)return null;var d=(null==a?void 0:a.sapBlocked)||!(null!=a&&a.purchasable)||i||u;return o.default.createElement(o.default.Fragment,null,o.default.createElement(r.Button,{testid:"pdpButtonCart",onClick:c,iconType:"cart",disabled:d,isLoading:i,className:s.default("flex-none")},e(d?"vanguard.sales-details.addToCart.notAvailable":"vanguard.sales-details.addToCart")))},R=function(t){var n=t.isOpen,a=t.createWishlist,i=t.onCancel,u=t.testid,l=N().t,c=o.default.useState(""),d=c[0],f=c[1],h=o.default.useState(!1),p=h[0],v=h[1],m=o.default.useState(""),g=m[0],y=m[1],w=function(){v(!1),f(""),y("")},b=e.useCallback((function(){a({name:d,description:g,publicAccess:p}),w()}),[a,d,g,p]);return o.default.createElement(r.Dialog,{headerTitle:l("vanguard.sales-details.wishlist.create"),width:"200",isOpen:n,testid:u,onClose:i},o.default.createElement(r.Box,{className:s.default("pb-1","flex","space-x-4")},o.default.createElement(r.TextInput,{label:l("vanguard.sales-details.wishlist.name"),placeholder:l("vanguard.sales-details.wishlist.name"),fullWidth:!0,className:s.default("flex-grow"),name:"vgWTitle",value:d,onChange:function(e){return f(e.target.value)},testid:u+".name"}),o.default.createElement(r.Switch,{checked:p,variant:"buttons",value:"on",onChildren:l("vanguard.sales-details.wishlist.public"),onChildrenIcon:"show",offChildren:l("vanguard.sales-details.wishlist.private"),offChildrenIcon:"hidden",onChange:function(){v(!p)},className:s.default("flex-none"),testid:u+".options"},l("vanguard.sales-details.wishlist.options"))),o.default.createElement(r.Box,{className:s.default("pb-1")},o.default.createElement(r.TextInput,{label:l("vanguard.sales-details.wishlist.description"),fullWidth:!0,rows:5,name:"vgWDesc",testid:u+".description",multiline:!0,placeholder:l("vanguard.sales-details.wishlist.description"),value:g,onChange:function(e){return y(e.target.value)}})),o.default.createElement(r.Box,{className:s.default("pb-1")}),o.default.createElement(r.Box,{className:"flex flex-row mt-8 space-x-8 justify-between"},o.default.createElement(r.Button,{variant:"primaryBorder",onClick:function(){w(),i()},testid:u+".cancel"},l("vanguard.sales-details.wishlist.cancel")),o.default.createElement(r.Button,{onClick:b,testid:u+".create"},l("vanguard.sales-details.wishlist.create"))))},F=function(){var n=N().t,a=B().data,i=function(){var n=N().t,r=h().addNotification,a=f().productCode,i=B().quantity,o=e.useState(!1),s=o[0],u=o[1],l=t.store.api.wishlist.useGetWishlistsQuery().data,c=t.store.api.wishlist.useAddToWishlistMutation(),d=c[0],p=c[1].isLoading,m=t.store.api.wishlist.useCreateWishlistMutation(),y=m[0],w=m[1].isLoading,b=e.useCallback(function(){var e=v(g.mark((function e(t){return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d({productCode:a,wishlistCode:t,quantity:i}).unwrap();case 3:r({message:n("vanguard.sales-details.notifications.addToWishlist.confirmation"),variant:"success",testid:I("addToWishlistSuccess")}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r({message:n("vanguard.sales-details.notifications.addToWishlist.error"),variant:"error",testid:I("addToWishlistError")});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[r,d,a,i,n]),E=e.useCallback(function(){var e=v(g.mark((function e(t){var a,i,o,s,l;return g.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,i=t.description,o=t.publicAccess,e.prev=1,e.next=4,y({name:a,description:i,publicAccess:o}).unwrap();case 4:s=e.sent,l=s.code,r({message:n("vanguard.sales-details.notifications.createWishlist.confirmation"),variant:"success",testid:I("createWishlistSuccess")}),b(l),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r({message:n("vanguard.sales-details.notifications.createWishlist.error"),variant:"error",testid:I("createWishlistError")});case 13:return e.prev=13,u(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])})));return function(t){return e.apply(this,arguments)}}(),[r,y,b,n]);return{isLoading:p||w,isCreating:s,addToWishlist:b,createWishlist:E,wishlists:(null==l?void 0:l.results)||[],onCreateWishlist:function(){return u(!0)},onCancelCreateWishlist:function(){return u(!1)}}}(),s=i.isLoading,u=i.wishlists,l=i.isCreating,c=i.onCreateWishlist,d=i.onCancelCreateWishlist,p=i.createWishlist,m=i.addToWishlist,y=e.useMemo((function(){return(u||[]).map((function(e){return{label:e.name,value:e.code}}))}),[u]),w=e.useCallback((function(e){m(e.target.value)}),[m]),b=e.useCallback((function(e){p(e)}),[p]);return null!=a&&a.configurable?null:o.default.createElement(o.default.Fragment,null,o.default.createElement(r.Select,{id:"wishlist-select",testid:"pdpButtonWishlist",value:n("vanguard.sales-details.addToWishlist"),onChange:w,allowClearAll:!1,options:y,isLoading:s},o.default.createElement(r.Button,{testid:"pdpNewWishlistButton",onClick:c,variant:"white",iconType:"plus",isBlocked:!0},n("vanguard.sales-details.wishlist.new"))),o.default.createElement(R,{isOpen:l,onCancel:d,createWishlist:b,testid:"vanguard.pdp.wishlist.new.dialog"}))},U=function(){var e=N().t,t=B(),n=t.data,a=t.urls,i=t.isLoading,u=L(null==a?void 0:a.goToConfigure,"redirect"),l=!(null!=n&&n.sapBlocked)&&(null==n?void 0:n.purchasable),c=!l||i;return null!=n&&n.configurable?o.default.createElement(r.Link,{href:u},o.default.createElement(r.Button,{testid:"pdpButtonConfigure",isLoading:i,disabled:c,iconType:"filter",className:s.default("flex-none")},e(l?"vanguard.sales-details.configure":"vanguard.sales-details.addToCart.notAvailable"))):null},Q=function(){var e=f().showContactLink,t=N().t,n=B().urls,a=L(null==n?void 0:n.goToSupport,"redirect");return e?o.default.createElement(r.Link,{href:a,testid:"pdpOpenContactForm"},o.default.createElement(r.Button,{variant:"primary",size:"tiny",isLink:!0},t("vanguard.sales-details.support"))):null},G=function(){var e=N().t,t=f().showSapBlocked,n=B().data;return t?o.default.createElement(r.Box,null,o.default.createElement(r.Text,{describe:!0,color:"gray-400"},e("vanguard.sales-details.orderStatus"),":"),o.default.createElement(r.Box,{className:"flex items-center space-x-1"},o.default.createElement(r.Box,{className:s.default("w-3 h-3 rounded-full",{"bg-red-600":null==n?void 0:n.sapBlocked,"bg-green-600":!(null!=n&&n.sapBlocked)})}),o.default.createElement(r.Text,{type:"span",bold:!0},e(null!=n&&n.sapBlocked?"vanguard.sales-details.orderStatus.notOrderable":"vanguard.sales-details.orderStatus.orderable")))):null},J=function(){var e,t=N().t,n=f().showSyncWithSapERP,a=B().data,i=((null==a||null==(e=a.productDataFields)?void 0:e.data)||[]).find((function(e){return"inSyncWithErp"===e.name})),u="true"===(null==i?void 0:i.value);return n&&i?o.default.createElement(r.Box,null,o.default.createElement(r.Text,{describe:!0,color:"gray-400"},t("vanguard.pdp.inSyncwithERP"),":"),o.default.createElement(r.Box,{className:"flex items-center space-x-1"},o.default.createElement(r.Box,{className:s.default("w-3 h-3 rounded-full",{"bg-green-600":u,"bg-red-600":!u})}),o.default.createElement(r.Text,{type:"span",bold:!0},t(u?"vanguard.pdp.inSyncwithERP.true":"vanguard.pdp.inSyncwithERP.false")))):null},Y=function(){var e,t,n=N().t,a=B(),i=a.data,u=a.quantity,l=a.handleQuantityChange,c=f(),d=c.showQuantityField,h=c.showAddToCart,p=c.showAddToWishlist,v=c.showGrossPrice,m=!(null!=i&&i.configurable)&&d,g=!(null==i||null==(e=i.volumePrices)?void 0:e.data.some((function(e){return 1===e.minQuantity})))&&v&&!(null!=i&&i.configurable);return o.default.createElement(o.default.Fragment,null,o.default.createElement(r.Box,{className:s.default("flex","py-2","justify-between","items-end")},o.default.createElement(r.Box,{className:s.default("pr-2")},m&&o.default.createElement(r.NumberInput,{label:n("vanguard.sales-details.quantity"),caption:null==i||null==(t=i.unit)?void 0:t.name,value:u,id:(null==i?void 0:i.displayCode)+"_1",testid:"pdpInputQuantity",onChange:l,onBlur:l,min:1})),o.default.createElement(r.Box,{className:s.default("flex","flex-1","space-x-4","justify-end")},o.default.createElement(U,null),p&&o.default.createElement(F,null),h&&o.default.createElement(H,null))),g&&o.default.createElement(r.Text,{className:"flex justify-start w-full py-3 mt-10 mb-4",testid:"pdpGrossprice"},o.default.createElement(r.Text,{type:"span",className:"flex-grow space-x-8 font-semibold",testid:"pdpGrossprice.label"},n("vanguard.sales-details.price")),o.default.createElement(r.Text,{type:"span",testid:"pdpGrossprice.value"},o.default.createElement(r.Price,{price:null==i?void 0:i.price}))),o.default.createElement(r.Box,{className:s.default("flex","justify-between","mt-2","mb-6","space-x-10")},o.default.createElement(G,null),o.default.createElement(J,null),o.default.createElement(Q,null)))},z=function(e){var t=e.label,n=e.right,a=e.children,i=e.visible,s=e.testid;return i&&o.default.createElement(r.Box,{testid:s},o.default.createElement(r.Text,{testid:s+".label",textalign:n?"right":"left",describe:!0,color:"gray-400"},t),o.default.createElement(r.Text,{testid:s+".value",textalign:n?"right":"left",bold:!0},a))},V=function(){var e=B().data,t=N().t;return o.default.createElement(o.default.Fragment,null,o.default.createElement(r.Box,{testid:"pdpProductName"},o.default.createElement(r.Text,{type:"h2",color:"primary",className:s.default("mt-6")},null==e?void 0:e.name)),o.default.createElement(r.Box,{className:"flex justify-start w-full pb-3 mt-10 mb-4 border-b border-primarylight"},o.default.createElement(r.Box,{className:s.default("flex","flex-grow","space-x-8")},o.default.createElement(z,{label:t("vanguard.sales-details.materialNumber"),visible:!(null==e||!e.displayCode),testid:"pdpProductMaterialNumber"},null==e?void 0:e.displayCode),o.default.createElement(z,{visible:!(null==e||!e.ean),label:t("vanguard.sales-details.ean"),testid:"pdpProductEAN"},null==e?void 0:e.ean)),o.default.createElement(r.Box,{className:s.default("flex","flex-none")},o.default.createElement(z,{right:!0,label:t("vanguard.sales-details.netPrice"),visible:!(null==e||!e.netPrice),testid:"pdpNetprice"},o.default.createElement(r.Price,{price:null==e?void 0:e.netPrice})))))},Z=function(){var e=B().data;return o.default.createElement(r.Box,{id:null==e?void 0:e.displayCode,testid:"vg-sales-detail",type:"section",className:s.default("mt-12","lg:w-cohalf","lg:float-left","lg:pl-gap")},o.default.createElement(V,null),o.default.createElement(Y,null),o.default.createElement(_,null),o.default.createElement(j,null),o.default.createElement(P,null))},X=function(){return B().isLoading?o.default.createElement(r.Loader,{className:"mx-auto",size:"lg"}):o.default.createElement(Z,null)};!function(e,r){var a='[data-react-app="'+r+'"]',i=document.querySelector(a);if(!i)throw new Error(a+" is missing");var s=document.createElement("div");i.appendChild(s),n.render(function(e,n){return o.default.createElement(t.StoreProvider,null,o.default.createElement(d,{appId:n},o.default.createElement(l,{appId:n},o.default.createElement(e,null))))}(e,r),s)}((function(){return o.default.createElement(D,null,o.default.createElement(X,null))}),"sales-details")}));
