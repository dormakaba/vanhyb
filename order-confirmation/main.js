!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("@Apps/backbone"),require("react"),require("react-dom"),require("@dormakaba/vanguard"),require("classnames")):"function"==typeof define&&define.amd?define(["@Apps/backbone","react","react-dom","@dormakaba/vanguard","classnames"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).backbone,e.dormakaba.vendorReact["vendor/react"],e.dormakaba.vendorReact["vendor/react-dom"],e.DormakabaVanguard,e.dormakaba.vendorReact["vendor/classnames"])}(this,(function(e,t,r,n,i){"use strict";var a,s,o,l=function(e,t){return void 0===t&&(t=[]),e.replaceAll("{}",function(e){var t=0;return function(r){return""+e[t++]||r}}(t))},u=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{}),c={};function d(){if(s)return a;s=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}return a=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(i,a){for(var s,o,l=n(i),u=1;u<arguments.length;u++){for(var c in s=Object(arguments[u]))t.call(s,c)&&(l[c]=s[c]);if(e){o=e(s);for(var d=0;d<o.length;d++)r.call(s,o[d])&&(l[o[d]]=s[o[d]])}}return l},a}!function(e){e.exports=function(){if(o)return c;o=1,d();var e=t,r=60103;if(c.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var n=Symbol.for;r=n("react.element"),c.Fragment=n("react.fragment")}var i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var o,l={},u=null,c=null;for(o in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,o)&&!s.hasOwnProperty(o)&&(l[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===l[o]&&(l[o]=t[o]);return{$$typeof:r,type:e,key:u,ref:c,props:l,_owner:i.current}}return c.jsx=l,c.jsxs=l,c}()}({get exports(){return u},set exports(e){u=e}});var f=t.createContext(null),m=function(e){var r=e.appId,n=e.children,i=t.useMemo((function(){var e='[data-react-app="'+r+'"]',t=document.querySelector(e);if(!t)throw new Error(e+" is missing");var n=t.querySelector("script");try{return JSON.parse(n.innerHTML)}catch(e){throw Error("Couldn't load config of #"+r)}}),[r]);return u.jsx(f.Provider,{value:i,children:n})},h=t.createContext(null),p=function(e){var r=e.children,n=t.useState(new URL(location.href));return u.jsx(h.Provider,{value:n,children:r})};var v=function(e){return"/"+(null==(t=window.location.pathname.split("/").filter((function(e){return e})))?void 0:t[0])+"/"+(null==t?void 0:t[1])+e;var t},y=function(e,t){void 0===e&&(e=""),void 0===t&&(t="occ");var r="";switch(t){case"occ":r=function(e){var t="rootB2BUnit",r=new URL(e,"http://updateQueryParams");return r.searchParams.has(t)&&r.searchParams.delete(t),r.searchParams.append(t,"{rootB2BUnit}"),decodeURI(""+r.pathname+r.search)}(function(e){return"/dormakabacommercewebservices/v2"+e}(e));break;case"redirect":r=v(e)}return r};function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function x(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==g(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===g(t)?t:String(t)}function b(e,t,r){return(t=x(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var N=function(){var e=t.useContext(f),r=t.useCallback((function(t){var r,n=null==(r=e.translations)?void 0:r[t];if(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return a.length?l(n,a):n}return t}),[e]);return w(w({},e),{},{t:r})},C={},S={get exports(){return C},set exports(e){C=e}},k={};!function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}({get exports(){return k},set exports(e){k=e}}),function(e){var t=k.default;function r(){e.exports=r=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var n={},i=Object.prototype,a=i.hasOwnProperty,s=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),o=new T(n||[]);return s(a,"_invoke",{value:C(e,r,o)}),a}function m(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var h={};function p(){}function v(){}function y(){}var g={};d(g,l,(function(){return this}));var x=Object.getPrototypeOf,b=x&&x(x(O([])));b&&b!==i&&a.call(b,l)&&(g=b);var j=y.prototype=p.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,r){function n(i,s,o,l){var u=m(e[i],e,s);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==t(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(e){n("next",e,o,l)}),(function(e){n("throw",e,o,l)})):r.resolve(d).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,l)}))}l(u.arg)}var i;s(this,"_invoke",{value:function(e,t){function a(){return new r((function(r,i){n(e,t,r,i)}))}return i=i?i.then(a,a):a()}})}function C(e,t,r){var n="suspendedStart";return function(i,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw a;return A()}for(r.method=i,r.arg=a;;){var s=r.delegate;if(s){var o=S(s,r);if(o){if(o===h)continue;return o}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var l=m(e,t,r);if("normal"===l.type){if(n=r.done?"completed":"suspendedYield",l.arg===h)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n="completed",r.method="throw",r.arg=l.arg)}}}function S(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var i=m(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(a.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return n.next=n}}return{next:A}}function A(){return{value:void 0,done:!0}}return v.prototype=y,s(j,"constructor",{value:y,configurable:!0}),s(y,"constructor",{value:v,configurable:!0}),v.displayName=d(y,c,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,d(e,c,"GeneratorFunction")),e.prototype=Object.create(j),e},n.awrap=function(e){return{__await:e}},w(N.prototype),d(N.prototype,u,(function(){return this})),n.AsyncIterator=N,n.async=function(e,t,r,i,a){void 0===a&&(a=Promise);var s=new N(f(e,t,r,i),a);return n.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(j),d(j,c,"Generator"),d(j,l,(function(){return this})),d(j,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},n.values=O,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,n){return s.type="throw",s.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var o=a.call(i,"catchLoc"),l=a.call(i,"finallyLoc");if(o&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(o){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;_(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},n}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(S);var _=C();try{regeneratorRuntime=_}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=_:Function("r","regeneratorRuntime = r")(_)}var T=e=>"checkbox"===e.type,O=e=>e instanceof Date,A=e=>null==e;const D=e=>"object"==typeof e;var L=e=>!A(e)&&!Array.isArray(e)&&D(e)&&!O(e),P=e=>L(e)&&e.target?T(e.target)?e.target.checked:e.target.value:e,E=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),V=e=>Array.isArray(e)?e.filter(Boolean):[],F=e=>void 0===e,$=(e,t,r)=>{if(!t||!L(e))return r;const n=V(t.split(/[,[\].]+?/)).reduce(((e,t)=>A(e)?e:e[t]),e);return F(n)||n===e?F(e[t])?r:e[t]:n};const M="blur",I="focusout",B="change",q="onBlur",R="onChange",z="onSubmit",U="onTouched",Y="all",H="max",G="min",W="maxLength",Q="minLength",J="pattern",Z="required",K="validate",X=t.createContext(null),ee=()=>t.useContext(X);var te=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(i,a,{get:()=>{const i=a;return t._proxyFormState[i]!==Y&&(t._proxyFormState[i]=!n||Y),r&&(r[i]=!0),e[i]}});return i},re=e=>L(e)&&!Object.keys(e).length,ne=(e,t,r,n)=>{r(e);const{name:i,...a}=e;return re(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find((e=>t[e]===(!n||Y)))},ie=e=>Array.isArray(e)?e:[e],ae=(e,t,r)=>r&&t?e===t:!e||!t||e===t||ie(e).some((e=>e&&(e.startsWith(t)||t.startsWith(e))));function se(e){const r=t.useRef(e);r.current=e,t.useEffect((()=>{const t=!e.disabled&&r.current.subject.subscribe({next:r.current.next});return()=>{t&&t.unsubscribe()}}),[e.disabled])}var oe=e=>"string"==typeof e,le=(e,t,r,n,i)=>oe(e)?(n&&t.watch.add(e),$(r,e,i)):Array.isArray(e)?e.map((e=>(n&&t.watch.add(e),$(r,e)))):(n&&(t.watchAll=!0),r),ue="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function ce(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(ue&&(e instanceof Blob||e instanceof FileList)||!r&&!L(e))return e;if(t=r?[]:{},Array.isArray(e)||(e=>{const t=e.constructor&&e.constructor.prototype;return L(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const r in e)t[r]=ce(e[r]);else t=e}return t}function de(e){const r=ee(),{name:n,control:i=r.control,shouldUnregister:a}=e,s=E(i._names.array,n),o=function(e){const r=ee(),{control:n=r.control,name:i,defaultValue:a,disabled:s,exact:o}=e||{},l=t.useRef(i);l.current=i,se({disabled:s,subject:n._subjects.watch,next:e=>{ae(l.current,e.name,o)&&c(ce(le(l.current,n._names,e.values||n._formValues,!1,a)))}});const[u,c]=t.useState(n._getWatch(i,a));return t.useEffect((()=>n._removeUnmounted())),u}({control:i,name:n,defaultValue:$(i._formValues,n,$(i._defaultValues,n,e.defaultValue)),exact:!0}),l=function(e){const r=ee(),{control:n=r.control,disabled:i,name:a,exact:s}=e||{},[o,l]=t.useState(n._formState),u=t.useRef(!0),c=t.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=t.useRef(a);return d.current=a,se({disabled:i,next:e=>u.current&&ae(d.current,e.name,s)&&ne(e,c.current,n._updateFormState)&&l({...n._formState,...e}),subject:n._subjects.state}),t.useEffect((()=>{u.current=!0;const e=n._proxyFormState.isDirty&&n._getDirty();return e!==n._formState.isDirty&&n._subjects.state.next({isDirty:e}),c.current.isValid&&n._updateValid(!0),()=>{u.current=!1}}),[n]),te(o,n,c.current,!1)}({control:i,name:n}),u=t.useRef(i.register(n,{...e.rules,value:o}));return t.useEffect((()=>{const e=(e,t)=>{const r=$(i._fields,e);r&&(r._f.mount=t)};return e(n,!0),()=>{const t=i._options.shouldUnregister||a;(s?t&&!i._stateFlags.action:t)?i.unregister(n):e(n,!1)}}),[n,i,s,a]),{field:{name:n,value:o,onChange:t.useCallback((e=>u.current.onChange({target:{value:P(e),name:n},type:B})),[n]),onBlur:t.useCallback((()=>u.current.onBlur({target:{value:$(i._formValues,n),name:n},type:M})),[n,i]),ref:e=>{const t=$(i._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!$(l.errors,n)},isDirty:{enumerable:!0,get:()=>!!$(l.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!$(l.touchedFields,n)},error:{enumerable:!0,get:()=>$(l.errors,n)}})}}const fe=e=>e.render(de(e));var me=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},he=e=>/^\w*$/.test(e),pe=e=>V(e.replace(/["|']|\]/g,"").split(/\.|\[/));function ve(e,t,r){let n=-1;const i=he(t)?[t]:pe(t),a=i.length,s=a-1;for(;++n<a;){const t=i[n];let a=r;if(n!==s){const r=e[t];a=L(r)||Array.isArray(r)?r:isNaN(+i[n+1])?{}:[]}e[t]=a,e=e[t]}return e}const ye=(e,t,r)=>{for(const n of r||Object.keys(e)){const r=$(e,n);if(r){const{_f:e,...n}=r;if(e&&t(e.name)){if(e.ref.focus){e.ref.focus();break}if(e.refs&&e.refs[0].focus){e.refs[0].focus();break}}else L(n)&&ye(n,t)}}};var ge=e=>({isOnSubmit:!e||e===z,isOnBlur:e===q,isOnChange:e===R,isOnAll:e===Y,isOnTouch:e===U}),xe=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))))),be=(e,t,r)=>{const n=V($(e,r));return ve(n,"root",t[r]),ve(e,r,n),e},je=e=>"boolean"==typeof e,we=e=>"file"===e.type,Ne=e=>"function"==typeof e,Ce=e=>{if(!ue)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Se=e=>oe(e)||t.isValidElement(e),ke=e=>"radio"===e.type,_e=e=>e instanceof RegExp;const Te={value:!1,isValid:!1},Oe={value:!0,isValid:!0};var Ae=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!F(e[0].attributes.value)?F(e[0].value)||""===e[0].value?Oe:{value:e[0].value,isValid:!0}:Oe:Te}return Te};const De={isValid:!1,value:null};var Le=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),De):De;function Pe(e,t,r="validate"){if(Se(e)||Array.isArray(e)&&e.every(Se)||je(e)&&!e)return{type:r,message:Se(e)?e:"",ref:t}}var Ee=e=>L(e)&&!_e(e)?e:{value:e,message:""},Ve=async(e,t,r,n,i)=>{const{ref:a,refs:s,required:o,maxLength:l,minLength:u,min:c,max:d,pattern:f,validate:m,name:h,valueAsNumber:p,mount:v,disabled:y}=e._f,g=$(t,h);if(!v||y)return{};const x=s?s[0]:a,b=e=>{n&&x.reportValidity&&(x.setCustomValidity(je(e)?"":e||""),x.reportValidity())},j={},w=ke(a),N=T(a),C=w||N,S=(p||we(a))&&F(a.value)&&F(g)||Ce(a)&&""===a.value||""===g||Array.isArray(g)&&!g.length,k=me.bind(null,h,r,j),_=(e,t,r,n=W,i=Q)=>{const s=e?t:r;j[h]={type:e?n:i,message:s,ref:a,...k(e?n:i,s)}};if(i?!Array.isArray(g)||!g.length:o&&(!C&&(S||A(g))||je(g)&&!g||N&&!Ae(s).isValid||w&&!Le(s).isValid)){const{value:e,message:t}=Se(o)?{value:!!o,message:o}:Ee(o);if(e&&(j[h]={type:Z,message:t,ref:x,...k(Z,t)},!r))return b(t),j}if(!(S||A(c)&&A(d))){let e,t;const n=Ee(d),i=Ee(c);if(A(g)||isNaN(g)){const r=a.valueAsDate||new Date(g),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==a.type,l="week"==a.type;oe(n.value)&&g&&(e=o?s(g)>s(n.value):l?g>n.value:r>new Date(n.value)),oe(i.value)&&g&&(t=o?s(g)<s(i.value):l?g<i.value:r<new Date(i.value))}else{const r=a.valueAsNumber||(g?+g:g);A(n.value)||(e=r>n.value),A(i.value)||(t=r<i.value)}if((e||t)&&(_(!!e,n.message,i.message,H,G),!r))return b(j[h].message),j}if((l||u)&&!S&&(oe(g)||i&&Array.isArray(g))){const e=Ee(l),t=Ee(u),n=!A(e.value)&&g.length>e.value,i=!A(t.value)&&g.length<t.value;if((n||i)&&(_(n,e.message,t.message),!r))return b(j[h].message),j}if(f&&!S&&oe(g)){const{value:e,message:t}=Ee(f);if(_e(e)&&!g.match(e)&&(j[h]={type:J,message:t,ref:a,...k(J,t)},!r))return b(t),j}if(m)if(Ne(m)){const e=Pe(await m(g,t),x);if(e&&(j[h]={...e,...k(K,e.message)},!r))return b(e.message),j}else if(L(m)){let e={};for(const n in m){if(!re(e)&&!r)break;const i=Pe(await m[n](g,t),x,n);i&&(e={...i,...k(n,i.message)},b(i.message),r&&(j[h]=e))}if(!re(e)&&(j[h]={ref:x,...e},!r))return j}return b(!0),j};function Fe(e,t){const r=Array.isArray(t)?t:he(t)?[t]:pe(t),n=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=F(e)?n++:e[t[n++]];return e}(e,r),i=r.length-1,a=r[i];return n&&delete n[a],0!==i&&(L(n)&&re(n)||Array.isArray(n)&&function(e){for(const t in e)if(!F(e[t]))return!1;return!0}(n))&&Fe(e,r.slice(0,-1)),e}function $e(){let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var Me=e=>A(e)||!D(e);function Ie(e,t){if(Me(e)||Me(t))return e===t;if(O(e)&&O(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const r=e[i];if(!n.includes(i))return!1;if("ref"!==i){const e=t[i];if(O(r)&&O(e)||L(r)&&L(e)||Array.isArray(r)&&Array.isArray(e)?!Ie(r,e):r!==e)return!1}}return!0}var Be=e=>"select-multiple"===e.type,qe=e=>Ce(e)&&e.isConnected,Re=e=>{for(const t in e)if(Ne(e[t]))return!0;return!1};function ze(e,t={}){const r=Array.isArray(e);if(L(e)||r)for(const r in e)Array.isArray(e[r])||L(e[r])&&!Re(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ze(e[r],t[r])):A(e[r])||(t[r]=!0);return t}function Ue(e,t,r){const n=Array.isArray(e);if(L(e)||n)for(const n in e)Array.isArray(e[n])||L(e[n])&&!Re(e[n])?F(t)||Me(r[n])?r[n]=Array.isArray(e[n])?ze(e[n],[]):{...ze(e[n])}:Ue(e[n],A(t)?{}:t[n],r[n]):Ie(e[n],t[n])?delete r[n]:r[n]=!0;return r}var Ye=(e,t)=>Ue(e,t,ze(t)),He=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>F(e)?e:t?""===e?NaN:e?+e:e:r&&oe(e)?new Date(e):n?n(e):e;function Ge(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return we(t)?t.files:ke(t)?Le(e.refs).value:Be(t)?[...t.selectedOptions].map((({value:e})=>e)):T(t)?Ae(e.refs).value:He(F(t.value)?e.ref.value:t.value,e)}var We=e=>F(e)?e:_e(e)?e.source:L(e)?_e(e.value)?e.value.source:e.value:e;function Qe(e,t,r){const n=$(e,r);if(n||he(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const n=i.join("."),a=$(t,n),s=$(e,n);if(a&&!Array.isArray(a)&&r!==n)return{name:r};if(s&&s.type)return{name:n,error:s};i.pop()}return{name:r}}const Je={mode:z,reValidateMode:R,shouldFocusError:!0};function Ze(e={},t){let r={...Je,...e};const n=e.resetOptions&&e.resetOptions.keepDirtyValues;let i,a={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},o=(L(r.defaultValues)||L(r.values))&&ce(r.defaultValues||r.values)||{},l=r.shouldUnregister?{}:ce(o),u={action:!1,mount:!1,watch:!1},c={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d=0;const f={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={watch:$e(),array:$e(),state:$e()},h=ge(r.mode),p=ge(r.reValidateMode),v=r.criteriaMode===Y,y=async e=>{if(f.isValid||e){const e=r.resolver?re((await w()).errors):await N(s,!0);e!==a.isValid&&m.state.next({isValid:e})}},g=e=>f.isValidating&&m.state.next({isValidating:e}),x=(e,t,r,n)=>{const i=$(s,e);if(i){const a=$(l,e,F(r)?$(o,e):r);F(a)||n&&n.defaultChecked||t?ve(l,e,t?a:Ge(i._f)):k(e,a),u.mount&&y()}},b=(e,t,r,n,i)=>{let s=!1,l=!1;const u={name:e};if(!r||n){f.isDirty&&(l=a.isDirty,a.isDirty=u.isDirty=C(),s=l!==u.isDirty);const r=Ie($(o,e),t);l=$(a.dirtyFields,e),r?Fe(a.dirtyFields,e):ve(a.dirtyFields,e,!0),u.dirtyFields=a.dirtyFields,s=s||f.dirtyFields&&l!==!r}if(r){const t=$(a.touchedFields,e);t||(ve(a.touchedFields,e,r),u.touchedFields=a.touchedFields,s=s||f.touchedFields&&t!==r)}return s&&i&&m.state.next(u),s?u:{}},j=(t,r,n,s)=>{const o=$(a.errors,t),l=f.isValid&&je(r)&&a.isValid!==r;var u;if(e.delayError&&n?(u=()=>((e,t)=>{ve(a.errors,e,t),m.state.next({errors:a.errors})})(t,n),i=e=>{clearTimeout(d),d=window.setTimeout(u,e)},i(e.delayError)):(clearTimeout(d),i=null,n?ve(a.errors,t,n):Fe(a.errors,t)),(n?!Ie(o,n):o)||!re(s)||l){const e={...s,...l&&je(r)?{isValid:r}:{},errors:a.errors,name:t};a={...a,...e},m.state.next(e)}g(!1)},w=async e=>await r.resolver(l,r.context,((e,t,r,n)=>{const i={};for(const r of e){const e=$(t,r);e&&ve(i,r,e._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}})(e||c.mount,s,r.criteriaMode,r.shouldUseNativeValidation)),N=async(e,t,n={valid:!0})=>{for(const i in e){const s=e[i];if(s){const{_f:e,...i}=s;if(e){const i=c.array.has(e.name),o=await Ve(s,l,v,r.shouldUseNativeValidation,i);if(o[e.name]&&(n.valid=!1,t))break;!t&&($(o,e.name)?i?be(a.errors,o,e.name):ve(a.errors,e.name,o[e.name]):Fe(a.errors,e.name))}i&&await N(i,t,n)}}return n.valid},C=(e,t)=>(e&&t&&ve(l,e,t),!Ie(R(),o)),S=(e,t,r)=>le(e,c,{...u.mount?l:F(t)?o:oe(e)?{[e]:t}:t},r,t),k=(e,t,r={})=>{const n=$(s,e);let i=t;if(n){const r=n._f;r&&(!r.disabled&&ve(l,e,He(t,r)),i=Ce(r.ref)&&A(t)?"":t,Be(r.ref)?[...r.ref.options].forEach((e=>e.selected=i.includes(e.value))):r.refs?T(r.ref)?r.refs.length>1?r.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value))):r.refs[0]&&(r.refs[0].checked=!!i):r.refs.forEach((e=>e.checked=e.value===i)):we(r.ref)?r.ref.value="":(r.ref.value=i,r.ref.type||m.watch.next({name:e})))}(r.shouldDirty||r.shouldTouch)&&b(e,i,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&q(e)},_=(e,t,r)=>{for(const n in t){const i=t[n],a=`${e}.${n}`,o=$(s,a);!c.array.has(e)&&Me(i)&&(!o||o._f)||O(i)?k(a,i,r):_(a,i,r)}},D=(e,r,n={})=>{const i=$(s,e),a=c.array.has(e),d=ce(r);ve(l,e,d),a?(m.array.next({name:e,values:l}),(f.isDirty||f.dirtyFields)&&n.shouldDirty&&m.state.next({name:e,dirtyFields:Ye(o,l),isDirty:C(e,d)})):!i||i._f||A(d)?k(e,d,n):_(e,d,n),xe(e,c)&&m.state.next({}),m.watch.next({name:e}),!u.mount&&t()},B=async e=>{const t=e.target;let n=t.name;const o=$(s,n);if(o){let d,x;const C=t.type?Ge(o._f):P(e),S=e.type===M||e.type===I,k=!((u=o._f).mount&&(u.required||u.min||u.max||u.maxLength||u.minLength||u.pattern||u.validate)||r.resolver||$(a.errors,n)||o._f.deps)||((e,t,r,n,i)=>!i.isOnAll&&(!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:!(r?n.isOnChange:i.isOnChange)||e))(S,$(a.touchedFields,n),a.isSubmitted,p,h),_=xe(n,c,S);ve(l,n,C),S?(o._f.onBlur&&o._f.onBlur(e),i&&i(0)):o._f.onChange&&o._f.onChange(e);const T=b(n,C,S,!1),O=!re(T)||_;if(!S&&m.watch.next({name:n,type:e.type}),k)return f.isValid&&y(),O&&m.state.next({name:n,..._?{}:T});if(!S&&_&&m.state.next({}),g(!0),r.resolver){const{errors:e}=await w([n]),t=Qe(a.errors,s,n),r=Qe(e,s,t.name||n);d=r.error,n=r.name,x=re(e)}else d=(await Ve(o,l,v,r.shouldUseNativeValidation))[n],d?x=!1:f.isValid&&(x=await N(s,!0));o._f.deps&&q(o._f.deps),j(n,x,d,T)}var u},q=async(e,t={})=>{let n,i;const o=ie(e);if(g(!0),r.resolver){const t=await(async e=>{const{errors:t}=await w();if(e)for(const r of e){const e=$(t,r);e?ve(a.errors,r,e):Fe(a.errors,r)}else a.errors=t;return t})(F(e)?e:o);n=re(t),i=e?!o.some((e=>$(t,e))):n}else e?(i=(await Promise.all(o.map((async e=>{const t=$(s,e);return await N(t&&t._f?{[e]:t}:t)})))).every(Boolean),(i||a.isValid)&&y()):i=n=await N(s);return m.state.next({...!oe(e)||f.isValid&&n!==a.isValid?{}:{name:e},...r.resolver||!e?{isValid:n}:{},errors:a.errors,isValidating:!1}),t.shouldFocus&&!i&&ye(s,(e=>e&&$(a.errors,e)),e?o:c.mount),i},R=e=>{const t={...o,...u.mount?l:{}};return F(e)?t:oe(e)?$(t,e):e.map((e=>$(t,e)))},z=(e,t)=>({invalid:!!$((t||a).errors,e),isDirty:!!$((t||a).dirtyFields,e),isTouched:!!$((t||a).touchedFields,e),error:$((t||a).errors,e)}),U=(e,t={})=>{for(const n of e?ie(e):c.mount)c.mount.delete(n),c.array.delete(n),$(s,n)&&(t.keepValue||(Fe(s,n),Fe(l,n)),!t.keepError&&Fe(a.errors,n),!t.keepDirty&&Fe(a.dirtyFields,n),!t.keepTouched&&Fe(a.touchedFields,n),!r.shouldUnregister&&!t.keepDefaultValue&&Fe(o,n));m.watch.next({}),m.state.next({...a,...t.keepDirty?{isDirty:C()}:{}}),!t.keepIsValid&&y()},H=(e,t={})=>{let n=$(s,e);const i=je(t.disabled);return ve(s,e,{...n||{},_f:{...n&&n._f?n._f:{ref:{name:e}},name:e,mount:!0,...t}}),c.mount.add(e),n?i&&ve(l,e,t.disabled?void 0:$(l,e,Ge(n._f))):x(e,!0,t.value),{...i?{disabled:t.disabled}:{},...r.shouldUseNativeValidation?{required:!!t.required,min:We(t.min),max:We(t.max),minLength:We(t.minLength),maxLength:We(t.maxLength),pattern:We(t.pattern)}:{},name:e,onChange:B,onBlur:B,ref:i=>{if(i){H(e,t),n=$(s,e);const r=F(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,a=(e=>ke(e)||T(e))(r),l=n._f.refs||[];if(a?l.find((e=>e===r)):r===n._f.ref)return;ve(s,e,{_f:{...n._f,...a?{refs:[...l.filter(qe),r,...Array.isArray($(o,e))?[{}]:[]],ref:{type:r.type,name:e}}:{ref:r}}}),x(e,!1,void 0,r)}else n=$(s,e,{}),n._f&&(n._f.mount=!1),(r.shouldUnregister||t.shouldUnregister)&&(!E(c.array,e)||!u.action)&&c.unMount.add(e)}}},G=()=>r.shouldFocusError&&ye(s,(e=>e&&$(a.errors,e)),c.mount),W=(r,i={})=>{const d=r||o,h=ce(d),p=r&&!re(r)?h:o;if(i.keepDefaultValues||(o=d),!i.keepValues){if(i.keepDirtyValues||n)for(const e of c.mount)$(a.dirtyFields,e)?ve(p,e,$(l,e)):D(e,$(p,e));else{if(ue&&F(r))for(const e of c.mount){const t=$(s,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Ce(e)){const t=e.closest("form");if(t){t.reset();break}}}}s={}}l=e.shouldUnregister?i.keepDefaultValues?ce(o):{}:h,m.array.next({values:p}),m.watch.next({values:p})}c={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!u.mount&&t(),u.mount=!f.isValid||!!i.keepIsValid,u.watch=!!e.shouldUnregister,m.state.next({submitCount:i.keepSubmitCount?a.submitCount:0,isDirty:i.keepDirty||i.keepDirtyValues?a.isDirty:!(!i.keepDefaultValues||Ie(r,o)),isSubmitted:!!i.keepIsSubmitted&&a.isSubmitted,dirtyFields:i.keepDirty||i.keepDirtyValues?a.dirtyFields:i.keepDefaultValues&&r?Ye(o,r):{},touchedFields:i.keepTouched?a.touchedFields:{},errors:i.keepErrors?a.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},Q=(e,t)=>W(Ne(e)?e(l):e,t);return Ne(r.defaultValues)&&r.defaultValues().then((e=>{Q(e,r.resetOptions),m.state.next({isLoading:!1})})),{control:{register:H,unregister:U,getFieldState:z,_executeSchema:w,_focusError:G,_getWatch:S,_getDirty:C,_updateValid:y,_removeUnmounted:()=>{for(const e of c.unMount){const t=$(s,e);t&&(t._f.refs?t._f.refs.every((e=>!qe(e))):!qe(t._f.ref))&&U(e)}c.unMount=new Set},_updateFieldArray:(e,t=[],r,n,i=!0,c=!0)=>{if(n&&r){if(u.action=!0,c&&Array.isArray($(s,e))){const t=r($(s,e),n.argA,n.argB);i&&ve(s,e,t)}if(c&&Array.isArray($(a.errors,e))){const t=r($(a.errors,e),n.argA,n.argB);i&&ve(a.errors,e,t),((e,t)=>{!V($(e,t)).length&&Fe(e,t)})(a.errors,e)}if(f.touchedFields&&c&&Array.isArray($(a.touchedFields,e))){const t=r($(a.touchedFields,e),n.argA,n.argB);i&&ve(a.touchedFields,e,t)}f.dirtyFields&&(a.dirtyFields=Ye(o,l)),m.state.next({name:e,isDirty:C(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else ve(l,e,t)},_getFieldArray:t=>V($(u.mount?l:o,t,e.shouldUnregister?$(o,t,[]):[])),_reset:W,_updateFormState:e=>{a={...a,...e}},_subjects:m,_proxyFormState:f,get _fields(){return s},get _formValues(){return l},get _stateFlags(){return u},set _stateFlags(e){u=e},get _defaultValues(){return o},get _names(){return c},set _names(e){c=e},get _formState(){return a},set _formState(e){a=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:q,register:H,handleSubmit:(e,t)=>async n=>{n&&(n.preventDefault&&n.preventDefault(),n.persist&&n.persist());let i=ce(l);if(m.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await w();a.errors=e,i=t}else await N(s);Fe(a.errors,"root"),re(a.errors)?(m.state.next({errors:{}}),await e(i,n)):(t&&await t({...a.errors},n),G()),m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:re(a.errors),submitCount:a.submitCount+1,errors:a.errors})},watch:(e,t)=>Ne(e)?m.watch.subscribe({next:r=>e(S(void 0,t),r)}):S(e,t,!0),setValue:D,getValues:R,reset:Q,resetField:(e,t={})=>{$(s,e)&&(F(t.defaultValue)?D(e,$(o,e)):(D(e,t.defaultValue),ve(o,e,t.defaultValue)),t.keepTouched||Fe(a.touchedFields,e),t.keepDirty||(Fe(a.dirtyFields,e),a.isDirty=t.defaultValue?C(e,$(o,e)):C()),t.keepError||(Fe(a.errors,e),f.isValid&&y()),m.state.next({...a}))},clearErrors:e=>{e&&ie(e).forEach((e=>Fe(a.errors,e))),m.state.next({errors:e?a.errors:{}})},unregister:U,setError:(e,t,r)=>{const n=($(s,e,{_f:{}})._f||{}).ref;ve(a.errors,e,{...t,ref:n}),m.state.next({name:e,errors:a.errors,isValid:!1}),r&&r.shouldFocus&&n&&n.focus&&n.focus()},setFocus:(e,t={})=>{const r=$(s,e),n=r&&r._f;if(n){const e=n.refs?n.refs[0]:n.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:z}}var Ke="vanguard.checkout.address.cta.change",Xe="vanguard.checkout.address.cta.add",et="vanguard.checkout.address.formTitle",tt="vanguard.checkout.address.name",rt="vanguard.checkout.address.line1",nt="vanguard.checkout.address.line2",it="vanguard.checkout.address.zipcode",at="vanguard.checkout.address.cityTown",st="vanguard.checkout.address.country",ot="vanguard.cart.overlay.delete",lt="vanguard.common.nameTitle",ut="vanguard.common.name.optionalNames",ct="vanguard.confirmationDialog.message",dt="vanguard.checkout.address.cancel",ft="vanguard.checkout.address.confirm",mt="vanguard.cart.totalPrice",ht="vanguard.cart.product.notAvailable",pt="vanguard.cart.positionText",vt="vanguard.cart.reduction",yt="vanguard.cart.summary.close",gt="vanguard.cart.summary.open",xt="vanguard.cart.salesCommentLabel",bt="vanguard.checkout.item.sales.totalPrice",jt="vanguard.checkout.item.sales.totalPrice.tooltip",wt="vanguard.checkout.item.sales.quantity",Nt="vanguard.checkout.ean",Ct="vanguard.checkout.item.sales.listPrice",St="vanguard.checkout.item.sales.userPrice",kt="vanguard.checkout.item.sales.discount",_t="vanguard.checkout.entry.sales.netPricePerUnit",Tt="vanguard.checkout.committedDelivery",Ot="vanguard.cart.emks.newSeries.setAmount",At="vanguard.cart.quantityPerSet",Dt="vanguard.cart.quantityPerItem",Lt="vanguard.cart.items",Pt="vanguard.cart.lockPosition",Et="vanguard.cart.configurationData",Vt="vanguard.common.name.person",Ft="vanguard.common.name.company",$t="vanguard.common.address.region",Mt="vanguard.common.back",It="vanguard.common.address.onetime.tooltip",Bt=function(e){var t=e.isRemove,r=e.onCancel,i=e.onConfirm,a=N().t;return u.jsxs("div",{className:"flex space-x-4 justify-end",children:[u.jsx(n.Button,{variant:"outlined",testid:"cancel",onClick:r,children:a(dt)}),u.jsx(n.Button,{testid:"confirm",onClick:i,children:a(t?ot:ft)})]})};function qt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var zt=function(r){var i,a,s,o,l,c,d,f,m,h,p,v,y,g,x,b,j,w,C,S,k,_,T,O,A,D,L,P,E,V,F,$,M,I,B,q=r.hideDialog,R=r.setSessionAddresses,z=r.switchMode,U=r.onAdd,Y=r.editAddress,H=r.sessionAddresses,G=N(),W=G.t,Q=G.cartCode,J=function(e={}){const r=t.useRef(),[n,i]=t.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Ne(e.defaultValues)?void 0:e.defaultValues});r.current||(r.current={...Ze(e,(()=>i((e=>({...e}))))),formState:n});const a=r.current.control;return a._options=e,se({subject:a._subjects.state,next:e=>{ne(e,a._proxyFormState,a._updateFormState,!0)&&i({...a._formState})}}),t.useEffect((()=>{a._stateFlags.mount||(a._updateValid(),a._stateFlags.mount=!0),a._stateFlags.watch&&(a._stateFlags.watch=!1,a._subjects.state.next({})),a._removeUnmounted()})),t.useEffect((()=>{e.values&&!Ie(e.values,a._defaultValues)&&a._reset(e.values,a._options.resetOptions)}),[e.values,a]),t.useEffect((()=>{n.submitCount&&a._focusError()}),[a,n.submitCount]),r.current.formState=te(n,a),r.current}({defaultValues:Y?{titleCode:Y.titleCode,companyNameLine1:Y.companyNameLine1,companyNameLine2:Y.companyNameLine2,companyNameLine3:Y.companyNameLine3,companyNameLine4:Y.companyNameLine4,country:null==(i=Y.country)?void 0:i.isocode,regionCode:null==(a=Y.region)?void 0:a.isocode,streetName:Y.line1,houseNumber:Y.line2,zipCode:Y.postalCode,city:Y.town}:null}),Z=J.register,K=J.control,X=J.formState,ee=J.watch,re=J.setValue,ie=J.handleSubmit,ae=X.errors,oe=ee(["titleCode","country"]),le=oe[0],ue=oe[1],ce=e.store.api.checkout.useGetAlternativeDeliveryCountriesQuery({cartCode:Q}).data,de=e.store.api.checkout.useGetTitlesQuery({cartCode:Q}).data,me=e.store.api.checkout.useGetRegionsQuery({countryCode:ue}).data,he=e.store.api.checkout.useGetAddressValidationQuery({isoCode:null!=ue?ue:""}).data,pe=function(e,r){var n=t.useRef();return t.useEffect((function(){var t,i,a;if("undefined"!=typeof google&&null!=(t=google)&&null!=(i=t.maps)&&null!=(a=i.places)&&a.Autocomplete&&e){var s=new google.maps.places.Autocomplete(n.current,{fields:["address_components"]});return s.setComponentRestrictions({country:e.map((function(e){return e.isocode.toString()}))}),s.addListener("place_changed",(function(){var e,t=((null==(e=s.getPlace())?void 0:e.address_components)||[]).reduce((function(e,t){return null!=t&&t.types.includes("house_number")&&(e.houseNumber=t.long_name),null!=t&&t.types.includes("postal_code")&&(e.zipCode=t.long_name),null!=t&&t.types.includes("route")&&(e.streetName=t.long_name),null!=t&&t.types.includes("locality")&&(e.city=t.long_name),null!=t&&t.types.includes("country")&&(e.country=t.short_name),e}),{});Object.keys(t).forEach((function(e){return r(e,t[e])}))})),function(){return s.unbindAll()}}}),[e,r]),n}(ce,re),ve=Object.keys(null!=he?he:{}).reduce((function(e,t){return e[t].pattern&&(e[t].pattern.value=new RegExp(e[t].pattern.value)),e}),structuredClone(he||{})),ye=Z("streetName",ve.streetName);return u.jsxs("div",{className:"space-y-3",children:[u.jsx(n.Button,{variant:"text",iconType:"arrowleft",onClick:function(){return z()},children:W(Mt)}),u.jsxs("form",{"data-testid":"addAddress",className:"space-y-1",children:[(null==de||null==(s=de.titles)?void 0:s.length)>0&&u.jsx(fe,{control:K,name:"titleCode",rules:ve.titleCode,render:function(e){var t,r,i,a=e.field;return u.jsx(n.Select,{label:W(lt),testid:"titleInput",options:null==de||null==(t=de.titles)?void 0:t.map((function(e){return{label:e.name,value:e.code}})),error:Boolean(null==ae?void 0:ae.titleCode),value:a.value,onChange:a.onChange,required:null==(r=ve.titleCode)||null==(i=r.required)?void 0:i.value})}}),u.jsx(n.TextInput,Rt(Rt({},Z("companyNameLine1",ve.companyNameLine1)),{},{label:W(tt),testid:"nameInput1",autoComplete:"organization",maxlength:null==(o=ve.companyNameLine1)?void 0:o.maxLength.value,required:null==(l=ve.companyNameLine1)||null==(c=l.required)?void 0:c.value,error:Boolean(null==ae?void 0:ae.companyNameLine1),hint:null==ae||null==(d=ae.companyNameLine1)?void 0:d.message,placeholder:{"0001":W(Vt),"0002":W(Vt),"0003":W(Ft),"0004":W(Vt)}[le]})),u.jsxs("div",{className:"space-y-0.5",children:[u.jsx(n.TextInput,Rt(Rt({},Z("companyNameLine2",ve.companyNameLine2)),{},{testid:"nameInput2",label:W(ut),autoComplete:"organization",maxlength:null==(f=ve.companyNameLine2)?void 0:f.maxLength.value,required:null==(m=ve.companyNameLine2)||null==(h=m.required)?void 0:h.value,error:Boolean(null==ae?void 0:ae.companyNameLine2),hint:null==ae||null==(p=ae.companyNameLine2)?void 0:p.message})),u.jsx(n.TextInput,Rt(Rt({},Z("companyNameLine3",ve.companyNameLine3)),{},{testid:"nameInput3",autoComplete:"organization",maxlength:null==(v=ve.companyNameLine3)?void 0:v.maxLength.value,required:null==(y=ve.companyNameLine3)||null==(g=y.required)?void 0:g.value,error:Boolean(null==ae?void 0:ae.companyNameLine3),hint:null==ae||null==(x=ae.companyNameLine3)?void 0:x.message})),u.jsx(n.TextInput,Rt(Rt({},Z("companyNameLine4",ve.companyNameLine4)),{},{testid:"nameInput4",autoComplete:"organization",maxlength:null==(b=ve.companyNameLine4)?void 0:b.maxLength.value,required:null==(j=ve.companyNameLine4)||null==(w=j.required)?void 0:w.value,error:Boolean(null==ae?void 0:ae.companyNameLine4),hint:null==ae||null==(C=ae.companyNameLine4)?void 0:C.message}))]}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-2 space-y-1 sm:space-y-0",children:[u.jsx("div",{className:"sm:w-6/12",children:u.jsx(fe,{control:K,name:"country",rules:ve.country,render:function(e){var t,r,i,a=e.field;return u.jsx(n.Select,{label:W(st),testid:"countryInput",options:null==ce?void 0:ce.map((function(e){return{label:e.name,value:e.isocode}})),required:null==(t=ve.country)||null==(r=t.required)?void 0:r.value,error:Boolean(null==ae?void 0:ae.country),errorText:null==ae||null==(i=ae.country)?void 0:i.message,value:a.value,onChange:function(e){a.onChange(e),J.resetField("regionCode",{defaultValue:""})}})}})}),u.jsx("div",{className:"sm:w-6/12",children:(null==me?void 0:me.length)>0&&u.jsx(fe,{control:K,name:"regionCode",rules:ve.regionCode,render:function(e){var t,r,i,a=e.field;return u.jsx(n.Select,{label:W($t),testid:"regionInput",options:null==me?void 0:me.map((function(e){return{label:e.name,value:e.isocode}})),required:null==(t=ve.region)||null==(r=t.required)?void 0:r.value,error:Boolean(null==ae?void 0:ae.regionCode),errorText:null==ae||null==(i=ae.regionCode)?void 0:i.message,value:a.value,onChange:a.onChange})}})})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-2 space-y-1 sm:space-y-0",children:[u.jsx("div",{className:"sm:w-9/12",children:u.jsx(n.TextInput,Rt(Rt({},ye),{},{ref:function(e){ye.ref(e),pe.current=e},testid:"streetNameInput",label:W(rt),autoComplete:"street-address",maxlength:null==(S=ve.streetName)?void 0:S.maxLength.value,required:null==(k=ve.streetName)||null==(_=k.required)?void 0:_.value,error:Boolean(null==ae?void 0:ae.streetName),hint:null==ae||null==(T=ae.streetName)?void 0:T.message,inputClassName:"w-full"}))}),u.jsx("div",{className:"sm:w-3/12",children:u.jsx(n.TextInput,Rt(Rt({},Z("houseNumber",ve.houseNumber)),{},{testid:"houseNumberInput",label:W(nt),error:Boolean(null==ae?void 0:ae.houseNumber),hint:null==ae||null==(O=ae.houseNumber)?void 0:O.message,maxlength:null==(A=ve.houseNumber)?void 0:A.maxLength.value,required:null==(D=ve.houseNumber)||null==(L=D.required)?void 0:L.value,autoComplete:"house-address",inputClassName:"w-full"}))})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-2",children:[u.jsx("div",{className:"sm:w-3/12",children:u.jsx(n.TextInput,Rt(Rt({},Z("zipCode",ve.zipCode)),{},{testid:"zipCodeInput",label:W(it),error:Boolean(null==ae?void 0:ae.zipCode),hint:null==ae||null==(P=ae.zipCode)?void 0:P.message,maxlength:null==(E=ve.zipCode)?void 0:E.maxLength.value,required:null==(V=ve.zipCode)||null==(F=V.required)?void 0:F.value,autoComplete:"postal-code",inputClassName:"w-full"}))}),u.jsx("div",{className:"sm:w-9/12",children:u.jsx(n.TextInput,Rt(Rt({},Z("city",ve.city)),{},{testid:"cityInput",label:W(at),error:Boolean(null==ae?void 0:ae.city),hint:null==ae||null==($=ae.city)?void 0:$.message,maxlength:null==(M=ve.city)?void 0:M.maxLength.value,required:null==(I=ve.city)||null==(B=I.required)?void 0:B.value,autoComplete:"address-level2",inputClassName:"w-full"}))})]})]}),u.jsx(Bt,{onCancel:z,onConfirm:function(){ie((function(e){var t,r,n,i,a,s={title:null==de||null==(t=de.titles)||null==(r=t.find((function(t){return t.code===e.titleCode})))?void 0:r.name,titleCode:e.titleCode||"",companyNameLine1:e.companyNameLine1.trim()||null,companyNameLine2:(null==(n=e.companyNameLine2)?void 0:n.trim())||null,companyNameLine3:(null==(i=e.companyNameLine3)?void 0:i.trim())||null,companyNameLine4:(null==(a=e.companyNameLine4)?void 0:a.trim())||null,country:ce.find((function(t){return t.isocode===e.country})),region:me.find((function(t){return t.isocode===e.regionCode}))||null,line1:e.streetName,line2:e.houseNumber,postalCode:e.zipCode,town:e.city};Y?(H.splice(H.indexOf(Y),1,Rt(Rt({},s),{},{id:Y.id})),R([].concat(H))):R([].concat(H,[Rt(Rt({},s),{},{id:"session-"+Date.now()})])),U(s),q()}))()}})]})},Ut=function(e){var t=e.value,r=e.highlight,i=t.companyNameLine1,a=t.companyNameLine2,s=t.companyNameLine3,o=t.companyNameLine4,l=t.line1,c=t.line2,d=t.postalCode,f=t.town,m=t.country,h=t.title,p=t.region;return u.jsxs("div",{"data-testid":"addressPreview",className:"flex-grow",children:[h&&u.jsx(n.Text,{testid:"title",highlight:r,children:h}),i&&u.jsx(n.Text,{testid:"companyNameLine1",highlight:r,children:i}),a&&u.jsx(n.Text,{testid:"companyNameLine2",highlight:r,children:a}),s&&u.jsx(n.Text,{testid:"companyNameLine3",highlight:r,children:s}),o&&u.jsx(n.Text,{testid:"companyNameLine4",highlight:r,children:o}),u.jsxs("div",{className:"flex space-x-1",children:[l&&u.jsx(n.Text,{testid:"street",highlight:r,children:l}),c&&u.jsx(n.Text,{testid:"houseNumber",highlight:r,children:c})]}),u.jsxs("div",{className:"flex space-x-1",children:[d&&u.jsx(n.Text,{testid:"postalCode",highlight:r,children:d}),f&&u.jsx(n.Text,{testid:"town",highlight:r,children:f})]}),p&&u.jsx(n.Text,{testid:"region",highlight:r,children:p.name}),m&&u.jsx(n.Text,{testid:"country",highlight:r,children:m.name})]})},Yt=function(e){var r=e.value,a=e.allAddresses,s=e.hideDialog,o=e.switchMode,l=e.onAdd,c=e.onChange,d=N().t,f=t.useState(null==r?void 0:r.id),m=f[0],h=f[1],p=t.useState(""),v=p[0],y=p[1],g=a.filter((function(e){var t;return[e.title,e.companyNameLine1,e.companyNameLine2,e.companyNameLine3,e.companyNameLine4,e.line1,e.line2,e.town,e.country.name,e.postalCode,null==(t=e.region)?void 0:t.name].join(" ").toLowerCase().includes(v.toLowerCase())}));return u.jsxs("div",{"data-testid":"searchAddress",className:"mt-6 sm:mt-0 space-y-3",children:[u.jsx(n.TextInput,{testid:"searchInput",inputClassName:"w-full",value:v,onChange:function(e){return y(e.target.value)},icon:{type:"search"}}),g.length>0&&u.jsx("div",{className:"mt-2 space-y-4 max-h-3xl overflow-y-auto","data-testid":"list",children:g.map((function(e,t){var r;return u.jsxs("div",{className:i("flex items-start p-2 text-left w-3/4 shadow-xl border-2 hover:bg-primarypalette-200 cursor-pointer flex-shrink-0 space-x-3",{"border-primary":(null==e?void 0:e.id)===m}),onClick:function(){return h(null==e?void 0:e.id)},"data-testid":"item",children:[u.jsx(n.Icon,{type:"location",size:"md",color:"tertiary",className:"self-center ml-1"}),u.jsx(Ut,{value:e,highlight:v}),(null==(r=e.id)?void 0:r.includes("session"))&&u.jsxs("div",{className:"space-x-2 flex px-1",children:[u.jsx(n.Tooltip,{position:"bottom",render:d(It),children:u.jsx(n.Icon,{type:"clockLeft",color:"tertiary",className:"py-1"})}),u.jsx(n.Button,{iconType:"edit",variant:"text",onClick:function(){o(e)}})]})]},t)}))}),l&&u.jsx(n.Button,{variant:"text",iconType:"plus",onClick:function(){return o()},children:d(Xe)}),u.jsx(Bt,{onCancel:s,onConfirm:function(){var e,t=a.find((function(e){return e.id===m}));null!=t&&null!=(e=t.id)&&e.includes("session")?(t.id=null,l(t)):c(t),s()}})]})},Ht=function(e){var r=e.value,i=e.savedAddresses,a=e.hideDialog,s=e.onChange,o=e.onAdd,l=N().t,c=function(e,r){var n=t.useState((function(){try{var t=sessionStorage.getItem(e);return JSON.parse(t)||r}catch(e){return r}})),i=n[0],a=n[1];return[i,t.useCallback((function(t){try{a(t),sessionStorage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}}),[e])]}("SessionAddresses",[]),d=c[0],f=c[1],m=o?[].concat(i,d):i,h=t.useState(0===(null==m?void 0:m.length)),p=h[0],v=h[1],y=t.useState(null),g=y[0],x=y[1],b=function(e){v((function(e){return!e})),x(e)};return u.jsxs(n.Dialog,{title:l(et),onClose:a,children:[!p&&u.jsx(Yt,{value:r,allAddresses:m,hideDialog:a,switchMode:b,onAdd:o,onChange:s,setEditAddress:x}),p&&u.jsx(zt,{hideDialog:a,setSessionAddresses:f,switchMode:b,onAdd:o,editAddress:g,sessionAddresses:d})]})},Gt=function(e){var t=e.value,r=e.hideDialog,i=e.onRemove,a=N().t;return u.jsxs(n.Dialog,{title:a(ot),testid:"deleteAddressDialog",onClose:r,children:[u.jsx(n.Text,{children:a(ct)}),u.jsx(Bt,{isRemove:!0,onCancel:r,onConfirm:function(){i(null==t?void 0:t.id),r()}})]})},Wt=function(e){var r=e.label,i=e.value,a=e.savedAddresses,s=void 0===a?[]:a,o=e.onChange,l=e.onAdd,c=e.onRemove,d=N().t,f=t.useState(!1),m=f[0],h=f[1],p=t.useState(!1),v=p[0],y=p[1],g=Boolean(l)||Boolean(o)&&s.length>1;return u.jsxs("div",{"data-testid":"address",children:[u.jsx(n.Text,{size:"sm",bold:!0,testid:"label",children:r}),i&&u.jsx(Ut,{value:i}),u.jsxs("div",{className:"flex space-x-2 mt-1 divide-x-2",children:[g&&u.jsx(n.Button,{testid:"changeAddressButton",variant:"text",onClick:function(){return h(!0)},children:d(i?Ke:Xe)}),c&&i&&u.jsx("div",{className:g&&"pl-2",children:u.jsx(n.Button,{testid:"remove",variant:"text",onClick:function(){return y(!0)},children:d(ot)})})]}),m&&u.jsx(Ht,{value:i,savedAddresses:s,hideDialog:function(){return h(!1)},onChange:o,onAdd:l}),v&&u.jsx(Gt,{value:i,hideDialog:function(){return y(!1)},onRemove:c})]})},Qt=function(r){var i,a=r.configurationName,s=r.productCode,o=r.headPositionCode,l=r.itemInfoId,c=r.cartEntryPk,d=N(),f=d.t,m=d.cartCode,h=t.useState(!1),p=h[0],v=h[1],y=e.store.api.product.useGetConfigurationSummaryQuery({headPositionEntryConfigurationParameter:o&&{headPositionCode:o,itemInfoId:l},cpqConfigurationParameter:s&&{productCode:s,cartEntryPk:c,cartId:m}},{skip:!p}),g=y.data,x=y.isLoading,b=y.isSuccess;return u.jsxs("div",{className:"space-y-1 max-w-xl","data-testid":"configuration",children:[a&&u.jsx(n.Text,{testid:"name",children:a}),u.jsx(n.Button,{variant:"text",iconType:p?"arrowup":"arrowdown",size:"sm",onClick:function(){return v(!p)},testid:"expandButton",isLoading:x,children:f(p?yt:gt)}),b&&u.jsx(n.List,{isCompressed:!0,size:"sm",testid:"details",children:null==g||null==(i=g.configurationInfos)?void 0:i.map((function(e,t){return u.jsx(n.List.Item,{name:e.configurationLabel,value:e.configurationValue},t)}))})]})},Jt={NEW_KEY_SYSTEM:"vanguard.cart.emks.new_key_system",EXTENSION:"vanguard.cart.emks.extension",REORDER:"vanguard.cart.emks.reorder",NEW_SERIES:"vanguard.cart.emks.new_series"},Zt={};!function(e,t){e.exports=function(){var e=1e3,t=6e4,r=36e5,n="millisecond",i="second",a="minute",s="hour",o="day",l="week",u="month",c="quarter",d="year",f="date",m="Invalid Date",h=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||t[0])+"]"}},y=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},g={s:y,z:function(e){var t=-e.utcOffset(),r=Math.abs(t),n=Math.floor(r/60),i=r%60;return(t<=0?"+":"-")+y(n,2,"0")+":"+y(i,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),i=t.clone().add(n,u),a=r-i<0,s=t.clone().add(n+(a?-1:1),u);return+(-(n+(r-i)/(a?i-s:s-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:u,y:d,w:l,d:o,D:f,h:s,m:a,s:i,ms:n,Q:c}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},x="en",b={};b[x]=v;var j=function(e){return e instanceof S},w=function e(t,r,n){var i;if(!t)return x;if("string"==typeof t){var a=t.toLowerCase();b[a]&&(i=a),r&&(b[a]=r,i=a);var s=t.split("-");if(!i&&s.length>1)return e(s[0])}else{var o=t.name;b[o]=t,i=o}return!n&&i&&(x=i),i||!n&&x},N=function(e,t){if(j(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new S(r)},C=g;C.l=w,C.i=j,C.w=function(e,t){return N(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var S=function(){function v(e){this.$L=w(e.locale,null,!0),this.parse(e)}var y=v.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(C.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(h);if(n){var i=n[2]-1||0,a=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,a)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return C},y.isValid=function(){return!(this.$d.toString()===m)},y.isSame=function(e,t){var r=N(e);return this.startOf(t)<=r&&r<=this.endOf(t)},y.isAfter=function(e,t){return N(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<N(e)},y.$g=function(e,t,r){return C.u(e)?this[t]:this.set(r,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var r=this,n=!!C.u(t)||t,c=C.p(e),m=function(e,t){var i=C.w(r.$u?Date.UTC(r.$y,t,e):new Date(r.$y,t,e),r);return n?i:i.endOf(o)},h=function(e,t){return C.w(r.toDate()[e].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(t)),r)},p=this.$W,v=this.$M,y=this.$D,g="set"+(this.$u?"UTC":"");switch(c){case d:return n?m(1,0):m(31,11);case u:return n?m(1,v):m(0,v+1);case l:var x=this.$locale().weekStart||0,b=(p<x?p+7:p)-x;return m(n?y-b:y+(6-b),v);case o:case f:return h(g+"Hours",0);case s:return h(g+"Minutes",1);case a:return h(g+"Seconds",2);case i:return h(g+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var r,l=C.p(e),c="set"+(this.$u?"UTC":""),m=(r={},r[o]=c+"Date",r[f]=c+"Date",r[u]=c+"Month",r[d]=c+"FullYear",r[s]=c+"Hours",r[a]=c+"Minutes",r[i]=c+"Seconds",r[n]=c+"Milliseconds",r)[l],h=l===o?this.$D+(t-this.$W):t;if(l===u||l===d){var p=this.clone().set(f,1);p.$d[m](h),p.init(),this.$d=p.set(f,Math.min(this.$D,p.daysInMonth())).$d}else m&&this.$d[m](h);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[C.p(e)]()},y.add=function(n,c){var f,m=this;n=Number(n);var h=C.p(c),p=function(e){var t=N(m);return C.w(t.date(t.date()+Math.round(e*n)),m)};if(h===u)return this.set(u,this.$M+n);if(h===d)return this.set(d,this.$y+n);if(h===o)return p(1);if(h===l)return p(7);var v=(f={},f[a]=t,f[s]=r,f[i]=e,f)[h]||1,y=this.$d.getTime()+n*v;return C.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||m;var n=e||"YYYY-MM-DDTHH:mm:ssZ",i=C.z(this),a=this.$H,s=this.$m,o=this.$M,l=r.weekdays,u=r.months,c=function(e,r,i,a){return e&&(e[r]||e(t,n))||i[r].slice(0,a)},d=function(e){return C.s(a%12||12,e,"0")},f=r.meridiem||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:C.s(o+1,2,"0"),MMM:c(r.monthsShort,o,u,3),MMMM:c(u,o),D:this.$D,DD:C.s(this.$D,2,"0"),d:String(this.$W),dd:c(r.weekdaysMin,this.$W,l,2),ddd:c(r.weekdaysShort,this.$W,l,3),dddd:l[this.$W],H:String(a),HH:C.s(a,2,"0"),h:d(1),hh:d(2),a:f(a,s,!0),A:f(a,s,!1),m:String(s),mm:C.s(s,2,"0"),s:String(this.$s),ss:C.s(this.$s,2,"0"),SSS:C.s(this.$ms,3,"0"),Z:i};return n.replace(p,(function(e,t){return t||h[e]||i.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(n,f,m){var h,p=C.p(f),v=N(n),y=(v.utcOffset()-this.utcOffset())*t,g=this-v,x=C.m(this,v);return x=(h={},h[d]=x/12,h[u]=x,h[c]=x/3,h[l]=(g-y)/6048e5,h[o]=(g-y)/864e5,h[s]=g/r,h[a]=g/t,h[i]=g/e,h)[p]||g,m?x:C.a(x)},y.daysInMonth=function(){return this.endOf(u).$D},y.$locale=function(){return b[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=w(e,t,!0);return n&&(r.$L=n),r},y.clone=function(){return C.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},v}(),k=S.prototype;return N.prototype=k,[["$ms",n],["$s",i],["$m",a],["$H",s],["$W",o],["$M",u],["$y",d],["$D",f]].forEach((function(e){k[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),N.extend=function(e,t){return e.$i||(e(t,S,N),e.$i=!0),N},N.locale=w,N.isDayjs=j,N.unix=function(e){return N(1e3*e)},N.en=b[x],N.Ls=b,N.p={},N}()}({get exports(){return Zt},set exports(e){Zt=e}});var Kt,Xt,er=Zt,tr=function(e){var t=e.deliveryInfos,r=void 0===t?[]:t,i=N().t,a=r.filter((function(e){return e.receiptDate})).map((function(e){return e.receiptDate})).sort().map((function(e){return er(e).format("DD.MM.YYYY")})),s=a[0],o=a[a.length-1];return u.jsxs("div",{className:"w-1/2 md:w-36 lg:w-40 xl:w-48 flex-none lg:text-right","data-testid":"committedDelivery",children:[u.jsx(n.Text,{bold:!0,size:"sm",testid:"label",children:i(Tt)}),u.jsx("div",{className:"flex md:justify-end space-x-2","data-testid":"value",children:a.length>0?u.jsxs(u.Fragment,{children:[u.jsx(n.Icon,{type:"greenTick"}),u.jsx(n.Text,{type:"span",children:s===o?s:s+" - "+o})]}):u.jsx(n.Text,{type:"span",children:"-"})})]})},rr=function(e){var t=e.value,r=N().t;return u.jsxs("div",{"data-testid":"positionText",children:[u.jsx(n.Text,{bold:!0,testid:"label",size:"sm",children:r(pt)}),u.jsx(n.Text,{testid:"value",children:t})]})},nr=function(e){var t=e.imageSrc,r=e.imageAlt,i=e.productName,a=e.marketSystemName,s=e.ean,o=e.keySystemCode,l=e.badgeType,c=e.badgeText,d=e.medias,f=N().t;return u.jsxs("div",{className:"flex-grow flex flex-col space-y-4 md:flex-row md:space-y-0 md:space-x-2",children:[u.jsx(n.Image,{src:t,alt:r,fullWidth:!1,className:"w-20 h-20"}),u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{children:[u.jsx(n.Text,{color:"primary",type:"span",bold:!0,testid:"name",children:i}),a&&u.jsx(n.Text,{color:"primary",type:"span",bold:!0,testid:"masterMarketSystem",children:a})]}),u.jsxs("div",{className:"flex lg:flex-col xl:flex-row space-x-2 xl:items-center",children:[c&&u.jsx(n.Chip,{testid:"masterBadge",background:l,label:c}),s&&u.jsx(n.Text,{testid:"ean",size:"sm",children:f(Nt)+": "+s}),o&&u.jsx(n.Text,{testid:"keySystemCode",size:"sm",children:o})]}),d&&u.jsx("div",{className:"flex flex-wrap","data-testid":"uploadedFiles",children:d.map((function(e){return u.jsx(n.Chip,{label:e.realFileName,onClick:function(){return window.open(e.url,"_blank")},className:"mr-1 mt-1"},e.code)}))})]})]})},ir=function(e){var t=e.amount,r=e.unitName,i=N().t;return u.jsxs("div",{className:"w-1/2 md:w-20 lg:w-28 flex-none lg:text-right","data-testid":"quantity",children:[u.jsx(n.Text,{bold:!0,testid:"label",size:"sm",children:i(wt)}),u.jsxs(n.Text,{testid:"value",children:[t," ",r]})]})},ar=function(e){var t=e.value,r=N().t;return u.jsxs("div",{"data-testid":"salesText",children:[u.jsx(n.Text,{bold:!0,testid:"label",size:"sm",children:r(xt)}),u.jsx(n.Text,{testid:"value",children:t})]})},sr=function(e){var t=e.totalPrice,r=N().t;return u.jsxs("div",{className:"w-1/2 md:w-28 lg:w-32 flex-none lg:text-right","data-testid":"totalPrice",children:[u.jsxs("div",{className:"flex lg:justify-end",children:[u.jsx(n.Text,{bold:!0,testid:"label",size:"sm",children:r(bt)}),u.jsx(n.Tooltip,{position:"left",render:r(jt),children:u.jsx(n.Icon,{type:"info",className:"px-1",size:"xs"})})]}),u.jsx(n.Text,{"data-testid":"value",children:u.jsx(n.Price,{price:t})})]})},or=function(e){var t=e.gross,r=e.net,i=e.discount,a=N().t;return u.jsxs("div",{className:"w-1/2 md:w-40 lg:w-48 xl:w-64 flex-none lg:text-right","data-testid":"unitPrice",children:[u.jsx(n.Text,{bold:!0,testid:"header",size:"sm",children:a(_t)}),u.jsxs(n.Text,{testid:"grossPrice",children:[a(Ct)+": ",u.jsx(n.Price,{price:t})]}),u.jsxs(n.Text,{testid:"netPrice",children:[a(St)+": ",u.jsx(n.Price,{price:r})]}),!!i&&u.jsxs(n.Text,{color:"green",size:"sm",testid:"discount",children:[a(kt)," ",i,"%"]})]})},lr=function(e){var r=e.lockingPositions,i=t.useState(!1),a=i[0],s=i[1];return u.jsx("div",{onClick:function(){"Range"!=window.getSelection().type&&s(!a)},className:"pr-6 space-y-3",children:u.jsx(n.Text,{type:"span",testid:"lockingPosition",children:!a&&r.length>12?r.slice(0,12).join(", ")+" ...":r.join(", ")})})},ur=function(e){var t=e.name,r=e.isEntryAvailable,i=e.type,a=N().t;return u.jsxs("div",{className:"flex items-center",children:[!r&&u.jsx(n.Tooltip,{render:a(ht),position:"right",children:u.jsx(n.Icon,{type:"warning",className:"pr-2"})}),u.jsx(n.Icon,{type:{KEY:"locked",CYLINDER:"cylinder",SECURITYCARD:"card"}[i],className:"pr-2"}),u.jsx(n.Text,{type:"span",testid:"name",children:t})]})},cr=function(e){var t=e.userPrice,r=e.listPrice,i=e.discount,a=N().t;return u.jsxs("div",{className:"justify-center",children:[u.jsx(n.Text,{align:"right",testid:"userPrice",children:u.jsx(n.Price,{price:t||r})}),!!i&&u.jsxs("div",{className:"flex flex-col",children:[u.jsx(n.Text,{type:"span",transform:["line-through"],testid:"listPrice",children:u.jsx(n.Price,{price:r})}),u.jsx(n.Text,{size:"sm",type:"span",color:"green",testid:"discount",children:a(vt,""+i)})]})]})},dr=function(e){var r,i,a=e.headPosition,s=e.isExpanded,o=void 0!==s&&s,l=N(),c=l.t,d=l.showPrice,f=t.useState(o),m=f[0],h=f[1],p=t.useState(1),v=p[0],y=p[1],g=t.useMemo((function(){return e=a.entries,t=10,Array.from({length:Math.ceil(e.length/t)},(function(r,n){return e.slice(n*t,n*t+t)}));var e,t}),[a.entries]),x="NEW_SERIES"===a.businessCase;return u.jsxs("div",{"data-testid":"subpositions",children:[m&&u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"overflow-x-auto",children:u.jsx("div",{className:"px-2 min-w-300",children:u.jsxs(n.Table,{children:[u.jsx(n.Table.Header,{children:u.jsxs(n.Table.Row,{children:[u.jsx(n.Table.HeaderCell,{width:"204px",children:c(Lt)}),u.jsx(n.Table.HeaderCell,{width:"300px",children:c(Pt)}),u.jsx(n.Table.HeaderCell,{children:c(Et)}),x&&u.jsx(n.Table.HeaderCell,{width:"120px",align:"right",children:c(At)}),u.jsx(n.Table.HeaderCell,{width:"120px",align:"right",children:c(Dt)}),d&&u.jsx(n.Table.HeaderCell,{width:"220px",align:"right",children:c(mt)})]})}),u.jsx(n.Table.Body,{children:g[v-1].map((function(e,t){var r,i,s,o,l;return u.jsxs(n.Table.Row,{children:[u.jsx(n.Table.Cell,{children:u.jsx(ur,{name:null==(r=e.product)?void 0:r.name,isEntryAvailable:!(null!=(i=e.product)&&i.sapBlocked)&&(null==(s=e.product)?void 0:s.purchasable)&&(null==(o=e.product)?void 0:o.ecommerceEligible),type:null==(l=e.product)?void 0:l.materialType})}),u.jsx(n.Table.Cell,{children:u.jsx(lr,{lockingPositions:e.lockingPositions})}),u.jsx(n.Table.Cell,{children:u.jsx(Qt,{configurationName:e.configurationName,headPositionCode:a.code,itemInfoId:e.id})}),x&&u.jsx(n.Table.Cell,{align:"right",children:u.jsx(n.Text,{type:"span",testid:"quantityPerSet",children:e.quantity})}),u.jsx(n.Table.Cell,{align:"right",children:u.jsx(n.Text,{type:"span",testid:"quantity",children:e.quantity*a.quantity})}),d&&u.jsx(n.Table.Cell,{align:"right",children:u.jsx(cr,{userPrice:e.userPrice,listPrice:e.totalListPrice,discount:e.discountInPercentage})})]},t)}))})]})})}),g.length>1&&u.jsx("div",{className:"px-4",children:u.jsx(n.Pagination,{current:v,total:g.length,onChange:function(e){return y(e)}})})]}),(null==a||null==(r=a.entries)?void 0:r.length)>0&&u.jsxs("button",{"data-testid":"expandButton",className:"flex bg-gray-100 w-full text-xs space-x-1 justify-center",onClick:function(){return h(!m)},children:[u.jsx(n.Icon,{type:m?"arrowup":"arrowdown",size:"xs",className:"self-center"}),u.jsx(n.Text,{color:"primary",size:"sm",bold:!0,children:(null==a||null==(i=a.entries)?void 0:i.length)+" "+c(Lt)})]})]})},fr=function(e){var r=e.groupedEntries,i=N(),a=i.t,s=i.showPrice,o=t.useMemo((function(){return r.filter((function(e){return"headPosition"===Object.keys(e)[0]})).map((function(e){var t,r,i,o,l,c,d,f=e.headPosition;return u.jsxs("li",{className:"shadow rounded bg-lighter",children:[u.jsxs("div",{className:"grid grid-cols-12 gap-4 w-full relative p-2 mb-4",children:[u.jsx("div",{className:"col-span-full lg:col-span-4",children:u.jsx(nr,{imageSrc:null==f||null==(t=f.thumbnail)?void 0:t.url,imageAlt:null==f||null==(r=f.thumbnail)?void 0:r.altText,productName:(null==f?void 0:f.marketSystemName)&&""+(null==f?void 0:f.marketSystemName),badgeType:"success",badgeText:a((d=null==f?void 0:f.businessCase,Jt[d])),keySystemCode:null==f?void 0:f.keySystemCode})}),u.jsx("div",{className:"col-span-full lg:col-span-8",children:u.jsx("div",{className:"flex flex-row flex-wrap space-y-2 w-full md:flex-nowrap md:space-y-0 md:space-x-2 lg:justify-end",children:s&&u.jsx(sr,{totalPrice:null==f?void 0:f.price})})}),u.jsx("div",{className:"col-span-full lg:col-span-5",children:(null==f||null==(i=f.positionText)?void 0:i.textContent)&&u.jsx(rr,{value:null==f||null==(o=f.positionText)?void 0:o.textContent})}),u.jsx("div",{className:"col-span-full lg:col-span-5",children:(null==f||null==(l=f.salesText)?void 0:l.textContent)&&u.jsx(ar,{value:null==f||null==(c=f.salesText)?void 0:c.textContent})}),u.jsx("div",{className:"col-span-full lg:col-span-2 lg:col-start-11 lg:text-right",children:"NEW_SERIES"===(null==f?void 0:f.businessCase)&&u.jsx(n.Data,{testid:"amountOfSets",label:a(Ot),value:null==f?void 0:f.quantity,className:"lg:items-end"})})]}),(null==f?void 0:f.entries)&&u.jsx("div",{className:"w-full",children:u.jsx(dr,{headPosition:f})})]},null==f?void 0:f.code)}))}),[r,s,a]),l=t.useMemo((function(){return r.filter((function(e){return"singleEntry"===Object.keys(e)[0]})).map((function(e){var t,r,i,o,l,c,d,f,m,h,p,v,y,g,x=e.singleEntry;return u.jsxs("li",{className:"shadow rounded bg-lighter",children:[u.jsxs("div",{className:"grid grid-cols-12 gap-4 w-full relative p-2 mb-2",children:[u.jsx("div",{className:"col-span-full lg:col-span-4",children:u.jsx(nr,{imageSrc:null==x||null==(r=x.product)||null==(i=r.thumbnails)||null==(o=i[0])?void 0:o.url,imageAlt:null==x||null==(l=x.product)||null==(c=l.thumbnails)||null==(d=c[0])?void 0:d.altText,productName:null==x||null==(f=x.product)?void 0:f.name,badgeText:null==x||null==(m=x.product)?void 0:m.code.replace(/^0+/,""),badgeType:"error",ean:null==x||null==(h=x.product)?void 0:h.ean,medias:null==x?void 0:x.medias})}),u.jsx("div",{className:"col-span-full lg:col-span-8",children:u.jsxs("div",{className:"flex flex-row flex-wrap space-y-2 w-full md:flex-nowrap md:space-y-0 md:space-x-2 lg:justify-end",children:[s&&u.jsx(or,{gross:null==x?void 0:x.listPricePerUnit,net:null==x?void 0:x.netPricePerUnit,discount:null==x?void 0:x.discountInPercentage}),u.jsx(ir,{amount:null==x?void 0:x.displayUnitQuantity,unitName:null==x||null==(p=x.displayUnit)?void 0:p.name}),s&&u.jsx(sr,{totalPrice:null==x?void 0:x.userPrice}),s&&u.jsx(tr,{deliveryInfos:null==x?void 0:x.committedDeliveryInfos})]})}),u.jsx("div",{className:"col-span-full lg:col-span-4",children:(null==x||null==(v=x.positionText)?void 0:v.textContent)&&u.jsx(rr,{value:null==x||null==(y=x.positionText)?void 0:y.textContent})})]}),(null==x?void 0:x.configurationName)&&u.jsxs("div",{className:"col-span-full divide-y space-y-2 px-2",children:[u.jsx("div",{className:"lg:pl-128",children:u.jsx(n.Text,{bold:!0,size:"sm",children:a(Et)})}),u.jsx("div",{className:"lg:pl-128 pt-2",children:u.jsx(Qt,{configurationName:null==x?void 0:x.configurationName,productCode:null==x||null==(g=x.product)?void 0:g.code,cartEntryPk:null==x?void 0:x.cartEntryPk})})]})]},null==x||null==(t=x.product)?void 0:t.code)}))}),[r,s,a]);return u.jsxs("ul",{className:"space-y-4 py-2 lg:px-8","data-testid":"finalReview",children:[o,l]})};!function(e){e.Copy="copy",e.Move="move"}(Kt||(Kt={})),function(e){e.private="private",e.public="public"}(Xt||(Xt={}));var mr=function(r){var a=r.fixed,s=void 0===a||a,o=e.store.hooks.useIsFetching(),l=t.useState(!1),c=l[0],d=l[1];return t.useEffect((function(){var e=function(){return d(!0)};return addEventListener("beforeunload",e),function(){return removeEventListener("beforeunload",e)}}),[]),(o||c)&&u.jsx("div",{className:i("w-full h-full flex items-center justify-center top-0 left-0 z-9000 backdrop-filter backdrop-blur",s?"fixed":"absolute"),"data-testid":"overlayLoader",children:u.jsx(n.Icon,{size:"xl",type:"loader"})})},hr="vanguard.checkout.items",pr="vanguard.checkout.cta.continueShopping",vr="vanguard.orderConfirmation.downloadPDF",yr="vanguard.orderConfirmation.generatePDF",gr="vanguard.orderConfirmation.myOrders",xr="vanguard.checkout.confirmation.thx",br="vanguard.checkout.confirmation.info",jr="vanguard.checkout.delivery.method",wr="vanguard.checkout.delivery.recipient",Nr="vanguard.checkout.paymentterm.default",Cr="vanguard.checkout.payment.billing",Sr="vanguard.checkout.payment.tile",kr="vanguard.checkout.delivery.tile",_r="vanguard.checkout.confirmation.orderSummary",Tr="vanguard.checkout.confirmation.orderSummary.orderedBy",Or="vanguard.checkout.confirmation.orderSummary.customerOrderNumber",Ar="vanguard.checkout.total.price",Dr="vanguard.checkout.confirmation.orderSummary.date",Lr="vanguard.checkout.payment.termsOfPayment",Pr="vanguard.checkout.endUserInformation.tile",Er=function(){var r=N(),i=r.showOrderConfirmationPDF,a=r.orderCode,s=r.t,o=e.store.api.checkout.useGetOrderConfirmationQuery({orderCode:a}).data,l=t.useState(!1),c=l[0],d=l[1],f=e.store.api.checkout.useGetIsOrderPdfReadyQuery({orderCode:a},{pollingInterval:c?5e3:null}).data;t.useEffect((function(){f&&d(!1)}),[f]);return u.jsxs("div",{className:"flex flex-col md:flex-row justify-end pt-4 space-y-2 md:space-x-2 md:space-y-0",children:[u.jsx(n.Button,{onClick:function(){return window.location.href=y("/my-account/orders","redirect")},testid:"myOrdersButton",variant:"outlined",iconType:"history",children:s(gr)}),i&&u.jsx(n.Button,{onClick:function(){f?window.open(y("/checkout/orderConfirmation/"+(null==o?void 0:o.orderNumber)+"/download","redirect"),"_blank"):d(!0)},testid:"downloadPDFButton",variant:"outlined",iconType:"download",isLoading:c,children:s(f?vr:yr)}),u.jsx(n.Button,{onClick:function(){return window.location.href=y("","redirect")},iconType:"arrow",testid:"continueShoppingButton",children:s(pr)})]})},Vr=function(){var e=N().t;return u.jsx("div",{className:"flex mb-4","data-testid":"header",children:u.jsxs("div",{className:"items-center",children:[u.jsxs(n.Text,{type:"h3",size:"xl",testid:"thanks",children:[e(xr),"!"]}),u.jsx(n.Text,{testid:"info",children:e(br)})]})})},Fr=function(){var t=N().orderCode,r=e.store.api.checkout.useGetOrderConfirmationQuery({orderCode:t}).data,n=e.store.api.checkout.useGetAdditionalAddressTypesQuery({orderCode:t}).data;return u.jsx("div",{className:"flex flex-wrap pl-6",children:((null==r?void 0:r.additionalAddresses)||[]).map((function(e){var t;return u.jsx("div",{className:"pr-16","data-testid":e.additionalAddressTypeCode,children:u.jsx(Wt,{label:null==(t=(n||[]).find((function(t){return t.code===e.additionalAddressTypeCode})))?void 0:t.name,value:e})},e.additionalAddressTypeCode)}))})},$r=function(){var t,r,i=N(),a=i.t,s=i.orderCode,o=e.store.api.checkout.useGetOrderConfirmationQuery({orderCode:s}).data;return u.jsxs("div",{className:"flex flex-col space-y-3 md:space-y-0 md:flex-row justify-around",children:[u.jsxs("div",{className:"w-1/2 pl-4","data-testid":"deliveryDetails",children:[u.jsx(n.Text,{bold:!0,size:"sm",testid:"modeLabel",children:a(jr)}),u.jsx(n.Text,{testid:"modeName",children:null==o||null==(t=o.deliveryMode)?void 0:t.name}),u.jsx(n.Text,{testid:"modeDescription",children:null==o||null==(r=o.deliveryMode)?void 0:r.description})]}),u.jsx("div",{className:"w-1/2 pl-4","data-testid":"deliveryAddress",children:u.jsx(Wt,{label:a(wr),value:null==o?void 0:o.deliveryAddress})})]})},Mr=function(){var t,r,i,a=N(),s=a.t,o=a.orderCode,l=e.store.api.checkout.useGetOrderConfirmationQuery({orderCode:o}).data,c=e.store.api.checkout.useGetB2BUnitQuery().data;return u.jsxs("div",{className:"flex flex-col space-y-3 md:space-y-0 md:flex-row justify-around",children:[u.jsx("div",{className:"w-1/2 pl-4",children:u.jsxs("div",{className:"mt-4","data-testid":"terms",children:[u.jsx(n.Text,{bold:!0,testid:"label",children:s(Lr)}),u.jsx(n.Text,{color:null!=c&&null!=(t=c.defaultPaymentTerm)&&t.description?"green":"tertiary",testid:"value",children:null!=(r=null==c||null==(i=c.defaultPaymentTerm)?void 0:i.description)?r:s(Nr)})]})}),u.jsx("div",{className:"w-1/2 pl-4","data-testid":"billing",children:u.jsx(Wt,{label:s(Cr),value:null==l?void 0:l.billingAddress})})]})},Ir=function(){var t,r=N(),i=r.t,a=r.orderCode,s=r.showPaymentTile,o=e.store.api.checkout.useGetOrderConfirmationQuery({orderCode:a}).data,l=[{id:"001",isOpen:!1,show:s,title:i(Sr),content:u.jsx(Mr,{}),testid:"payment"},{id:"002",isOpen:!1,show:!0,title:i(kr),content:u.jsx($r,{}),testid:"delivery"},{id:"003",isOpen:!1,show:(null==o||null==(t=o.additionalAddresses)?void 0:t.length)>0,title:i(Pr),content:u.jsx(Fr,{}),testid:"additionalAddress"},{id:"004",isOpen:!1,show:!0,title:i(hr),content:u.jsx(fr,{groupedEntries:(null==o?void 0:o.groupedEntries)||[]}),testid:"orderReview"}].filter((function(e){return e.show}));return u.jsx(n.Accordion,{data:l})},Br=function(){var t=N(),r=t.t,i=t.showPrice,a=t.orderCode,s=e.store.api.checkout.useGetOrderConfirmationQuery({orderCode:a}).data;return u.jsxs("div",{className:"w-full bg-lighter p-4 shadow rounded","data-testid":"orderSummary",children:[u.jsx(n.Text,{bold:!0,testid:"header",size:"lg",children:r(_r)}),u.jsxs("div",{className:"container justify-between flex flex-col space-y-3 md:space-y-0 md:flex-row mt-3 px-4",children:[u.jsx(n.Data,{testid:"orderedBy",label:r(Tr),value:null==s?void 0:s.orderedBy}),u.jsx(n.Data,{testid:"orderDate",label:r(Dr),value:er(null==s?void 0:s.orderDate).format("DD.MM.YYYY")}),u.jsx(n.Data,{testid:"customerReferenceId",label:r(Or),value:null==s?void 0:s.customerReferenceId}),i&&u.jsx(n.Data,{testid:"totalPrice",label:r(Ar),value:u.jsx(n.Price,{price:null==s?void 0:s.simulatedTotalPrice})})]})]})},qr=function(){return u.jsxs("div",{"data-testid":"orderConfirmation",children:[u.jsx(Vr,{}),u.jsx(Br,{}),u.jsx(Ir,{}),u.jsx(Er,{}),u.jsx(mr,{})]})};!function(t,n){var i='[data-react-app="'+n+'"]:not([data-rendered])',a=document.querySelector(i);if(!a)throw new Error(i+" is missing");var s=document.createElement("div");a.appendChild(s),a.setAttribute("data-rendered","true"),r.render(function(t,r){return u.jsx(e.StoreProvider,{children:u.jsx(m,{appId:r,children:u.jsx(p,{children:u.jsx(t,{})})})})}(t,n),s)}((function(){return u.jsx(qr,{})}),"order-confirmation")}));
