!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("react"),require("react-dom"),require("@vanhyb/backbone"),require("@dormakaba/vanguard"),require("classnames")):"function"==typeof define&&define.amd?define(["react","react-dom","@vanhyb/backbone","@dormakaba/vanguard","classnames"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).dormakaba.vendorReact["vendor/react"],e.dormakaba.vendorReact["vendor/react-dom"],e.DormakabaBackbone,e.DormakabaVanguard,e.dormakaba.vendorReact["vendor/classnames"])}(this,(function(e,t,r,n,a){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=o(e),u=o(a),l=e.createContext(null),c=function(t){var r=t.appId,n=t.children,a=t.defaultValue,o=void 0===a?{}:a,u=e.useMemo((function(){if(!r)return o;var e='[data-react-app="'+r+'"]',t=document.querySelector(e);if(!t)throw new Error(e+" is missing");var n=t.querySelector("script");return null!=n&&n.innerHTML?JSON.parse(n.innerHTML):o}),[r,o]);return i.default.createElement(l.Provider,{value:u},n)},s=function(){return e.useContext(l)};function d(e,t,r,n,a,o,i){try{var u=e[o](i),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,a)}var f={exports:{}};!function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof v?t:v,o=Object.create(a.prototype),i=new S(n||[]);return o._invoke=function(e,t,r){var n=d;return function(a,o){if(n===m)throw new Error("Generator is already running");if(n===h){if("throw"===a)throw o;return I()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var u=k(i,r);if(u){if(u===p)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===d)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=m;var l=s(e,t,r);if("normal"===l.type){if(n=r.done?h:f,l.arg===p)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(n=h,r.method="throw",r.arg=l.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",f="suspendedYield",m="executing",h="completed",p={};function v(){}function y(){}function g(){}var E={};E[o]=function(){return this};var x=Object.getPrototypeOf,b=x&&x(x(L([])));b&&b!==r&&n.call(b,o)&&(E=b);var w=g.prototype=v.prototype=Object.create(E);function P(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function r(a,o,i,u){var l=s(e[a],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,i,u)}),(function(e){r("throw",e,i,u)})):t.resolve(d).then((function(e){c.value=e,i(c)}),(function(e){return r("throw",e,i,u)}))}u(l.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){r(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function k(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,k(e,r),"throw"===r.method))return p;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var a=s(n,e.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,p;var o=a.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,p):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function L(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function r(){for(;++a<e.length;)if(n.call(e,a))return r.value=e[a],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:I}}function I(){return{value:t,done:!0}}return y.prototype=w.constructor=g,g.constructor=y,y.displayName=l(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},P(T.prototype),T.prototype[i]=function(){return this},e.AsyncIterator=T,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new T(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},P(w),l(w,u,"Generator"),w[o]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=L,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function a(n,a){return u.type="throw",u.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var l=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(l&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),N(r),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;N(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}(f);var m=f.exports;function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,h(e,t)}var v=function(){var e=this;this.cache={},this.cacheClearListener=[],this.lastCacheClear=new Date,this.addEntry=function(t,r){e.cache[t]=r},this.hasEntry=function(t){return Object.keys(e.cache).some((function(e){return e===t}))},this.getEntry=function(t){return e.cache[t]},this.clearCache=function(){e.cache={},e.lastCacheClear=new Date,setTimeout((function(){e.cacheClearListener.forEach((function(t){return t(e.lastCacheClear)}))}))},this.subscribeToCacheClear=function(t){e.cacheClearListener.push(t)},this.unsubscribeFromCacheClear=function(t){var r=e.cacheClearListener.indexOf(t);r>-1&&e.cacheClearListener.splice(r,1)}},y=new(function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).supportedStatusCodes=[401],t.supportedErrorIds=["account.error.unauthorized.user"],t.getApiErrorResponse=function(e){try{return JSON.parse(e.responseText)}catch(t){console.warn(new Error("Could not parse authentication error: "+e.status+" "+JSON.stringify(e.responseText)))}},t}p(t,e);var r=t.prototype;return r.supports=function(e){return this.supportedStatusCodes.some((function(t){return e.status===t}))},r.handleRequestInternal=function(e,t){var r=this.getApiErrorResponse(e);if(r&&(r&&this.supportedErrorIds.some((function(e){return e===r.errorId}))))return void window.location.reload();return Promise.reject(e)},t}(function(){function e(e){var t=(void 0===e?{overlayClosable:!1}:e).overlayClosable;this.overlayClosable=void 0,this.getApiErrorResponse=function(e){var t;try{return!(t=JSON.parse(e.responseText))&&!t.errors&&t.errors.length<=0&&console.warn(new Error("Could not parse authentication error: "+e.status+" "+JSON.stringify(e.responseText))),t.errors[0]}catch(t){console.warn(new Error("Could not parse authentication error: "+e.status+" "+JSON.stringify(e.responseText)))}},this.overlayClosable=t}return e.prototype.handleRequest=function(e){return this.supports(e)?this.handleRequestInternal(e,this.overlayClosable):Promise.reject(e)},e}()));function g(e){(function(e){var t={errors:[{errorId:String(e.status),message:e.responseText||e.statusText,stackTrace:""}]};try{var r=JSON.parse(e.responseText);return r.errors[0].message?r:t}catch(e){return t}})(e).errors.forEach((function(e){var t=[e.message,e.technicalMksMessage].filter(Boolean);console.log(e.errorId,t.join("<br>"))}))}var E=function e(t){var r=this,n=t.url,a=t.cacheEnabled,o=void 0!==a&&a,i=t.options;this.cache=void 0,this.url=void 0,this.cacheEnabled=void 0,this.options=void 0,this.ajax=function(e){var t=e.keys,n=e.body,a=e.headerOptions,o=e.errorInterceptors,i=e.omitErrorMessage,u=void 0!==i&&i,l=Object.assign({},r.getOptions(t),{headerOptions:a}),c=r.doRequestInternal(t,n);return c.catch((function(t){return o?o.reduce((function(t,n){return t.catch((function(t){var a,o;return null==n||null==(a=n.handleRequest(t))||null==(o=a.then((function(){return r.ajax(e)})))?void 0:o.catch((function(e){return Promise.reject(e)}))}))}),Promise.reject(t)):c})).catch((function(e){return void 0===y.handleRequest(e)?c:Promise.reject(e)})).catch((function(e){return u||g(e),l.afterError&&l.afterError(e,r),c})).then((function(e){return l.afterSuccess&&l.afterSuccess(e),e}))},this.generateHash=function(e){var t=0;if(0===e.length)return t.toString();for(var r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r),t&=t}return t.toString()},this.getCacheEntryKey=function(e){return r.generateHash(r.getHeader(e)+" : "+r.getUrl(e))},this.getUrl=function(e){return r.url(e)},this.getOptions=function(e){return r.options(e)},this.getHeader=function(t){var n=e.createHeaders(r.getOptions(t).headerOptions),a=JSON.stringify(n).split(/\{([^\ "}]+)\}/);return n?a.map((function(e,t){return t%2?n[e]:e})).join(""):a.join("")},this.onCacheClear=function(e){r.cache&&r.cache.subscribeToCacheClear(e)},this.offCacheClear=function(e){r.cache&&r.cache.unsubscribeFromCacheClear(e)},this.clearCache=function(){r.cache&&r.cache.clearCache()},this.doRequestInternal=function(e,t){var n,a=r.getCacheEntryKey(e);if(r.cacheEnabled&&null!=(n=r.cache)&&n.hasEntry(a))return r.cache.getEntry(a);var o=r.request(e,t);return r.cacheEnabled&&o.then((function(e){var t;return null==(t=r.cache)?void 0:t.addEntry(a,o)})).catch((function(e){return console.warn("Omit cache entry",e)})),o},this.url=n,this.cacheEnabled=o||!1,this.options=i||function(){return{}},this.cacheEnabled&&(this.cache=new v)};function x(e){return JSON.parse(e,(function(e,t){return"string"==typeof t&&/^\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d(\.\d{1,3})?([+-][0-2]\d:[0-5]\d|Z)$/.test(t)?new Date(t):t}))}E.createHeaders=function(e){var t=e||{};return t={defaultContentTypeJsonUTF8:void 0===t.defaultContentTypeJsonUTF8||t.defaultContentTypeJsonUTF8,customHeaders:t.customHeaders||{},authToken:t.authToken,requestedWith:t.requestedWith||"XMLHttpRequest"},Object.assign({},t.defaultContentTypeJsonUTF8&&{"Content-Type":"application/json; charset=UTF-8"},t.authToken&&{Authorization:"Bearer "+t.authToken},t.requestedWith&&{"X-Requested-With":t.requestedWith},t.customHeaders&&t.customHeaders)};var b=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).request=function(e){return new Promise((function(r,n){var a=new XMLHttpRequest;a.open("GET",t.getUrl(e),!0),a.timeout=t.getOptions(e).timeout||18e4;var o=JSON.parse(t.getHeader(e));Object.keys(o).forEach((function(e){a.setRequestHeader(e,o[e])})),a.onload=function(){var e,t=-1!==(a.getResponseHeader("Content-Type")||"").indexOf("html");if(a.status<200||a.status>=400)return n(a);if(t)return r(a.responseText);try{e=a.responseText?x(a.responseText):void 0}catch(e){return n(a)}r(e)},a.onerror=function(){n(a)},a.send();var i=t.getAjaxSignal(e);i&&(i.onabort=function(){console.log("GetEndpoint: request aborted by user "+t.getUrl(e)),a.abort(),r(void 0)})}))},t.getAjaxSignal=function(e){return e.signal},t}return p(t,e),t}(E);b.create=function(e){var t=e.url,r=e.cacheEnabled,n=e.options;return new b({url:t,cacheEnabled:r,options:n})};var w=b.create({url:function(e){return e.encodedContextPath+"/login/token"},cacheEnabled:!1}),P=function(){try{var e,t;return JSON.parse(null!=(e=null==(t=document.querySelector("#terrific-config"))?void 0:t.innerHTML)?e:"{}")}catch(e){throw new Error("Could not read terrific-config from #terrific-config "+e)}},T=function(){var e=document.getElementById("user-service-config");return JSON.parse((null==e?void 0:e.innerHTML)||"{}")},k=function(){var e=document.documentElement.getAttribute("lang")||"";if(!e)throw new Error("html[lang] is missing");return e},C=function(){var t=function(){var t=e.useState(P),r=t[0],n=t[1];return{config:r,reload:e.useCallback((function(){return n(P())}),[n])}}().config,r=e.useState(T),n=r[0],a=r[1],o=e.useState(k),i=o[0],u=o[1],l=function(){var t=e.useCallback((function(e,t){var r={meta:{createdAt:Date.now()},value:t};return sessionStorage.setItem(e,JSON.stringify(r)),r}),[]),r=e.useCallback((function(e){return JSON.parse(sessionStorage.getItem(e))}),[]),n=e.useCallback((function(e){return sessionStorage.removeItem(e)}),[]);return{clear:e.useCallback((function(){return sessionStorage.clear()}),[]),setItem:t,getItem:r,removeItem:n}}(),c=l.setItem,s=l.getItem,d=l.removeItem,f=e.useState(),m=f[0],h=f[1],p=e.useCallback((function(){a(T()),u(k())}),[a,u]),v=e.useCallback((function(e,t){"loggedIn"===e&&t?h(c(n.currentUserId,t)):(d(n.currentUserId),h(void 0))}),[n,d,c,h]);return e.useEffect((function(){return n.currentUserId&&h(s(n.currentUserId))}),[n,s,h]),e.useEffect((function(){var e,r=Date.now()-(null==m||null==(e=m.meta)?void 0:e.createdAt);(null==m||!m.value||r>=36e5)&&w.ajax({keys:{encodedContextPath:t.encodedContextPath}}).then((function(e){return v("loggedIn",e)}),(function(){return v("loggedOut")}))}),[t,m,v]),{info:n,language:i,token:null==m?void 0:m.value,reload:p}},N="{undefined}",S={baseSiteId:"hybrisStoreName",userId:"currentUserId"},L=function(t,r){void 0===t&&(t=""),void 0===r&&(r={});var n=e.useState({get:{data:null,isLoading:!1,errors:null},post:{data:null,isLoading:!1,errors:null},put:{data:null,isLoading:!1,errors:null},patch:{data:null,isLoading:!1,errors:null}}),a=n[0],o=n[1],i=C(),u=i.info,l=i.token,c=e.useMemo((function(){var e=Object.assign({},r,u),n="",a=function(e){var t=/[{}]/g;return(e.match(/{([\w\d]+)}/g)||[]).map((function(e){return e.replace(t,"")}))}(t),o=new RegExp(N);return a.forEach((function(r){var a;n=n||t;var o=null!=(a=e[S[r]||r])?a:N;n=n.replace("{"+r+"}",o)})),o.test(n)?"":n}),[u,t,r]),s=e.useCallback((function(e,t){return o((function(r){var n;return Object.assign({},r,((n={})[e]=Object.assign({},r[e],{isLoading:t}),n))}))}),[o]),f=e.useCallback((function(e,t,r){return o((function(n){var a;return Object.assign({},n,((a={})[e]=Object.assign({},n[e],{data:t,errors:r}),a))}))}),[o]),h=e.useCallback((function(e,t){if(void 0===t&&(t={}),!c||!l)return Promise.reject(new Error("No target or token!"));var r=/get|options/.test(e),n=r?void 0:t,a=new URLSearchParams;r&&Object.keys(t).forEach((function(e){return a.append(e,t[e])})),t.queryParams&&Object.keys(t.queryParams).forEach((function(e){return a.append(e,t.queryParams[e])}));var o=a.toString(),i=o.length>0?c+"&"+o:c,u={Authorization:"Bearer "+l};return r||(u["Content-Type"]="application/json; charset=utf-8"),s(e,!0),fetch(i,{method:e,headers:u,body:JSON.stringify(n)}).then(function(){var e,t=(e=m.mark((function e(t){var r;return m.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json().catch((function(){return null}));case 2:if(r=e.sent,t.ok){e.next=5;break}throw r;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){d(o,n,a,i,u,"next",e)}function u(e){d(o,n,a,i,u,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}()).then((function(t){return f(e,t,null),t})).catch((function(t){var r=t.errors||[{message:t.message}];throw f(e,null,r),r})).finally((function(){return s(e,!1)}))}),[c,l,f,s]),p=e.useCallback((function(e){return void 0===e&&(e={}),h("get",e)}),[h]),v=e.useCallback((function(e){return void 0===e&&(e={}),h("post",e)}),[h]),y=e.useCallback((function(e){return void 0===e&&(e={}),h("put",e)}),[h]);return{responses:a,get:p,post:v,patch:e.useCallback((function(e){return void 0===e&&(e={}),h("patch",e)}),[h]),put:y}},I=function(e,t){return void 0===t&&(t=[]),e.replaceAll("{}",function(e){var t=0;return function(r){return e[t++]||r}}(t))},B=function(e){return"/"+(null==(t=window.location.pathname.split("/").filter((function(e){return e})))?void 0:t[0])+"/"+(null==t?void 0:t[1])+e;var t},O=function(e,t){void 0===e&&(e=""),void 0===t&&(t="occ");var r="";switch(t){case"occ":r=function(e){var t="rootB2BUnit",r=new URL(e,"http://updateQueryParams");return r.searchParams.has(t)&&r.searchParams.delete(t),r.searchParams.append(t,"{rootB2BUnit}"),decodeURI(""+r.pathname+r.search)}(function(e){return"/dormakabacommercewebservices/v2"+e}(e));break;case"redirect":r=B(e)}return r},j=function(){var t=s().translations;return{t:e.useCallback((function(e){var r=null==t?void 0:t[e];if(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return a.length?I(r,a):r}return e}),[t])}},q=e.createContext(null),U=function(t){var r,n,a=t.children,o=s().orderCode,u=L(O("/{baseSiteId}/users/{userId}/checkout/orderConfirmation/{orderId}"),{orderId:o}),l=u.get,c=u.responses.get,d=c.data,f=c.isLoading,m=L(O("/{baseSiteId}/users/{userId}/checkout/current/getB2BUnit")),h=m.responses.get,p=m.get;return e.useEffect((function(){l(),p()}),[l,p]),i.default.createElement(q.Provider,{value:{deliveryAddress:null==d?void 0:d.deliveryAddress,billingAddress:null==d?void 0:d.deliveryAddress,groupedEntries:null==d?void 0:d.groupedEntries,paymentTerm:null==h||null==(r=h.data)?void 0:r.defaultPaymentTerm,deliveryMode:null==d?void 0:d.deliveryMode,paymentMode:null==d?void 0:d.paymentMode,orderedBy:null==d?void 0:d.orderedBy,orderDate:null!=d&&d.orderDate?new Date(d.orderDate).toLocaleString():"",orderNumber:null==d?void 0:d.orderNumber,totalPrice:(null==d||null==(n=d.simulatedTotalPrice)?void 0:n.formattedValue)||"-",isLoading:f||(null==h?void 0:h.isLoading)}},a)},A=function(){return e.useContext(q)},R=function(){var e=j().t,t=A().orderNumber;return i.default.createElement(n.Box,{className:"flex justify-end pt-4 space-x-2"},i.default.createElement(n.Button,null,e("vanguard.checkout.cta.continueShopping")),i.default.createElement(n.Link,{target:"_blank",href:O("/my-account/orders","redirect")},i.default.createElement(n.Button,null,e("vanguard.orderConfirmation.myOrders"))),i.default.createElement(n.Link,{target:"_blank",href:O("/my-account/order/"+t+"/documents","redirect")},i.default.createElement(n.Button,null,e("vanguard.orderConfirmation.downloadPDF"))))},D=function(){var e=j().t,t=A().orderNumber;return i.default.createElement(n.Box,{className:"pb-4"},i.default.createElement(n.Box,{className:"flex justify-between"},i.default.createElement(n.Box,{className:"items-center"},i.default.createElement(n.Text,{type:"h3"},e("vanguard.checkout.confirmation.thx"),"!ðŸŽ‰"),i.default.createElement(n.Text,null,e("vanguard.checkout.confirmation.info"))),i.default.createElement(n.Box,{className:"justify-items-center bg-green-500 pt-4 px-2 rounded-md items-center"},i.default.createElement(n.Text,{color:"white"},e("vanguard.checkout.confirmation.orderSummary.customerOrderNumber")),i.default.createElement(n.Text,{color:"white",bold:!0},t))),i.default.createElement(n.Box,null))},H=function(e){var t=e.id,r=e.testid,a=e.className,o=e.company,l=e.person,c=e.address,s=e.region,d=e.country;return i.default.createElement(n.Box,{id:t,testid:r,className:u.default(a)},o&&i.default.createElement(n.Text,{testid:r+"-company",bold:!0,color:"gray-500"},o),l&&i.default.createElement(n.Text,{testid:r+"-person",bold:!0,color:"gray-500"},l),c&&i.default.createElement(n.Text,{testid:r+"-address",color:"gray-500"},c),s&&i.default.createElement(n.Text,{testid:r+"-region",color:"gray-500"},s),d&&i.default.createElement(n.Text,{testid:r+"-country",color:"gray-500"},d))},M=function(e){var t=e.address,r=e.deliveryMode,a=j().t,o={company:null==t?void 0:t.companyName,person:null==t?void 0:t.id,address:[null==t?void 0:t.line1,null==t?void 0:t.line2].join(),region:null==t?void 0:t.region.isocode,country:null==t?void 0:t.country.name};return i.default.createElement(n.Box,{className:"flex justify-around"},i.default.createElement(n.Box,{className:"w-1/2 pl-4"},i.default.createElement(H,o)),i.default.createElement(n.Box,{className:"w-1/2 pl-4"},i.default.createElement(n.Text,{bold:!0,color:"gray-700"},a("vanguard.checkout.delivery.options")),i.default.createElement(n.Text,null,(null==r?void 0:r.name)+" ("+(null==r?void 0:r.description)+")")))},_="vanguard.checkout",J=_+".entry-{x}",F=J+".subpositions.item-{x}",z={finalReviewTitle:_+".finalReview",masterThumbnail:_+".entry.master.thumbnail",masterName:_+".entry.master.name",subitemsNumber:_+".entry.subitems.number",masterMaterialNumber:_+".entry.master.materialNumber",masterEanGtin:_+".entry.master.eanGtin",salesListPrice:_+".entry.sales.listPrice",salesUserPrice:_+".entry.sales.userPrice",salesDiscount:_+".entry.sales.discount",salesQuantity:_+".entry.sales.quantity",salesTotalPrice:_+".entry.sales.totalPrice",entrySubpositions:J+".subpositions",entrySubpositionsExpand:J+".subpositions.expand",entrySubpositionsName:F+".name.value",entrySubpositionsConfigurationName:F+".configuration.name",entrySubpositionsConfigurationDetails:F+".configuration.details",entrySubpositionsUserPrice:F+".price.userPrice",entrySubpositionsListPrice:F+".price.listPrice",entrySubpositionsDiscount:F+".price.discount",entryName:J+".master.name",entryThumbnail:J+".master.thumbnail",entryListPricePerUnit:J+".sales.listPricePerUnit",entryUserPricePerUnit:J+".sales.userPricePerUnit"},G=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((function(e,t){return e.replace("{x}",""+t)}),z[e])},W=function(e){var t=e.name,r=e.infos,a=void 0===r?[]:r,o=e.index,u=e.subpositionIndex;return i.default.createElement(n.Box,{className:"pr-6 space-y-3"},t&&i.default.createElement(n.Text,{testid:G("entrySubpositionsConfigurationName",o,u)},t),i.default.createElement(n.List,{data:a.map((function(e,t){return{id:t,name:e.configurationLabel,value:e.configurationValue}})),isCompressed:!0,testid:G("entrySubpositionsConfigurationDetails",o,u)}))},V=function(e){var t=e.name,r=e.isEntryAvailable,a=e.type,o=e.index,u=e.subpositionIndex,l=j().t;return i.default.createElement(n.Box,{className:"flex items-center"},!r&&i.default.createElement(n.Tooltip,{render:l("vanguard.cart.product.notAvailable"),position:"right"},i.default.createElement(n.Icon,{type:"warning",className:"pr-2"})),i.default.createElement(n.Icon,{type:{KEY:"locked",CYLINDER:"cylinder",SECURITYCARD:"card"}[a],className:"pr-2"}),i.default.createElement(n.Text,{type:"span",testid:G("entrySubpositionsName",o,u)},t))},Y=function(e){var t=e.userPrice,r=e.listPrice,a=e.currency,o=e.discount,u=e.index,l=e.subpositionIndex,c=j().t;return i.default.createElement(n.Box,{className:"justify-center space-y-1"},i.default.createElement(n.Text,{bold:!0,className:"text-center",color:"primary",testid:G("entrySubpositionsUserPrice",u,l)},i.default.createElement(n.Price,{value:t||r,currency:a})),o&&i.default.createElement(n.Box,{className:"flex justify-center"},i.default.createElement(n.Text,{type:"span",textsize:"sm",className:"line-through gray-100 pr-2",testid:G("entrySubpositionsListPrice",u,l)},i.default.createElement(n.Price,{value:r,currency:a})),i.default.createElement(n.Text,{type:"span",textsize:"sm",color:"green-600",testid:G("entrySubpositionsDiscount",u,l)},c("vanguard.cart.reduction",""+o))))},K=function(t){var r=t.subpositions,a=t.isReorder,o=t.index,u=j().t,l=function(t,r,n){var a=j().t;return{data:t.map((function(e){var t,r,n,a,o;return{lockingPosition:{lockingPosition:null==e?void 0:e.lockingPosition,isEntryAvailable:!(null!=e&&null!=(t=e.product)&&t.sapBlocked)&&(null==e?void 0:e.product.purchasable)&&(null==e?void 0:e.product.ecommerceEligible),type:null==e?void 0:e.product.materialType},product:null==e?void 0:e.product.name,configuration:{name:null==e?void 0:e.configurationName,infos:null==e?void 0:e.configurationInfos},roomCode:null==e?void 0:e.roomCode,quantity:null==e?void 0:e.quantity,price:{userPrice:null==e||null==(r=e.userPrice)?void 0:r.value,totalPrice:(null==e||null==(n=e.totalListPrice)?void 0:n.value)||(null==e||null==(a=e.totalPrice)?void 0:a.value),currency:null==e||null==(o=e.userPrice)?void 0:o.currencyIso,discount:null==e?void 0:e.discountInPercentage}}})),columns:e.useMemo((function(){return[{Header:a("vanguard.cart.lockPosition"),disableSortBy:!0,width:20,maxWidth:20,accessor:"lockingPosition",Cell:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t,r,a,o,u=e.cell;return i.default.createElement(V,{name:null==u||null==(t=u.value)?void 0:t.lockingPosition,isEntryAvailable:null==u||null==(r=u.value)?void 0:r.isEntryAvailable,type:null==u||null==(a=u.value)?void 0:a.type,index:n,subpositionIndex:+(null==u||null==(o=u.row)?void 0:o.id)})}))},{Header:a("vanguard.cart.items"),disableSortBy:!0,width:20,maxWidth:20,accessor:"product",Cell:function(e){return e.cell.value}},{Header:a("vanguard.cart.configurationData"),disableSortBy:!0,accessor:"configuration",width:150,maxWidth:150,Cell:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t,r,a,o=e.cell;return i.default.createElement(W,{name:null==o||null==(t=o.value)?void 0:t.name,infos:null==o||null==(r=o.value)?void 0:r.infos,index:n,subpositionIndex:+(null==o||null==(a=o.row)?void 0:a.id)})}))},{Header:r?a("vanguard.cart.emks.roomCode"):"",disableSortBy:!0,width:50,maxWidth:50,accessor:"roomCode",Cell:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t,r=e.cell;return null!=(t=null==r?void 0:r.value)?t:""}))},{Header:a("vanguard.cart.quantity"),disableSortBy:!0,width:20,maxWidth:20,accessor:"quantity",Cell:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return e.cell.value+"x"}))},{Header:a("vanguard.cart.totalPrice"),disableSortBy:!0,accessor:"price",Cell:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t,r,a,o,u,l=e.cell;return i.default.createElement(Y,{userPrice:null==l||null==(t=l.value)?void 0:t.userPrice,listPrice:null==l||null==(r=l.value)?void 0:r.totalPrice,currency:null==l||null==(a=l.value)?void 0:a.currency,discount:null==l||null==(o=l.value)?void 0:o.discount,index:n,subpositionIndex:+(null==l||null==(u=l.row)?void 0:u.id)})}))}]}),[n,r,a])}}(r,a,o),c=l.columns,s=l.data,d=e.useState(!1),f=d[0],m=d[1];return i.default.createElement(n.Box,null,f&&i.default.createElement(n.Box,{className:"px-4"},i.default.createElement(n.Table,{columns:c,data:s,testid:G("entrySubpositions",o)})),r.length>0&&i.default.createElement(n.Button,{className:"w-full justify-center text-xs bg-gray-100",variant:"primaryBorder",isLink:!0,iconType:f?"arrowup":"arrowdown",iconSize:"sm",size:"base",noPadding:!0,onClick:function(){return m(!f)},testid:G("entrySubpositionsExpand",o)},r.length+" "+u("vanguard.cart.items")))},Q="vanguard.checkout.item.sales.totalPrice",X="vanguard.checkout.item.sales.quantity\t",Z="vanguard.checkout.item.sales.listPrice",$="vanguard.checkout.item.sales.userPrice",ee="vanguard.checkout.item.sales.discount",te="vanguard.checkout.entry.sales.netPricePerUnit",re="vanguard.checkout.committedDelivery",ne=function(e){var t=e.deliveryInfos,r=void 0===t?[]:t,a=j().t,o=r.filter((function(e){return e.receiptDate})).map((function(e){return e.receiptDate})).sort().map((function(e){return new Date(e).toLocaleDateString()})),u=o[0],l=o[o.length-1];return i.default.createElement(n.Box,{className:"w-52"},o.length>0&&i.default.createElement(i.default.Fragment,null,i.default.createElement(n.Text,{className:"mb-2 truncate",bold:!0,textalign:"right"},a(re)),i.default.createElement(n.Text,{className:"flex justify-end space-x-2",textalign:"right"},i.default.createElement(n.Icon,{type:"greenTick"}),i.default.createElement(n.Text,{type:"span"},u===l?u:u+" - "+l))))},ae=function(e){var t=e.product,r=e.index,a=j().t,o=t.imageSrc,l=t.imageAlt,c=t.productName,s=t.marketSystemName,d=t.ean,f=t.badgeColor,m=t.badgeText;return i.default.createElement(n.Box,{className:"flex w-96 mr-auto"},i.default.createElement(n.Image,{src:o,alt:l,fullWidth:!1,className:"w-20 h-20 overflow-hidden",testid:G("entryThumbnail",r)}),i.default.createElement(n.Box,{className:"ml-2"},i.default.createElement(n.Box,null,i.default.createElement(n.Text,{color:"primary",type:"span",textsize:"md",testid:G("entryName",r)},c),s&&i.default.createElement(n.Text,{color:"primary",type:"span",textsize:"md",bold:!0},s)),i.default.createElement(n.Box,{className:"flex space-x-2 items-center"},i.default.createElement("span",{className:u.default("text-white text-sm px-2 rounded-md capitalize mb-1 mt-1",{"bg-green-500":"green"===f,"bg-secondarypalette-700":"red"===f}),"data-testid":G("masterMaterialNumber",r)},m),d&&i.default.createElement(n.Text,{textsize:"sm",testid:G("masterEanGtin",r)},a("vanguard.cart.ean")+": "+d))))},oe=function(e){var t=e.quantity,r=j().t;return i.default.createElement(n.Box,{className:"w-20"},i.default.createElement(n.Text,{className:"mb-2",bold:!0,textalign:"right"},r(X)),i.default.createElement(n.Text,{textalign:"right"},t.amount," ",t.unitName))},ie=function(e){var t=e.totalPrice,r=j().t,a=s().showPrice;return i.default.createElement(n.Box,{className:"w-96"},a&&i.default.createElement(i.default.Fragment,null,i.default.createElement(n.Text,{className:"mb-2",bold:!0,textalign:"right"},r(Q)),i.default.createElement(n.Text,{textalign:"right"},t)))},ue=function(e){var t=e.unitPrice,r=e.index,a=j().t,o=s().showPrice;return i.default.createElement(n.Box,{className:"w-64"},t&&o&&i.default.createElement(i.default.Fragment,null,i.default.createElement(n.Text,{className:"mb-2",bold:!0,textalign:"right"},a(te)),i.default.createElement(n.Text,{textalign:"right",testid:G("entryListPricePerUnit",r)},a(Z),": ",t.gross),i.default.createElement(n.Text,{textalign:"right",testid:G("entryUserPricePerUnit",r)},a($),": ",t.net),t.discount&&i.default.createElement(n.Text,{color:"green-600",textalign:"right"},a(ee)," ",t.discount,"%")))},le=function(e){var t=e.product,r=e.unitPrice,a=e.quantity,o=e.totalPrice,u=e.deliveryInfos,l=e.index;return i.default.createElement(n.Box,{className:"flex p-2 gap-x-4",background:"lighter"},i.default.createElement(ae,{product:t,index:l}),i.default.createElement(ue,{unitPrice:r,index:l}),i.default.createElement(oe,{quantity:a,index:l}),i.default.createElement(ie,{totalPrice:o,index:l}),i.default.createElement(ne,{deliveryInfos:u}))},ce=function(e){var t,r,a=e.headPosition,o=e.index,u=a.cylinderItems,l=void 0===u?[]:u,c=a.keyItems,s=void 0===c?[]:c,d=a.securityCardItems,f=void 0===d?[]:d;return i.default.createElement(n.Box,{className:"shadow rounded"},i.default.createElement(le,{product:{imageSrc:null==a||null==(t=a.thumbnail)?void 0:t.url,imageAlt:null==a||null==(r=a.thumbnail)?void 0:r.altText,productName:null==a?void 0:a.code,marketSystemName:(null==a?void 0:a.marketSystemName)&&" ("+(null==a?void 0:a.marketSystemName)+")",badgeColor:"green",badgeText:null==a?void 0:a.businessCase.replace(/_/g," ").toLowerCase()},quantity:{amount:null==a?void 0:a.quantity,unitName:""},totalPrice:null==a?void 0:a.price.formattedValue,index:o}),i.default.createElement(n.Box,null,i.default.createElement(K,{subpositions:[].concat(s,l,f),isReorder:"REORDER"===(null==a?void 0:a.businessCase),index:o})))},se=function(e){var t,r,a,o,u,l,c,s,d,f,m,h,p,v=e.entry,y=e.index;return i.default.createElement(n.Box,{className:"shadow rounded"},i.default.createElement(le,{product:{imageSrc:null==v||null==(t=v.product)||null==(r=t.thumbnails)||null==(a=r[0])?void 0:a.url,imageAlt:null==v||null==(o=v.product)||null==(u=o.thumbnails)||null==(l=u[0])?void 0:l.altText,productName:null==v||null==(c=v.product)?void 0:c.name,badgeText:null==v||null==(s=v.product)?void 0:s.code.replace(/^0+/,""),badgeColor:"red",ean:null==v||null==(d=v.product)?void 0:d.ean},unitPrice:{gross:null==v||null==(f=v.listPricePerUnit)?void 0:f.formattedValue,net:null==v||null==(m=v.netPricePerUnit)?void 0:m.formattedValue,discount:null==v?void 0:v.discountInPercentage},quantity:{amount:null==v?void 0:v.quantity,unitName:null==v||null==(h=v.displayUnit)?void 0:h.name},totalPrice:null==v||null==(p=v.userPrice)?void 0:p.formattedValue,deliveryInfos:null==v?void 0:v.committedDeliveryInfos,index:y}))},de=function(e){var t=e.groupedEntries;return i.default.createElement("ul",{className:"space-y-4 py-2 px-8"},null==t?void 0:t.map((function(e,t){var r,n=e.singleEntry,a=e.headPosition;return i.default.createElement("li",{key:(null==n||null==(r=n.product)?void 0:r.code)||(null==a?void 0:a.code)},("STO"===(null==n?void 0:n.productType)||"CPQ"===(null==n?void 0:n.productType)||"VISUAL"===(null==n?void 0:n.productType))&&i.default.createElement(se,{entry:n,index:t}),a&&i.default.createElement(ce,{headPosition:a,index:t}))})))},fe=function(e){var t,r,a=e.address,o=e.paymentMode,l=e.paymentTerm,c=j().t,s={company:null==a?void 0:a.companyName,person:null==a?void 0:a.id,address:[null==a?void 0:a.line1,null==a?void 0:a.line2].join(),region:null==a?void 0:a.region.isocode,country:null==a?void 0:a.country.name};return i.default.createElement(n.Box,{className:"flex justify-around"},i.default.createElement(n.Box,{className:"w-1/2 pl-4"},i.default.createElement(H,s)),i.default.createElement(n.Box,{className:"w-1/2 pl-4"},i.default.createElement(n.Text,{bold:!0,color:"gray-700"},c("vanguard.checkout.payment.method")),i.default.createElement(n.Text,null,null!=(t=null==o?void 0:o.description)?t:c("vanguard.checkout.paymentmethod.default")),i.default.createElement(n.Box,{className:"mt-4"},i.default.createElement(n.Text,{bold:!0,color:"gray-700"},c("vanguard.checkout.payment.termsOfPayment")),i.default.createElement(n.Text,{color:u.default({"green-600":null==l?void 0:l.description})},null!=(r=null==l?void 0:l.description)?r:c("vanguard.checkout.paymentterm.default")))))},me=function(){var e=j().t,t=A(),r=t.billingAddress,a=t.deliveryAddress,o=t.groupedEntries,u=t.deliveryMode,l=t.paymentMode,c=t.paymentTerm,s=[{id:"001",isOpen:!0,title:e("vanguard.checkout.delivery.tile"),content:i.default.createElement(M,{deliveryMode:u,address:a})},{id:"002",isOpen:!0,title:e("vanguard.checkout.payment.tile"),content:i.default.createElement(fe,{paymentMode:l,paymentTerm:c,address:r})},{id:"003",isOpen:!1,title:e("vanguard.checkout.items"),content:i.default.createElement(de,{groupedEntries:o})}];return i.default.createElement(n.Accordion,{data:s})},he=function(e){var t=e.title,r=e.value;return i.default.createElement(n.Container,null,i.default.createElement(n.Text,{bold:!0,className:"mr-3"},t+":"),i.default.createElement(n.Text,{color:"tertiary"},r))},pe=function(){var e=j().t,t=A(),r=t.orderedBy,a=t.orderDate,o=t.totalPrice;return i.default.createElement(n.Box,{className:"w-full bg-lighter p-4 shadow rounded"},i.default.createElement(n.Text,{color:"tertiary"},e("vanguard.checkout.confirmation.orderSummary")),i.default.createElement(n.Container,{className:"justify-between flex mt-3 px-3"},i.default.createElement(he,{title:e("vanguard.checkout.confirmation.orderSummary.orderedBy"),value:r}),i.default.createElement(he,{title:e("vanguard.checkout.confirmation.orderSummary.date"),value:a}),i.default.createElement(he,{title:e("vanguard.checkout.confirmation.orderSummary.totalPrice"),value:o.formattedValue})))},ve=function(){return A().isLoading&&i.default.createElement(n.Box,{className:"w-full h-full absolute flex items-center justify-center top-0 left-0 z-10 backdrop-filter backdrop-blur"},i.default.createElement(n.Loader,{size:"xl"}))},ye=function(){return i.default.createElement(U,null,i.default.createElement(D,null),i.default.createElement(pe,null),i.default.createElement(me,null),i.default.createElement(R,null),i.default.createElement(ve,null))},ge=function(){return i.default.createElement(c,{appId:"order-confirmation"},i.default.createElement(U,null,i.default.createElement(ye,null)))},Ee=document.querySelector('[data-react-app="order-confirmation"]')||function(e){throw new Error(e)}('[data-react-app="order-confirmation"] is missing'),xe=document.createElement("div");Ee.appendChild(xe),t.render(e.createElement(ge),xe)}));
