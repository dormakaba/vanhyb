!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@Apps/backbone"),require("react"),require("react-dom"),require("@dormakaba/vanguard"),require("classnames")):"function"==typeof define&&define.amd?define(["@Apps/backbone","react","react-dom","@dormakaba/vanguard","classnames"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).backbone,t.dormakaba.vendorReact["vendor/react"],t.dormakaba.vendorReact["vendor/react-dom"],t.DormakabaVanguard)}(this,(function(t,e,r,n){"use strict";var i,o,a,s=function(t,e){return void 0===e&&(e=[]),t.replaceAll("{}",function(t){var e=0;return function(r){return""+t[e++]||r}}(e))},u=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{}),c={};function l(){if(o)return i;o=1;var t=Object.getOwnPropertySymbols,e=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}return i=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(i,o){for(var a,s,u=n(i),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))e.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(u[s[d]]=a[s[d]])}}return u},i}!function(t){t.exports=function(){if(a)return c;a=1,l();var t=e,r=60103;if(c.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var n=Symbol.for;r=n("react.element"),c.Fragment=n("react.fragment")}var i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var a,u={},c=null,l=null;for(a in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(l=e.ref),e)o.call(e,a)&&!s.hasOwnProperty(a)&&(u[a]=e[a]);if(t&&t.defaultProps)for(a in e=t.defaultProps)void 0===u[a]&&(u[a]=e[a]);return{$$typeof:r,type:t,key:c,ref:l,props:u,_owner:i.current}}return c.jsx=u,c.jsxs=u,c}()}({get exports(){return u},set exports(t){u=t}});var d=e.createContext(null),f=function(t){var r=t.appId,n=t.children,i=e.useMemo((function(){var t='[data-react-app="'+r+'"]',e=document.querySelector(t);if(!e)throw new Error(t+" is missing");var n=e.querySelector("script");try{return JSON.parse(n.innerHTML)}catch(t){throw Error("Couldn't load config of #"+r)}}),[r]);return u.jsx(d.Provider,{value:i,children:n})},h=e.createContext(null),p=function(t){var r=t.children,n=e.useState(new URL(location.href));return u.jsx(h.Provider,{value:n,children:r})};var v=function(t){return"/"+(null==(e=window.location.pathname.split("/").filter((function(t){return t})))?void 0:e[0])+"/"+(null==e?void 0:e[1])+t;var e},y=function(t,e){void 0===t&&(t=""),void 0===e&&(e="occ");var r="";switch(e){case"occ":r=function(t){var e="rootB2BUnit",r=new URL(t,"http://updateQueryParams");return r.searchParams.has(e)&&r.searchParams.delete(e),r.searchParams.append(e,"{rootB2BUnit}"),decodeURI(""+r.pathname+r.search)}(function(t){return"/dormakabacommercewebservices/v2"+t}(t));break;case"redirect":r=v(t)}return r},m={};!function(t,e){t.exports=function(){var t=1e3,e=6e4,r=36e5,n="millisecond",i="second",o="minute",a="hour",s="day",u="week",c="month",l="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},m=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},g={s:m,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),i=r%60;return(e<=0?"+":"-")+m(n,2,"0")+":"+m(i,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),i=e.clone().add(n,c),o=r-i<0,a=e.clone().add(n+(o?-1:1),c);return+(-(n+(r-i)/(o?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:u,d:s,D:f,h:a,m:o,s:i,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},x="en",b={};b[x]=y;var w=function(t){return t instanceof $},j=function t(e,r,n){var i;if(!e)return x;if("string"==typeof e){var o=e.toLowerCase();b[o]&&(i=o),r&&(b[o]=r,i=o);var a=e.split("-");if(!i&&a.length>1)return t(a[0])}else{var s=e.name;b[s]=e,i=s}return!n&&i&&(x=i),i||!n&&x},S=function(t,e){if(w(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new $(r)},O=g;O.l=j,O.i=w,O.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var $=function(){function y(t){this.$L=j(t.locale,null,!0),this.parse(t)}var m=y.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(O.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(p);if(n){var i=n[2]-1||0,o=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)):new Date(n[1],i,n[3]||1,n[4]||0,n[5]||0,n[6]||0,o)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return O},m.isValid=function(){return!(this.$d.toString()===h)},m.isSame=function(t,e){var r=S(t);return this.startOf(e)<=r&&r<=this.endOf(e)},m.isAfter=function(t,e){return S(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<S(t)},m.$g=function(t,e,r){return O.u(t)?this[e]:this.set(r,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var r=this,n=!!O.u(e)||e,l=O.p(t),h=function(t,e){var i=O.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?i:i.endOf(s)},p=function(t,e){return O.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},v=this.$W,y=this.$M,m=this.$D,g="set"+(this.$u?"UTC":"");switch(l){case d:return n?h(1,0):h(31,11);case c:return n?h(1,y):h(0,y+1);case u:var x=this.$locale().weekStart||0,b=(v<x?v+7:v)-x;return h(n?m-b:m+(6-b),y);case s:case f:return p(g+"Hours",0);case a:return p(g+"Minutes",1);case o:return p(g+"Seconds",2);case i:return p(g+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var r,u=O.p(t),l="set"+(this.$u?"UTC":""),h=(r={},r[s]=l+"Date",r[f]=l+"Date",r[c]=l+"Month",r[d]=l+"FullYear",r[a]=l+"Hours",r[o]=l+"Minutes",r[i]=l+"Seconds",r[n]=l+"Milliseconds",r)[u],p=u===s?this.$D+(e-this.$W):e;if(u===c||u===d){var v=this.clone().set(f,1);v.$d[h](p),v.init(),this.$d=v.set(f,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[O.p(t)]()},m.add=function(n,l){var f,h=this;n=Number(n);var p=O.p(l),v=function(t){var e=S(h);return O.w(e.date(e.date()+Math.round(t*n)),h)};if(p===c)return this.set(c,this.$M+n);if(p===d)return this.set(d,this.$y+n);if(p===s)return v(1);if(p===u)return v(7);var y=(f={},f[o]=e,f[a]=r,f[i]=t,f)[p]||1,m=this.$d.getTime()+n*y;return O.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=t||"YYYY-MM-DDTHH:mm:ssZ",i=O.z(this),o=this.$H,a=this.$m,s=this.$M,u=r.weekdays,c=r.months,l=function(t,r,i,o){return t&&(t[r]||t(e,n))||i[r].slice(0,o)},d=function(t){return O.s(o%12||12,t,"0")},f=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:O.s(s+1,2,"0"),MMM:l(r.monthsShort,s,c,3),MMMM:l(c,s),D:this.$D,DD:O.s(this.$D,2,"0"),d:String(this.$W),dd:l(r.weekdaysMin,this.$W,u,2),ddd:l(r.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:O.s(o,2,"0"),h:d(1),hh:d(2),a:f(o,a,!0),A:f(o,a,!1),m:String(a),mm:O.s(a,2,"0"),s:String(this.$s),ss:O.s(this.$s,2,"0"),SSS:O.s(this.$ms,3,"0"),Z:i};return n.replace(v,(function(t,e){return e||p[t]||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,f,h){var p,v=O.p(f),y=S(n),m=(y.utcOffset()-this.utcOffset())*e,g=this-y,x=O.m(this,y);return x=(p={},p[d]=x/12,p[c]=x,p[l]=x/3,p[u]=(g-m)/6048e5,p[s]=(g-m)/864e5,p[a]=g/r,p[o]=g/e,p[i]=g/t,p)[v]||g,h?x:O.a(x)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return b[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=j(t,e,!0);return n&&(r.$L=n),r},m.clone=function(){return O.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},y}(),T=$.prototype;return S.prototype=T,[["$ms",n],["$s",i],["$m",o],["$H",a],["$W",s],["$M",c],["$y",d],["$D",f]].forEach((function(t){T[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,$,S),t.$i=!0),S},S.locale=j,S.isDayjs=w,S.unix=function(t){return S(1e3*t)},S.en=b[x],S.Ls=b,S.p={},S}()}({get exports(){return m},set exports(t){m=t}});var g=m,x={};!function(t,e){t.exports=function(t,e,r){var n=function(t,e){if(!e||!e.length||!e[0]||1===e.length&&!e[0].length)return null;var r;1===e.length&&e[0].length>0&&(e=e[0]),r=e[0];for(var n=1;n<e.length;n+=1)e[n].isValid()&&!e[n][t](r)||(r=e[n]);return r};r.max=function(){var t=[].slice.call(arguments,0);return n("isAfter",t)},r.min=function(){var t=[].slice.call(arguments,0);return n("isBefore",t)}}}({get exports(){return x},set exports(t){x=t}});var b=x;function w(t){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(t)}function j(t){var e=function(t,e){if("object"!==w(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!==w(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===w(e)?e:String(e)}function S(t,e,r){return(e=j(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function $(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?O(Object(r),!0).forEach((function(e){S(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}g.extend(b);var T=function(){var t=e.useContext(d),r=e.useCallback((function(e){var r,n=null==(r=t.translations)?void 0:r[e];if(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.length?s(n,o):n}return e}),[t]);return $($({},t),{},{t:r})};function L(t,e,r,n,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void r(t)}s.done?e(u):Promise.resolve(u).then(n,i)}var _={},P={get exports(){return _},set exports(t){_=t}},M={};!function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}({get exports(){return M},set exports(t){M=t}}),function(t){var e=M.default;function r(){t.exports=r=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},i=Object.prototype,o=i.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function d(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,r){return t[e]=r}}function f(t,e,r,n){var i=e&&e.prototype instanceof v?e:v,o=Object.create(i.prototype),s=new _(n||[]);return a(o,"_invoke",{value:O(t,r,s)}),o}function h(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=f;var p={};function v(){}function y(){}function m(){}var g={};d(g,u,(function(){return this}));var x=Object.getPrototypeOf,b=x&&x(x(P([])));b&&b!==i&&o.call(b,u)&&(g=b);var w=m.prototype=v.prototype=Object.create(g);function j(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,r){function n(i,a,s,u){var c=h(t[i],t,a);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==e(d)&&o.call(d,"__await")?r.resolve(d.__await).then((function(t){n("next",t,s,u)}),(function(t){n("throw",t,s,u)})):r.resolve(d).then((function(t){l.value=t,s(l)}),(function(t){return n("throw",t,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(t,e){function o(){return new r((function(r,i){n(t,e,r,i)}))}return i=i?i.then(o,o):o()}})}function O(t,e,r){var n="suspendedStart";return function(i,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw o;return M()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=$(a,r);if(s){if(s===p)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=h(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function $(t,e){var r=e.method,n=t.iterator[r];if(void 0===n)return e.delegate=null,"throw"===r&&t.iterator.return&&(e.method="return",e.arg=void 0,$(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),p;var i=h(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,p;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function L(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function P(t){if(t){var e=t[u];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(o.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:M}}function M(){return{value:void 0,done:!0}}return y.prototype=m,a(w,"constructor",{value:m,configurable:!0}),a(m,"constructor",{value:y,configurable:!0}),y.displayName=d(m,l,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===y||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,d(t,l,"GeneratorFunction")),t.prototype=Object.create(w),t},n.awrap=function(t){return{__await:t}},j(S.prototype),d(S.prototype,c,(function(){return this})),n.AsyncIterator=S,n.async=function(t,e,r,i,o){void 0===o&&(o=Promise);var a=new S(f(t,e,r,i),o);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},j(w),d(w,l,"Generator"),d(w,u,(function(){return this})),d(w,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},n.values=P,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&o.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return a.type="throw",a.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),L(r),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var i=n.arg;L(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:P(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),p}},n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(P);var k=_(),C=k;try{regeneratorRuntime=k}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=k:Function("r","regeneratorRuntime = r")(k)}var N,E,D=function(){var t=e.useContext(h),r=t[0],n=t[1],i=e.useCallback((function(t,e){void 0===e&&(e=!1);var r=new URL(location.href);Object.entries(t).forEach((function(t){var e=t[0],n=t[1];r.searchParams.set(e,n)})),n(r),e?location.replace(r):history.replaceState(null,null,r)}),[n]);return{params:Object.fromEntries(r.searchParams),updateParams:i}},A=function(){var r=t.store.hooks.useApi().isFetching,i=e.useState(!1),o=i[0],a=i[1];return e.useEffect((function(){var t=function(){return a(!0)};return addEventListener("beforeunload",t),function(){return removeEventListener("beforeunload",t)}}),[]),(r||o)&&u.jsx("div",{className:"w-full h-full flex items-center justify-center top-0 left-0 z-9000 backdrop-filter backdrop-blur fixed","data-testid":"overlayLoader",children:u.jsx(n.Icon,{size:"xl",type:"loader"})})},R="vanguard.search",q={search:R,numberOfResults:R+".results",noResults:R+".noResults",addToCart:R+".addToCart",addToCartSuccess:R+".addToCartSuccess",addToCartError:R+".addToCartError",addToCartNotAvailable:R+".addToCartNotAvailable",configure:R+".configure",categories:R+".categories",resultsPerPage:R+".resultsPerPage",notAvailable:R+".result.notAvailable",ean:R+".ean",filters:R+".filters",showMore:R+".showMore",showLess:R+".showLess",clearAll:R+".clearAll"},I=function(t){var r=t.filter,i=T().t,o=D().updateParams,a=e.useState(!0),s=a[0],c=a[1],l=e.useState(!1),d=l[0],f=l[1],h=d?r.values:r.values.slice(0,5);return u.jsxs("div",{className:"space-y-2","data-testid":"filter",children:[u.jsxs("button",{className:"flex justify-between items-center mb-2 w-full hover:opacity-50",onClick:function(){c((function(t){return!t})),f(!1)},"data-testid":"expander",children:[u.jsx(n.Text,{type:"span",size:"sm",bold:!0,align:"left",children:r.name}),u.jsx(n.Icon,{size:"xs",type:s?"arrowup":"arrowdown",color:"tertiary"})]}),s&&u.jsxs(u.Fragment,{children:[h.map((function(t){return u.jsx("div",{className:"flex space-x-2","data-testid":"value",children:u.jsx(n.Checkbox,{checked:t.selected,onChange:function(){return o({queryKey:t.query.query.value,currentPage:"0"})},label:u.jsxs("div",{className:"space-x-0.5",children:[u.jsx(n.Text,{type:"span",children:t.name}),u.jsx(n.Text,{type:"span",size:"sm",color:"gray",children:"("+t.count+")"})]})})},t.code)})),r.values.length>5&&u.jsx(n.Button,{testid:"showMoreValues",onClick:function(){return f((function(t){return!t}))},size:"sm",variant:"text",children:i(d?q.showLess:q.showMore)})]})]})},z=function(){var r,i,o=D(),a=o.params,s=o.updateParams,c=t.store.api.search.useGetSearchResultsQuery(a).data,l=T().t,d=e.useState(!1),f=d[0],h=d[1],p=f?null==c?void 0:c.facets:null==c||null==(r=c.facets)?void 0:r.slice(0,10);return(null==p?void 0:p.length)>0&&u.jsxs("div",{className:"p-4 space-y-4","data-testid":"filters",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx(n.Text,{bold:!0,size:"lg",type:"h4",testid:"filtersLabel",children:l(q.filters)}),u.jsx(n.Button,{isDisabled:!a.queryKey,variant:"text",onClick:function(){return s({queryKey:""})},testid:"clearAll",children:l(q.clearAll)})]}),u.jsx("div",{className:"space-y-5",children:p.map((function(t){return u.jsx(I,{filter:t},t.priority)}))}),(null==c||null==(i=c.facets)?void 0:i.length)>10&&u.jsx("div",{className:"justify-center flex border-t pt-4",children:u.jsx(n.Button,{onClick:function(){return h(!f)},iconType:f?"minus":"plus",variant:"text",testid:"showMore",children:l(f?q.showLess:q.showMore)})})]})},B=function(){var e,r,i=D().params,o=t.store.api.search.useGetSearchResultsQuery(i),a=o.data,s=o.isSuccess,c=o.originalArgs,l=T().t;return u.jsx("div",{className:"h-8",children:s&&u.jsx(n.Text,{size:"sm",testid:"numberOfResults",children:(null==a||null==(e=a.products)?void 0:e.length)>0?l(q.numberOfResults,""+(null==a||null==(r=a.pagination)?void 0:r.totalResults),'"'+(null==c?void 0:c.searchText)+'"'):l(q.noResults,'"'+(null==c?void 0:c.searchText)+'"')})})},F=function(e,r){var n=T(),i=n.t,o=n.cartCode,a=t.store.hooks.useNotifications().notify,s=t.store.api.cart.useAddToCartMutation(),u=s[0],c=s[1].isLoading,l=function(){var t,n=(t=C.mark((function t(){return C.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u({cartCode:o,productCode:e.code,quantity:r}).unwrap();case 3:a("success",i(q.addToCartSuccess,e.code),"search.addToCartSuccess"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a("error",i(q.addToCartError,e.code),"search.addToCartError");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})),function(){var e=this,r=arguments;return new Promise((function(n,i){var o=t.apply(e,r);function a(t){L(o,n,i,a,s,"next",t)}function s(t){L(o,n,i,a,s,"throw",t)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return{handleAddToCart:l,isLoading:c,isDisabled:!0===e.sapBlocked||!1===e.purchasable||null!==e.minOrderQuantity&&r<e.minOrderQuantity||null!==e.maxOrderQuantity&&r<e.maxOrderQuantity}},Y=function(t){var e=t.product,r=t.quantity,i=T().t,o=F(e,r),a=o.handleAddToCart,s=o.isLoading,c=o.isDisabled;return u.jsx(n.Button,{testid:"addToCartButton",onClick:a,iconType:"cart",isDisabled:c,isLoading:s,children:i(q.addToCart)})},U=function(t){var e=t.product,r=T().t;return u.jsx(n.Button,{testid:"configureButton",iconType:"filter",onClick:function(){return window.location.href=y("/configure/default/product/"+e.code,"redirect")},children:r(q.configure)})},H=function(t){var r,i,o,a,s,c,l,d,f=t.product,h=T(),p=h.t,v=h.showAddToCart,m=e.useState((null==f?void 0:f.minOrderQuantity)||1),g=m[0],x=m[1],b=!1!==f.purchasable&&!0!==f.sapBlocked,w=!(null==f||!f.ean||null!=f&&f.configurable);return u.jsxs("li",{className:"grid grid-cols-12 gap-4 shadow rounded w-full bg-lighter relative p-2 mb-4","data-testid":"product",children:[u.jsx("div",{className:"col-span-full xl:col-span-4",children:u.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:space-y-0 md:space-x-2",children:[u.jsx(n.Image,{src:null==f||null==(r=f.thumbnails)||null==(i=r[0])?void 0:i.url,alt:null==f||null==(o=f.thumbnails)||null==(a=o[0])?void 0:a.altText,fullWidth:!1,className:"w-20 h-20 overflow-hidden flex-shrink-0"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx(n.Link,{href:y(null==f?void 0:f.url,"redirect"),testid:"name",children:f.name}),u.jsxs("div",{className:"flex space-x-2 items-center",children:[u.jsx(n.Chip,{testid:"materialNumber",background:"error",label:f.code.replace(/^0+/,"")}),w&&u.jsx(n.Text,{size:"sm",testid:"ean",children:p(q.ean)+": "+f.ean})]})]})]})}),u.jsx("div",{className:"col-span-full xl:col-span-4",children:u.jsx(n.Text,{testid:"description",children:(c=f.description,l=100,d=!1,void 0===c&&(c=""),void 0===d&&(d=!0),c.length<=l?c:d?c.substring(0,l)+"…":c.substring(0,c.substring(0,l+1).search(/\s+\S*$/))+"…")})}),u.jsx("div",{className:"col-span-6 xl:col-span-2",children:!f.configurable&&u.jsxs("div",{className:"inline-block text-center",children:[u.jsx(n.NumberInput,{value:g,onChange:x,onBlur:x,min:f.minOrderQuantity||1,testid:"quantity"}),u.jsx(n.Text,{size:"sm",testid:"unitName",children:null==f||null==(s=f.unit)?void 0:s.name})]})}),v&&u.jsx("div",{className:"col-span-6 xl:col-span-2 text-center",children:b?f.configurable?u.jsx(U,{product:f}):u.jsx(Y,{product:f,quantity:g}):u.jsx(n.Text,{bold:!0,testid:"notAvailable",children:p(q.notAvailable)})})]})},G=function(){var e,r,i,o=D(),a=o.params,s=o.updateParams,c=t.store.api.search.useGetSearchResultsQuery(a).data,l=T().t;return u.jsx("div",{className:"w-full h-full space-y-2","data-testid":"searchResults",children:(null==c||null==(e=c.products)?void 0:e.length)>0&&u.jsxs(u.Fragment,{children:[u.jsx("ul",{className:"relative","data-testid":"results",children:null==c||null==(r=c.products)?void 0:r.map((function(t){return u.jsx(H,{product:t},null==t?void 0:t.code)}))}),u.jsx("div",{className:"px-4",children:u.jsx(n.Pagination,{range:1,current:+a.currentPage+1,total:null==c||null==(i=c.pagination)?void 0:i.totalPages,onChange:function(t){return s({currentPage:""+(t-1)})},pageSize:+a.pageSize,pageSizeLabel:l(q.resultsPerPage),onPageSizeChange:function(t){return s({currentPage:"0",pageSize:""+t})}})})]})})};N={searchText:"",currentPage:"0",pageSize:"20",queryKey:""},E=new URL(location.href),Object.entries(N).forEach((function(t){var e=t[0],r=t[1];E.searchParams.has(e)||E.searchParams.set(e,r)})),history.replaceState(null,null,E);var Q=function(){return u.jsxs(u.Fragment,{children:[u.jsx(B,{}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsx("div",{className:"shadow w-full md:w-96 divide-y self-start grow-0",children:u.jsx(z,{})}),u.jsx("div",{className:"w-full",children:u.jsx(G,{})})]}),u.jsx(A,{})]})};!function(e,n){var i='[data-react-app="'+n+'"]:not([data-rendered])',o=document.querySelector(i);if(!o)throw new Error(i+" is missing");var a=document.createElement("div");o.appendChild(a),o.setAttribute("data-rendered","true"),r.render(function(e,r){return u.jsx(t.StoreProvider,{children:u.jsx(f,{appId:r,children:u.jsx(p,{children:u.jsx(e,{})})})})}(e,n),a)}((function(){return u.jsx(Q,{})}),"product-search")}));
