!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("@Apps/backbone"),require("react"),require("react-dom"),require("@dormakaba/vanguard"),require("classnames")):"function"==typeof define&&define.amd?define(["@Apps/backbone","react","react-dom","@dormakaba/vanguard","classnames"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).backbone,t.dormakaba.vendorReact["vendor/react"],t.dormakaba.vendorReact["vendor/react-dom"],t.DormakabaVanguard,t.dormakaba.vendorReact["vendor/classnames"])}(this,(function(t,e,r,n,o){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=i(e),a=i(o),u=function(t,e){return void 0===e&&(e=[]),t.replaceAll("{}",function(t){var e=0;return function(r){return""+t[e++]||r}}(e))},c=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,{exports:{}}),l={},d=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;function p(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}(function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map((function(t){return e[t]}));if("0123456789"!==n.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(t){o[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}})()&&Object.assign;var x=s.default,v=60103;if(l.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var m=Symbol.for;v=m("react.element"),l.Fragment=m("react.fragment")}var y=x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,g=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function b(t,e,r){var n,o={},i=null,s=null;for(n in void 0!==r&&(i=""+r),void 0!==e.key&&(i=""+e.key),void 0!==e.ref&&(s=e.ref),e)g.call(e,n)&&!w.hasOwnProperty(n)&&(o[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===o[n]&&(o[n]=e[n]);return{$$typeof:v,type:t,key:i,ref:s,props:o,_owner:y.current}}l.jsx=b,l.jsxs=b;c.exports=l;var j=e.createContext(null),S=function(t){var r=t.appId,n=t.children,o=t.defaultValue,i=void 0===o?{}:o,s=e.useMemo((function(){if(!r)return i;var t='[data-react-app="'+r+'"]',e=document.querySelector(t);if(!e)throw new Error(t+" is missing");var n=e.querySelector("script");return null!=n&&n.innerHTML?JSON.parse(n.innerHTML):i}),[r,i]);return c.exports.jsx(j.Provider,{value:s,children:n})};var $=function(t){return"/"+(null==(e=window.location.pathname.split("/").filter((function(t){return t})))?void 0:e[0])+"/"+(null==e?void 0:e[1])+t;var e},T=function(t,e){void 0===t&&(t=""),void 0===e&&(e="occ");var r="";switch(e){case"occ":r=function(t){var e="rootB2BUnit",r=new URL(t,"http://updateQueryParams");return r.searchParams.has(e)&&r.searchParams.delete(e),r.searchParams.append(e,"{rootB2BUnit}"),decodeURI(""+r.pathname+r.search)}(function(t){return"/dormakabacommercewebservices/v2"+t}(t));break;case"redirect":r=$(t)}return r},O=function(t){var e=t.text,r=t.amount,o=t.isSubitem,i=void 0!==o&&o;return c.exports.jsxs("div",{className:a.default("space-x-1 ml-3",{"ml-9":i}),children:[c.exports.jsx(n.Text,{type:"span",children:e}),c.exports.jsxs(n.Text,{type:"span",size:"sm",color:"gray",children:["(",r,")"]})]})},_=function(){return c.exports.jsxs("div",{className:"p-4","data-testid":"categories",children:[c.exports.jsx(n.Text,{bold:!0,size:"lg",children:"Categories"}),c.exports.jsxs("div",{className:"mt-4",children:[c.exports.jsx(O,{text:"Glasssysteme",amount:222}),c.exports.jsx(O,{text:"Türtechnik",amount:503}),c.exports.jsx(O,{text:"Sicherungtechnik",amount:270,isSubitem:!0}),c.exports.jsx(O,{text:"Beschlage",amount:30,isSubitem:!0}),c.exports.jsx(O,{text:"Türschließer",amount:233,isSubitem:!0}),c.exports.jsx(O,{text:"EAD",amount:111}),c.exports.jsx(O,{text:"Automatische Türsysteme",amount:4}),c.exports.jsx(O,{text:"Hotelzutrittsysteme",amount:33})]})]})},C=function(t){var e=t.text;return c.exports.jsxs("div",{className:"flex justify-between ml-3 mb-2",children:[c.exports.jsx(n.Text,{size:"sm",children:e}),c.exports.jsx(n.Icon,{type:"arrowdown",color:"tertiary"})]})},N=function(){return c.exports.jsxs("div",{className:"p-4","data-testid":"filters",children:[c.exports.jsx(n.Text,{bold:!0,size:"lg",children:"Filters"}),c.exports.jsxs("div",{className:"mt-4",children:[c.exports.jsx(C,{text:"Tür"}),c.exports.jsx(C,{text:"Dornmass"}),c.exports.jsx(C,{text:"Preis"})]})]})},k=function(t){var e=t.text;return c.exports.jsx("div",{className:"flex border bg-gray-100 rounded-lg px-2 py-1",children:e})},L=function(){return c.exports.jsxs("div",{className:"flex space-x-3 px-4 py-2 overflow-hidden shadow mb-4","data-testid":"navigation",children:[c.exports.jsx(k,{text:"Glasssysteme"}),c.exports.jsx(k,{text:"Türtechnik"}),c.exports.jsx(k,{text:"EAD"}),c.exports.jsx(k,{text:"Automatische Türsysteme"}),c.exports.jsx(k,{text:"Hotelzutrittsysteme"})]})},M=function(){return e.useContext(j)},D=function(){var t=M().translations,r=e.useCallback((function(e){var r=null==t?void 0:t[e];if(r){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return o.length?u(r,o):r}return e}),[t]);return{t:r}};function E(t,e,r,n,o,i,s){try{var a=t[i](s),u=a.value}catch(t){return void r(t)}a.done?e(u):Promise.resolve(u).then(n,o)}var P={exports:{}},R={exports:{}};!function(t){function e(r){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(R),function(t){var e=R.exports.default;function r(){t.exports=r=function(){return n},t.exports.__esModule=!0,t.exports.default=t.exports;var n={},o=Object.prototype,i=o.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function l(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),s=new O(n||[]);return i._invoke=function(t,e,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=S(s,r);if(a){if(a===h)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=f(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,s),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}n.wrap=d;var h={};function p(){}function x(){}function v(){}var m={};l(m,a,(function(){return this}));var y=Object.getPrototypeOf,g=y&&y(y(_([])));g&&g!==o&&i.call(g,a)&&(m=g);var w=v.prototype=p.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,r){function n(o,s,a,u){var c=f(t[o],t,s);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==e(d)&&i.call(d,"__await")?r.resolve(d.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):r.resolve(d).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(c.arg)}var o;this._invoke=function(t,e){function i(){return new r((function(r,o){n(t,e,r,o)}))}return o=o?o.then(i,i):i()}}function S(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,S(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var n=f(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,h;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function $(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach($,this),this.reset(!0)}function _(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,n=function e(){for(;++r<t.length;)if(i.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:C}}function C(){return{value:void 0,done:!0}}return x.prototype=v,l(w,"constructor",v),l(v,"constructor",x),x.displayName=l(v,c,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,l(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},n.awrap=function(t){return{__await:t}},b(j.prototype),l(j.prototype,u,(function(){return this})),n.AsyncIterator=j,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var s=new j(d(t,e,r,o),i);return n.isGeneratorFunction(e)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},b(w),l(w,c,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},n.values=_,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(r,n){return s.type="throw",s.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n],s=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var a=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;T(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},n}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(P);var A=P.exports(),F=A;try{regeneratorRuntime=A}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=A:Function("r","regeneratorRuntime = r")(A)}var I="vanguard.search",H={search:I,searchHint:I+".hint",numberOfResults:I+".numberOfResults",noResults:I+".noResults",addToCart:I+".addToCart",addToCartSuccess:I+".addToCartSuccess",addToCartError:I+".addToCartError",addToCartNotAvailable:I+".addToCartNotAvailable",configure:I+".configure"},Q=e.createContext(null),q=function(r){var n,o,i,s,a=r.children,u=e.useState(new URLSearchParams(window.location.search).get("query")||""),l=u[0],d=u[1],f=t.store.api.search.useLazyGetSearchResultsQuery(),h=f[0],p=f[1],x=p.data,v=p.isFetching,m=p.isSuccess,y=p.originalArgs;return n=function(){var t=new URLSearchParams(window.location.search);t.set("query",l),window.history.replaceState(null,null,"?"+t.toString()),h({searchQuery:l})},o=500,i=[l],s=e.useRef(!0),e.useEffect((function(){if(!s.current){if(!o)return void n();var t=setTimeout((function(){return n()}),o);return function(){return clearTimeout(t)}}s.current=!1}),[].concat(i,[o])),c.exports.jsx(Q.Provider,{value:{handleSearchButtonClick:function(){return h({searchQuery:l})},handleSearchQueryChange:function(t){return d(t)},searchQuery:l,lastSearchQuery:(null==y?void 0:y.searchQuery)||" ",searchResults:(null==x?void 0:x.products)||[],isFetching:v,isSuccess:m},children:a})},z=function(){return e.useContext(Q)},B=function(){var t=D().t,e=z(),r=e.handleSearchQueryChange,o=e.handleSearchButtonClick,i=e.searchQuery,s=e.isFetching;return c.exports.jsxs("div",{className:"flex","data-testid":"searchBar",children:[c.exports.jsx(n.TextInput,{placeholder:t(H.searchHint),value:i,onChange:function(t){return r(t.target.value)},className:"w-full md:w-1/2"}),c.exports.jsx(n.Button,{iconType:"search",onClick:o,isDisabled:s})]})};!function(t,e){t.exports=function(){var t=1e3,e=6e4,r=36e5,n="millisecond",o="second",i="minute",s="hour",a="day",u="week",c="month",l="quarter",d="year",f="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},m=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},y={s:m,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),o=r%60;return(e<=0?"+":"-")+m(n,2,"0")+":"+m(o,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),o=e.clone().add(n,c),i=r-o<0,s=e.clone().add(n+(i?-1:1),c);return+(-(n+(r-o)/(i?o-s:s-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:d,w:u,d:a,D:f,h:s,m:i,s:o,ms:n,Q:l}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",w={};w[g]=v;var b=function(t){return t instanceof T},j=function t(e,r,n){var o;if(!e)return g;if("string"==typeof e){var i=e.toLowerCase();w[i]&&(o=i),r&&(w[i]=r,o=i);var s=e.split("-");if(!o&&s.length>1)return t(s[0])}else{var a=e.name;w[a]=e,o=a}return!n&&o&&(g=o),o||!n&&g},S=function(t,e){if(b(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new T(r)},$=y;$.l=j,$.i=b,$.w=function(t,e){return S(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var T=function(){function v(t){this.$L=j(t.locale,null,!0),this.parse(t)}var m=v.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if($.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(p);if(n){var o=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],o,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return $},m.isValid=function(){return!(this.$d.toString()===h)},m.isSame=function(t,e){var r=S(t);return this.startOf(e)<=r&&r<=this.endOf(e)},m.isAfter=function(t,e){return S(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<S(t)},m.$g=function(t,e,r){return $.u(t)?this[e]:this.set(r,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var r=this,n=!!$.u(e)||e,l=$.p(t),h=function(t,e){var o=$.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?o:o.endOf(a)},p=function(t,e){return $.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},x=this.$W,v=this.$M,m=this.$D,y="set"+(this.$u?"UTC":"");switch(l){case d:return n?h(1,0):h(31,11);case c:return n?h(1,v):h(0,v+1);case u:var g=this.$locale().weekStart||0,w=(x<g?x+7:x)-g;return h(n?m-w:m+(6-w),v);case a:case f:return p(y+"Hours",0);case s:return p(y+"Minutes",1);case i:return p(y+"Seconds",2);case o:return p(y+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var r,u=$.p(t),l="set"+(this.$u?"UTC":""),h=(r={},r[a]=l+"Date",r[f]=l+"Date",r[c]=l+"Month",r[d]=l+"FullYear",r[s]=l+"Hours",r[i]=l+"Minutes",r[o]=l+"Seconds",r[n]=l+"Milliseconds",r)[u],p=u===a?this.$D+(e-this.$W):e;if(u===c||u===d){var x=this.clone().set(f,1);x.$d[h](p),x.init(),this.$d=x.set(f,Math.min(this.$D,x.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[$.p(t)]()},m.add=function(n,l){var f,h=this;n=Number(n);var p=$.p(l),x=function(t){var e=S(h);return $.w(e.date(e.date()+Math.round(t*n)),h)};if(p===c)return this.set(c,this.$M+n);if(p===d)return this.set(d,this.$y+n);if(p===a)return x(1);if(p===u)return x(7);var v=(f={},f[i]=e,f[s]=r,f[o]=t,f)[p]||1,m=this.$d.getTime()+n*v;return $.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||h;var n=t||"YYYY-MM-DDTHH:mm:ssZ",o=$.z(this),i=this.$H,s=this.$m,a=this.$M,u=r.weekdays,c=r.months,l=function(t,r,o,i){return t&&(t[r]||t(e,n))||o[r].slice(0,i)},d=function(t){return $.s(i%12||12,t,"0")},f=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},p={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:$.s(a+1,2,"0"),MMM:l(r.monthsShort,a,c,3),MMMM:l(c,a),D:this.$D,DD:$.s(this.$D,2,"0"),d:String(this.$W),dd:l(r.weekdaysMin,this.$W,u,2),ddd:l(r.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:$.s(i,2,"0"),h:d(1),hh:d(2),a:f(i,s,!0),A:f(i,s,!1),m:String(s),mm:$.s(s,2,"0"),s:String(this.$s),ss:$.s(this.$s,2,"0"),SSS:$.s(this.$ms,3,"0"),Z:o};return n.replace(x,(function(t,e){return e||p[t]||o.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(n,f,h){var p,x=$.p(f),v=S(n),m=(v.utcOffset()-this.utcOffset())*e,y=this-v,g=$.m(this,v);return g=(p={},p[d]=g/12,p[c]=g,p[l]=g/3,p[u]=(y-m)/6048e5,p[a]=(y-m)/864e5,p[s]=y/r,p[i]=y/e,p[o]=y/t,p)[x]||y,h?g:$.a(g)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return w[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=j(t,e,!0);return n&&(r.$L=n),r},m.clone=function(){return $.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},v}(),O=T.prototype;return S.prototype=O,[["$ms",n],["$s",o],["$m",i],["$H",s],["$W",a],["$M",c],["$y",d],["$D",f]].forEach((function(t){O[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),S.extend=function(t,e){return t.$i||(t(e,T,S),t.$i=!0),S},S.locale=j,S.isDayjs=b,S.unix=function(t){return S(1e3*t)},S.en=w[g],S.Ls=w,S.p={},S}()}({exports:{}});var Y,U,G="vanguard.cart.ean",W=function(t){var e,r,o,i,s=t.product,a=t.files,u=t.additionalContent,l=t.onFileDelete,d=D().t,f=!(null==s||!s.ean||null!=s&&s.configurable);return c.exports.jsxs("div",{className:"flex flex-col space-y-4 md:flex-row md:space-y-0 md:space-x-2",children:[c.exports.jsx(n.Image,{src:null==s||null==(e=s.thumbnails)||null==(r=e[0])?void 0:r.url,alt:null==s||null==(o=s.thumbnails)||null==(i=o[0])?void 0:i.altText,fullWidth:!1,className:"w-20 h-20 overflow-hidden flex-shrink-0"}),c.exports.jsxs("div",{className:"space-y-1",children:[c.exports.jsx(n.Link,{href:T(null==s?void 0:s.url,"redirect"),testid:"name",children:s.name}),c.exports.jsxs("div",{className:"flex space-x-2 items-center",children:[c.exports.jsx("div",{className:"bg-secondarypalette-700 px-2 rounded-md",children:c.exports.jsx(n.Text,{type:"span",color:"white",size:"sm",testid:"materialNumber",children:s.code.replace(/^0+/,"")})}),f&&c.exports.jsx(n.Text,{size:"sm",testid:"ean",children:d(G)+": "+s.ean})]}),c.exports.jsx("div",{className:"flex flex-wrap","data-testid":"uploadedFiles",children:null==a?void 0:a.map((function(t){return c.exports.jsx(n.Chip,{label:t.realFileName,onDelete:function(){return l(t.code)},onClick:function(){return window.open(t.url,"_blank")},className:"mr-1 mt-1"},t.code)}))}),u]})]})};!function(t){t.Copy="copy",t.Move="move"}(Y||(Y={})),function(t){t.private="private",t.public="public"}(U||(U={}));var J=navigator.userAgent.includes("Firefox"),V=function(e){var r=e.fixed,o=void 0===r||r;return t.store.hooks.useIsFetching()&&c.exports.jsx("div",{className:a.default("w-full h-full flex items-center justify-center top-0 left-0 z-10 backdrop-filter backdrop-blur",{"bg-gray-200 opacity-60":J},o?"fixed":"absolute"),"data-testid":"overlayLoader",children:c.exports.jsx(n.Icon,{size:"xl",type:"loader"})})},Z=function(e,r){var n=M().cartCode,o=t.store.hooks.useNotifications().notify,i=D().t,s=t.store.api.cart.useAddToCartMutation(),a=s[0],u=s[1].isLoading,c=function(){var t,s=(t=F.mark((function t(){return F.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a({cartCode:n,productCode:e.code,quantity:r}).unwrap();case 3:o("success",i(H.addToCartSuccess,e.code),"search.addToCartSuccess"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),o("error",i(H.addToCartError,e.code),"search.addToCartError");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})),function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function s(t){E(i,n,o,s,a,"next",t)}function a(t){E(i,n,o,s,a,"throw",t)}s(void 0)}))});return function(){return s.apply(this,arguments)}}();return{handleAddToCart:c,isLoading:u,isDisabled:!0===e.sapBlocked||!1===e.purchasable||null!==e.minOrderQuantity&&r<e.minOrderQuantity||null!==e.maxOrderQuantity&&r<e.maxOrderQuantity||u}},K=function(t){var e=t.product,r=t.quantity,o=D().t,i=Z(e,r),s=i.handleAddToCart,a=i.isLoading,u=i.isDisabled;return c.exports.jsx(n.Button,{testid:"addToCartButton",onClick:s,iconType:"cart",variant:"outlined",isDisabled:u,isLoading:a,children:o(H.addToCart)})},X=function(t){var e=t.product,r=D().t;return c.exports.jsx(n.Button,{testid:"configureButton",variant:"outlined",iconType:"filter",onClick:function(){return window.location.href=T("/configure/default/product/"+e.code,"redirect")},children:r(H.configure)})},tt=function(t){var r=t.product,o=M().showAddToCart,i=e.useState((null==r?void 0:r.minOrderQuantity)||1),s=i[0],a=i[1];return c.exports.jsxs("li",{className:"grid grid-cols-12 gap-4 shadow rounded w-full bg-lighter relative p-2","data-testid":"product",children:[c.exports.jsx("div",{className:"col-span-full xl:col-span-4",children:c.exports.jsx(W,{product:r})}),c.exports.jsx("div",{className:"col-span-full xl:col-span-4",children:c.exports.jsx(n.Text,{size:"sm",testid:"description",children:r.description})}),c.exports.jsx("div",{className:"col-span-6 xl:col-span-2",children:c.exports.jsx(n.NumberInput,{value:s,onChange:a,min:r.minOrderQuantity||1,testid:"quantity"})}),c.exports.jsx("div",{className:"col-span-6 xl:col-span-2",children:o&&(r.configurable?c.exports.jsx(X,{product:r}):c.exports.jsx(K,{product:r,quantity:s}))})]})},et=function(){var t=z(),e=t.searchResults,r=t.lastSearchQuery,o=t.isSuccess,i=D().t;return c.exports.jsxs("div",{className:"relative w-full mt-8 p-1 space-y-4","data-testid":"searchResults",children:[o&&c.exports.jsx(n.Text,{size:"sm",testid:"numberOfResults",children:e.length>0?i(H.numberOfResults,""+e.length,r):i(H.noResults,r)}),e.length>0&&c.exports.jsx("ul",{className:"space-y-4 mt-4","data-testid":"results",children:e.map((function(t){return c.exports.jsx(tt,{product:t},null==t?void 0:t.code)}))}),c.exports.jsx(V,{fixed:!1})]})},rt=function(){return c.exports.jsxs(c.exports.Fragment,{children:[c.exports.jsx(L,{}),c.exports.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start",children:[c.exports.jsxs("div",{className:"shadow w-full md:w-64",children:[c.exports.jsx(_,{}),c.exports.jsx(N,{})]}),c.exports.jsxs("div",{className:"w-full",children:[c.exports.jsx(B,{}),c.exports.jsx(et,{})]})]})]})};!function(e,n){var o='[data-react-app="'+n+'"]',i=document.querySelector(o);if(!i)throw new Error(o+" is missing");var s=document.createElement("div");i.appendChild(s),r.render(function(e,r){return c.exports.jsx(t.StoreProvider,{children:c.exports.jsx(S,{appId:r,children:c.exports.jsx(e,{})})})}(e,n),s)}((function(){return c.exports.jsx(q,{children:c.exports.jsx(rt,{})})}),"product-search")}));
